html, body {
  box-sizing: border-box;
  background: black;
  font-family: Avenir, Montserrat, Corbel, "URW Gothic", source-sans-pro, sans-serif;
  font-weight: normal;
  overflow-x: hidden;
}

main {
  max-width: 90vw;
  max-height: 80vh;
  aspect-ratio: 1/1;
  margin: calc(2 * var(--tile-size)) auto;

  --tile-size: min(calc(90vw / 16), calc(80vh / 16));
  --tile-front: #f4f0eb;
  --tile-front-side: #eee4d8;
  --tile-back: #f0974c;
  --tile-back-side: #f0974c;
  position: relative;
  z-index: 1;
}
main::before {
  content: "";
  position: absolute;
  top: calc(-0.5 * var(--tile-size));
  left: calc(-0.5 * var(--tile-size));
  background: #0f6f2f;
  border-radius: calc(0.25 * var(--tile-size));
  width: calc(100% + var(--tile-size));
  height: calc(100% + var(--tile-size));
  z-index: -1;
}
main div#container {
  width: 100%;
  height: 100%;
  position: absolute;
  z-index: -1;
  display: flex;
}
main div.messages-container {
  width: min(50%, calc(40vw - 20% - 0.5 * var(--tile-size)));
  height: calc(100% + var(--tile-size));
  position: absolute;
  top: calc(-0.5 * var(--tile-size));
  display: flex;
}
main div.messages-container > div.messages {
  position: absolute;
  background: #3f3f3f;
  border-radius: calc(0.25 * var(--tile-size));
  color: white;
  width: 100%;
  height: 100%;
  white-space: wrap;
  border: none;
  display: flex;
  flex-direction: column-reverse;
  overflow-y: auto;
  padding: 0.5rem;
  box-sizing: border-box;
}
main div.messages-container > div.messages span.bold {
  font-weight: 800;
}
/* landscape */
@media (min-aspect-ratio: 1.2/1) {
  main::before {
    left: calc(-20% + -0.5 * var(--tile-size));
  }
  main div#container {
    left: -20%;
  }
  main div.messages-container {
    left: calc(100% + var(--tile-size));
  }
}
/* portrait (mobile) */
@media (max-aspect-ratio: 1.2/1) {
  main {
    max-height: 60vh;
    --tile-size: min(calc(90vw / 16), calc(60vh / 16));
  }
  /* CSS rules for viewports where the height is greater than the width */
  main div.messages-container {
    left: calc(-0.5 * var(--tile-size));
    top: calc(100% + 1.25 * var(--tile-size));
    width: calc(100% + var(--tile-size));
    height: max(10rem, calc(100vh - 100% - 4 * var(--tile-size)));
  }
}

/* hands */
div.hand, div.tiles, div.calls, div.call, div.draws, div.buttons, div.call-buttons, button.call-button {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: flex-end;
  position: relative;
}
div.hand {
  position: absolute;
  transform-style: preserve-3d;
  width: 100%;
}
div.self { z-index: 1; } /* your stuff goes above other people's stuff */
div.hand, div.draws { z-index: 2; } /* so if they overlap with calls, the hand goes on top */
div.hand.self, div.draws.self { z-index: 3; } /* your stuff goes above other people's stuff */
div.tiles {
  margin-left: calc(2 * var(--tile-size));
}
div.calls {
  position: absolute;
  flex-direction: row-reverse;
  right: 0;
  z-index: -1;
}
div.call, div.draws, div.winning-tile-container {
  margin-left: calc(0.375 * var(--tile-size));
}
div.winning-tile-container {
  position: relative;
}
div.winning-tile-text {
  text-align: center;
  position: absolute;
  width: 500%;
  font-size: calc(0.4 * var(--tile-size));
  top: calc(-0.75 * var(--tile-size));
  left: -200%;
  color: white;
}
div.hand.self {
  bottom: 0;
}
div.hand.self > div.tiles > div.tile,
div.hand.self > div.draws > div.tile {
  cursor: pointer;
}
div.hand.shimocha {
  right: var(--tile-size);
  transform: rotate(270deg);
  transform-origin: top right;
}
div.hand.toimen {
  top: 0;
  transform: rotate(180deg);
}
div.hand.kamicha {
  left: var(--tile-size);
  transform: rotate(90deg);
  transform-origin: top left;
}
div.draws::before {
  content: "";
  position: absolute;
  top: calc(-0.25 * var(--tile-size));
  left: calc(-0.25 * var(--tile-size));
  background: #0f6f2f;
  border-radius: calc(0.25 * var(--tile-size));
  width: calc(100% + 0.5 * var(--tile-size));
  height: calc(100% + 0.5 * var(--tile-size));
  z-index: -100;
}
div.calls:hover { z-index: 100; }
div.tiles:hover::before, div.calls:hover::before {
  content: "";
  position: absolute;
  top: calc(-0.625 * var(--tile-size));
  left: calc(-0.125 * var(--tile-size));
  background: #0f6f2f;
  border-radius: calc(0.25 * var(--tile-size));
  width: calc(100% + 0.5 * var(--tile-size));
  height: calc(100% + 1 * var(--tile-size));
}
/* toimen's hand covers shimo's calls */
/* but if we lower its z-index, then toimen's calls are covered by kami */
/* best way to make shimo's discards clickable is to z-fight */
div.hand.toimen:hover { z-index: -1; }
/* shimo uses negative z-index so we need to do some weirdness */
div.hand.shimocha div.tiles:hover::before,
div.hand.shimocha div.calls:hover::before { z-index: -20; }
div.hand.shimocha div.tiles:hover ~ div.calls { z-index: -40; }
div.tile.highlight {
  --tile-brightness: 80%;
  --tile-saturate: 100%;
}
/* ponds */
div.pond {
  display: flex;
  flex-flow: row wrap;
  /*flex-direction: row;*/
  justify-content: left;
  align-content: flex-start;
  align-items: flex-start;
  position: absolute;
  transform-style: preserve-3d;
  width: calc(100% - 5 * var(--tile-size));
  height: calc(3 * var(--tile-size));
  transform-origin: calc(2.375 * var(--tile-size)) calc(-2.625 * var(--tile-size));
  overflow: visible;
  z-index: -1;
}
div.pond::before, div.pond::after { content: ""; width: 100%; order: 1; }
.pond > .tile { order: 0; z-index: 2; }
.pond > .tile:nth-child(n+7) { order: 1; z-index: 1; }
.pond > .tile:nth-child(n+13) { order: 2; z-index: 0; }
div.pond.self {
  left: calc(50% - (2.375 * var(--tile-size)));
  top: calc(50% + (2.125 * var(--tile-size)));
  z-index: 3; /* above compass */
}
div.pond.shimocha {
  transform: rotate(270deg);
  left: calc(50% - (2.625 * var(--tile-size)));
  top: calc(50% + (2.375 * var(--tile-size)));
}
div.pond.toimen {
  transform: rotate(180deg);
  left: calc(50% - (2.375 * var(--tile-size)));
  top: calc(50% + (2.625 * var(--tile-size)));
  z-index: 1; /* below compass */
}
div.pond.kamicha {
  transform: rotate(90deg);
  left: calc(50% - (2.125 * var(--tile-size)));
  top: calc(50% + (2.375 * var(--tile-size)));
}
div.pond > div.tile.sideways { transform: translateY(calc(-0.25 * var(--tile-size))); }
div.pond.highlight div.tile:last-child {
  --tile-brightness: 80%;
  --tile-saturate: 100%;
}
/* compass */
div.compass {
  position: relative;
  width: calc(4.75 * var(--tile-size));
  height: calc(4.75 * var(--tile-size));
  left: calc(50% - (2.375 * var(--tile-size)));
  top: calc(50% - (2.625 * var(--tile-size)));
  transform-origin: 50% 50%;
  user-select: none;
  z-index: 2;
}
div.compass > div.score-box { border-style: ridge; }
div.compass::before {
  position: absolute;
  content: "";
  width: 100%;
  height: 100%;
  background: gray;
  border-radius: calc(0.25 * var(--tile-size));
  z-index: -2;
  filter: drop-shadow(0 calc(var(--tile-size) / 4) 0 #3F3F3F);
}
div.compass > div.score-box {
  position: absolute;
  width: 0;
  height: 0;
  left: calc(50% - (1.125 * var(--tile-size)));
  top: calc(50% - (1.125 * var(--tile-size)));
  border-radius: calc(0.25 * var(--tile-size));
  border-width: calc(1.125 * var(--tile-size));
  border-color: lightgray;
  z-index: -1;
}
div.compass > div.direction {
  position: absolute;
  width: 100%;
  height: 50%;
  top: 50%;
  transform-origin: 50% 0%;
}
div.compass.east > div.direction.east {transform: rotate(0deg); }
div.compass.east > div.direction.south { transform: rotate(270deg); }
div.compass.east > div.direction.west { transform: rotate(180deg); }
div.compass.east > div.direction.north { transform: rotate(90deg); }
div.compass.south > div.direction.east { transform: rotate(90deg); }
div.compass.south > div.direction.south { transform: rotate(0deg); }
div.compass.south > div.direction.west { transform: rotate(270deg); }
div.compass.south > div.direction.north { transform: rotate(180deg); }
div.compass.west > div.direction.east { transform: rotate(180deg); }
div.compass.west > div.direction.south { transform: rotate(90deg); }
div.compass.west > div.direction.west { transform: rotate(0deg); }
div.compass.west > div.direction.north { transform: rotate(270deg); }
div.compass.north > div.direction.east { transform: rotate(270deg); }
div.compass.north > div.direction.south { transform: rotate(180deg); }
div.compass.north > div.direction.west { transform: rotate(90deg); }
div.compass.north > div.direction.north { transform: rotate(0deg); }
div.compass > div.direction > div.riichi-tray {
  position: absolute;
  width: calc(2.25 * var(--tile-size));
  height: calc(0.625 * var(--tile-size));
  bottom: calc(0.3125 * var(--tile-size));
  left: calc(50% - (1.125 * var(--tile-size)));
  border-radius: calc(0.25 * var(--tile-size));
  background: darkgray;
}
div.compass > div.direction > div.riichi-tray.highlighted {
  background: var(--tile-back);
}
div.compass > div.direction > div.riichi-tray.riichi::before {
  content: "";
  position: absolute;
  width: calc(2 * var(--tile-size));
  height: calc(0.2 * var(--tile-size));
  border-radius: calc(0.0625 * var(--tile-size));
  left: calc(50% - (1 * var(--tile-size)));
  bottom: calc(50% - (0.1 * var(--tile-size)));
  background: white;
}
div.compass > div.direction > div.riichi-tray.riichi::after {
  content: "";
  position: absolute;
  width: calc(0.1 * var(--tile-size));
  height: calc(0.1 * var(--tile-size));
  border-radius: 50%;
  left: calc(50% - (0.05 * var(--tile-size)));
  bottom: calc(50% - (0.05 * var(--tile-size)));
  background: red;
}
div.compass > div.direction > div.wind-marker {
  position: absolute;
  font-size: calc(0.75 * var(--tile-size));
  color: var(--tile-front);
  width: var(--tile-size);
  height: var(--tile-size);
  bottom: calc(0.125 * var(--tile-size));
  right: calc(-0.0625 * var(--tile-size));
}
div.compass > div.direction > div.wind-marker.highlighted {
  color: var(--tile-back);
}
div.compass > div.direction > div.wind-marker.bot,
div.compass > div.direction > div.wind-marker.highlighted.bot {
  color: #FF7F7F;
}
div.compass > div.direction > div.score-counter {
  position: absolute;
  text-align: center;
  width: calc(1.25 * var(--tile-size));
  height: calc(0.4 * var(--tile-size));
  font-size: calc(0.32 * var(--tile-size));
  color: var(--tile-back);
  background: black;
  left: calc(50% - (0.625 * var(--tile-size)));
  bottom: calc(50% + (0.25 * var(--tile-size)));
  border-radius: calc(0.25 * var(--tile-size));
}

div.compass > div.centerpiece {
  position: relative;
  text-align: center;
  width: calc(1 * var(--tile-size));
  height: calc(1 * var(--tile-size));
  font-size: calc(0.5 * var(--tile-size));
  color: black;
  left: calc(50% - (0.5 * var(--tile-size)));
  top: calc(50% - (0.5 * var(--tile-size)));
  z-index: 1;
  color: white;
  transform-origin: 50% 50%;
}
div.compass > div.centerpiece::before {
  position: absolute;
  content: "";
  width: calc(1.1 * var(--tile-size));
  height: calc(1.1 * var(--tile-size));
  background: #0000007F;
  left: calc(50% - (0.55 * var(--tile-size)));
  top: calc(50% - (0.55 * var(--tile-size)));
  z-index: -1;
}
div.compass > div.centerpiece > div.tiles-left:last-child {
  transform: translateY(calc(0.2 * var(--tile-size)));
}
div.centerpiece > div.riichi-stick-counter,
div.centerpiece > div.honba-counter {
  position: absolute;
  font-size: calc(0.25 * var(--tile-size));
  left: calc(0.075 * var(--tile-size));
  right: calc(0.075 * var(--tile-size));
  width: calc(100% - 0.15 * var(--tile-size));
  display: grid;
  grid-template-columns: 1fr min-content;
  justify-content: flex-end;
  align-items: center;
  column-gap: calc(0.1 * var(--tile-size));
}
div.centerpiece > div.riichi-stick-counter { bottom: calc(0.2 * var(--tile-size)); }
div.centerpiece > div.honba-counter { bottom: calc(-0.05 * var(--tile-size)); }
div.centerpiece > div.riichi-stick-counter::before,
div.centerpiece > div.riichi-stick-counter::after,
div.centerpiece > div.honba-counter::before,
div.centerpiece > div.honba-counter::after {
  content: "";
  grid-column: 0;
}
div.centerpiece > div.riichi-stick-counter::before,
div.centerpiece > div.honba-counter::before {
  width: 100%;
  height: calc(0.16 * var(--tile-size));
  border-radius: calc(0.08 * var(--tile-size));
  background: white;
  z-index: 1;
}
div.centerpiece > div.riichi-stick-counter::after,
div.centerpiece > div.honba-counter::after {
  font-family: Arial;
  font-size: calc(0.3 * var(--tile-size));
  height: 0;
  margin: auto;
  z-index: 2;
}
div.centerpiece > div.riichi-stick-counter::after {
  content: "•";
  transform: translateY(calc(-0.34 * var(--tile-size)));
  color: red;
}
div.centerpiece > div.honba-counter::after {
  content: "⣿";
  transform: translateY(calc(-0.37 * var(--tile-size))) rotate(90deg);
  transform-origin: 50% calc(0.2 * var(--tile-size));
  color: #182890;
}
/* sometimes the compass duplicates itself, remove the duplicate */
div.compass ~ div.compass {
  display: none;
}


/* corner info */
div.corner-info {
  position: absolute;
  text-align: center;
  background: #0000000F;
  color: #FFFFFF3F;
  border-radius: calc(0.25 * var(--tile-size));
  transform-origin: calc(-2.5 * var(--tile-size)) calc(-2.5 * var(--tile-size));
  width: calc(3 * var(--tile-size));
  height: calc(3 * var(--tile-size));
  left: calc(50% + 2.5 * var(--tile-size));
  top: calc(50% + 2.5 * var(--tile-size));
  font-size: calc(0.5 * var(--tile-size));
  padding-top: calc(1.5 * var(--tile-size) - 0.75em);
  box-sizing: border-box;
  z-index: 4;
  user-select: none;
}
div.corner-info:hover { z-index: 5; } /* hovered corner should cover other corners */
div.corner-info.shimocha { transform: rotate(270deg); }
div.corner-info.toimen { transform: rotate(180deg); }
div.corner-info.kamicha { transform: rotate(90deg); }
div.corner-info > div.round-marker {
  position: absolute;
  border-radius: calc(0.25 * var(--tile-size));
  font-size: calc(0.55 * var(--tile-size));
  background: var(--tile-back);
  color: var(--tile-front);
  filter: drop-shadow(0 calc(var(--tile-size) / 16) 0 var(--tile-back-side))
          drop-shadow(0 calc(var(--tile-size) / 16) 0 var(--tile-front-side));
  width: calc(1.5 * var(--tile-size));
  height: calc(0.75 * var(--tile-size));
  right: calc(-1 * var(--tile-size));
  bottom: calc(-0.125 * var(--tile-size));
}

/* tiles */
div.tile {
  --tile-width: calc(0.75 * var(--tile-size));
  --tile-height: calc(1 * var(--tile-size));
  --border-width: 0px;
  --num-tiles: 140;
  border: var(--border-width) solid var(--tile-back);
  width: var(--tile-width);
  height: var(--tile-height);
  background: url("/images/tiles.png") no-repeat;
  background-size: auto calc(var(--num-tiles) * var(--tile-size));
  background-position-x: 0;
  background-position-y: 0;
  flex-shrink: 0;
  box-sizing: border-box;
}
div.tile::after {
  content: "";
  position: absolute;
  bottom: 0;
  --shadow-width: calc(0.95 * var(--tile-width));
  --shadow-height: calc(0.95 * var(--tile-height));
  --shadow-end-width: var(--tile-width);
  --shadow-end-height: var(--tile-height);
  --shadow-radial1: calc(0.5 * var(--tile-height));
  --shadow-radial2: calc(0.6 * var(--tile-height));
  --shadow-color: rgba(0,0,0,0.05);
  background:
   radial-gradient(circle at center, transparent var(--shadow-radial1), var(--shadow-color) var(--shadow-radial2)),
   linear-gradient(to bottom, transparent var(--shadow-height), var(--shadow-color) var(--shadow-end-height), transparent var(--shadow-end-height)) bottom,
   linear-gradient(to left,   transparent var(--shadow-width), var(--shadow-color) var(--shadow-end-width), transparent var(--shadow-end-width)) left,
   linear-gradient(to right,  transparent var(--shadow-width), var(--shadow-color) var(--shadow-end-width), transparent var(--shadow-end-width)) right,
   linear-gradient(to top,    transparent var(--shadow-height), var(--shadow-color) var(--shadow-end-height), transparent var(--shadow-end-height)) top;
  border-radius: calc(0.1 * var(--tile-size));
}
div.tile.sideways::after {
  width: var(--tile-height);
  height: var(--tile-width);
  --shadow-width: calc(0.95 * var(--tile-height));
  --shadow-height: calc(0.95 * var(--tile-width));
  --shadow-end-width: var(--tile-height);
  --shadow-end-height: var(--tile-width);
}
div.tile.sideways + div.tile.sideways { width: 0; clip-path: none; }
div.tile.sideways + div.tile.sideways::before {
  display: block;
  content: "";
  width: var(--tile-height);
  height: var(--tile-height);
  background: inherit;
  transform: translateX(calc(-1 * var(--tile-height))) translateY(calc(-1 * var(--tile-width)));
}
div.tile.sideways + div.tile.sideways + div.tile.sideways::before {
  transform: translateX(calc(-1 * var(--tile-height))) translateY(calc(-2 * var(--tile-width)));
}
div.tile.markable {
  cursor: pointer;
  --border-width: calc(0.05 * var(--tile-size));
  --border-color: var(--tile-back);
}
div.tile.markable:hover, div.tile.marked {
  --border-width: calc(0.1 * var(--tile-size));
  --border-color: var(--tile-back);
}
div.tile { background-position-x: calc(0 * var(--tile-size) - var(--border-width)); }
div.tile.sideways { width: var(--tile-height); background-position-x: calc(-1.5 * var(--tile-size) - var(--border-width)); }
div.tile.dora { background-position-x: calc(-0.75 * var(--tile-size) - var(--border-width)); }
div.tile.dora.sideways { background-position-x: calc(-2.5 * var(--tile-size) - var(--border-width)); }
div.tile.\31 m { background-position-y: calc(-1 * var(--tile-size) - var(--border-width)); }
div.tile.\32 m { background-position-y: calc(-2 * var(--tile-size) - var(--border-width)); }
div.tile.\33 m { background-position-y: calc(-3 * var(--tile-size) - var(--border-width)); }
div.tile.\34 m { background-position-y: calc(-4 * var(--tile-size) - var(--border-width)); }
div.tile.\35 m { background-position-y: calc(-5 * var(--tile-size) - var(--border-width)); }
div.tile.\36 m { background-position-y: calc(-6 * var(--tile-size) - var(--border-width)); }
div.tile.\37 m { background-position-y: calc(-7 * var(--tile-size) - var(--border-width)); }
div.tile.\38 m { background-position-y: calc(-8 * var(--tile-size) - var(--border-width)); }
div.tile.\39 m { background-position-y: calc(-9 * var(--tile-size) - var(--border-width)); }
div.tile.\30 p { background-position-y: calc(-10 * var(--tile-size) - var(--border-width)); }
div.tile.\31 p { background-position-y: calc(-11 * var(--tile-size) - var(--border-width)); }
div.tile.\32 p { background-position-y: calc(-12 * var(--tile-size) - var(--border-width)); }
div.tile.\33 p { background-position-y: calc(-13 * var(--tile-size) - var(--border-width)); }
div.tile.\34 p { background-position-y: calc(-14 * var(--tile-size) - var(--border-width)); }
div.tile.\35 p { background-position-y: calc(-15 * var(--tile-size) - var(--border-width)); }
div.tile.\36 p { background-position-y: calc(-16 * var(--tile-size) - var(--border-width)); }
div.tile.\37 p { background-position-y: calc(-17 * var(--tile-size) - var(--border-width)); }
div.tile.\38 p { background-position-y: calc(-18 * var(--tile-size) - var(--border-width)); }
div.tile.\39 p { background-position-y: calc(-19 * var(--tile-size) - var(--border-width)); }
div.tile.\30 s { background-position-y: calc(-20 * var(--tile-size) - var(--border-width)); }
div.tile.\31 s { background-position-y: calc(-21 * var(--tile-size) - var(--border-width)); }
div.tile.\32 s { background-position-y: calc(-22 * var(--tile-size) - var(--border-width)); }
div.tile.\33 s { background-position-y: calc(-23 * var(--tile-size) - var(--border-width)); }
div.tile.\34 s { background-position-y: calc(-24 * var(--tile-size) - var(--border-width)); }
div.tile.\35 s { background-position-y: calc(-25 * var(--tile-size) - var(--border-width)); }
div.tile.\36 s { background-position-y: calc(-26 * var(--tile-size) - var(--border-width)); }
div.tile.\37 s { background-position-y: calc(-27 * var(--tile-size) - var(--border-width)); }
div.tile.\38 s { background-position-y: calc(-28 * var(--tile-size) - var(--border-width)); }
div.tile.\39 s { background-position-y: calc(-29 * var(--tile-size) - var(--border-width)); }
div.tile.\31 z { background-position-y: calc(-30 * var(--tile-size) - var(--border-width)); }
div.tile.\32 z { background-position-y: calc(-31 * var(--tile-size) - var(--border-width)); }
div.tile.\33 z { background-position-y: calc(-32 * var(--tile-size) - var(--border-width)); }
div.tile.\34 z { background-position-y: calc(-33 * var(--tile-size) - var(--border-width)); }
div.tile.\35 z { background-position-y: calc(-34 * var(--tile-size) - var(--border-width)); }
div.tile.\36 z { background-position-y: calc(-35 * var(--tile-size) - var(--border-width)); }
div.tile.\37 z { background-position-y: calc(-36 * var(--tile-size) - var(--border-width)); }
div.tile.\31 x { background-position-y: calc(-37 * var(--tile-size) - var(--border-width)); }
div.tile.\30 z { background-position-y: calc(-38 * var(--tile-size) - var(--border-width)); }
div.tile.\31 f { background-position-y: calc(-39 * var(--tile-size) - var(--border-width)); }
div.tile.\32 f { background-position-y: calc(-40 * var(--tile-size) - var(--border-width)); }
div.tile.\33 f { background-position-y: calc(-41 * var(--tile-size) - var(--border-width)); }
div.tile.\34 f { background-position-y: calc(-42 * var(--tile-size) - var(--border-width)); }
div.tile.\31 g { background-position-y: calc(-43 * var(--tile-size) - var(--border-width)); }
div.tile.\32 g { background-position-y: calc(-44 * var(--tile-size) - var(--border-width)); }
div.tile.\33 g { background-position-y: calc(-45 * var(--tile-size) - var(--border-width)); }
div.tile.\34 g { background-position-y: calc(-46 * var(--tile-size) - var(--border-width)); }
div.tile.\31 a { background-position-y: calc(-47 * var(--tile-size) - var(--border-width)); }
div.tile.\32 a { background-position-y: calc(-48 * var(--tile-size) - var(--border-width)); }
div.tile.\33 a { background-position-y: calc(-49 * var(--tile-size) - var(--border-width)); }
div.tile.\34 a { background-position-y: calc(-50 * var(--tile-size) - var(--border-width)); }
div.tile.\31 y { background-position-y: calc(-51 * var(--tile-size) - var(--border-width)); }
div.tile.\32 y { background-position-y: calc(-52 * var(--tile-size) - var(--border-width)); }
div.tile.\31 j { background-position-y: calc(-53 * var(--tile-size) - var(--border-width)); }
div.tile.\32 j { background-position-y: calc(-54 * var(--tile-size) - var(--border-width)); }
div.tile.\33 j { background-position-y: calc(-55 * var(--tile-size) - var(--border-width)); }
div.tile.\34 j { background-position-y: calc(-56 * var(--tile-size) - var(--border-width)); }
div.tile.\35 j { background-position-y: calc(-57 * var(--tile-size) - var(--border-width)); }
div.tile.\36 j { background-position-y: calc(-58 * var(--tile-size) - var(--border-width)); }
div.tile.\37 j { background-position-y: calc(-59 * var(--tile-size) - var(--border-width)); }
div.tile.\38 j { background-position-y: calc(-60 * var(--tile-size) - var(--border-width)); }
div.tile.\39 j { background-position-y: calc(-61 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \30 j { background-position-y: calc(-62 * var(--tile-size) - var(--border-width)); }
div.tile.\31 k { background-position-y: calc(-63 * var(--tile-size) - var(--border-width)); }
div.tile.\32 k { background-position-y: calc(-64 * var(--tile-size) - var(--border-width)); }
div.tile.\33 k { background-position-y: calc(-65 * var(--tile-size) - var(--border-width)); }
div.tile.\34 k { background-position-y: calc(-66 * var(--tile-size) - var(--border-width)); }
div.tile.\31 q { background-position-y: calc(-67 * var(--tile-size) - var(--border-width)); }
div.tile.\32 q { background-position-y: calc(-68 * var(--tile-size) - var(--border-width)); }
div.tile.\33 q { background-position-y: calc(-69 * var(--tile-size) - var(--border-width)); }
div.tile.\34 q { background-position-y: calc(-70 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \31 m { background-position-y: calc(-71 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \32 m { background-position-y: calc(-72 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \33 m { background-position-y: calc(-73 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \34 m { background-position-y: calc(-74 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \35 m { background-position-y: calc(-75 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \36 m { background-position-y: calc(-76 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \37 m { background-position-y: calc(-77 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \38 m { background-position-y: calc(-78 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \39 m { background-position-y: calc(-79 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \31 \30 m { background-position-y: calc(-80 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \31 p { background-position-y: calc(-81 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \32 p { background-position-y: calc(-82 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \33 p { background-position-y: calc(-83 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \34 p { background-position-y: calc(-84 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \35 p { background-position-y: calc(-85 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \36 p { background-position-y: calc(-86 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \37 p { background-position-y: calc(-87 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \38 p { background-position-y: calc(-88 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \39 p { background-position-y: calc(-89 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \31 \30 p { background-position-y: calc(-90 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \31 s { background-position-y: calc(-91 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \32 s { background-position-y: calc(-92 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \33 s { background-position-y: calc(-93 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \34 s { background-position-y: calc(-94 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \35 s { background-position-y: calc(-95 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \36 s { background-position-y: calc(-96 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \37 s { background-position-y: calc(-97 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \38 s { background-position-y: calc(-98 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \39 s { background-position-y: calc(-99 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \31 \30 s { background-position-y: calc(-100 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \31 z { background-position-y: calc(-101 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \32 z { background-position-y: calc(-102 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \33 z { background-position-y: calc(-103 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \34 z { background-position-y: calc(-104 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \35 z { background-position-y: calc(-105 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \36 z { background-position-y: calc(-106 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \37 z { background-position-y: calc(-107 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \30 m { background-position-y: calc(-108 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \30 p { background-position-y: calc(-109 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \30 s { background-position-y: calc(-110 * var(--tile-size) - var(--border-width)); }
div.tile.\32 \35 z { background-position-y: calc(-111 * var(--tile-size) - var(--border-width)); }
div.tile.\32 \36 z { background-position-y: calc(-112 * var(--tile-size) - var(--border-width)); }
div.tile.\32 \37 z { background-position-y: calc(-113 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \32 j { background-position-y: calc(-114 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \33 j { background-position-y: calc(-115 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \35 j { background-position-y: calc(-116 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \36 j { background-position-y: calc(-117 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \38 j { background-position-y: calc(-118 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \39 j { background-position-y: calc(-119 * var(--tile-size) - var(--border-width)); }
div.tile.\30 t { background-position-y: calc(-120 * var(--tile-size) - var(--border-width)); }
div.tile.\31 t { background-position-y: calc(-121 * var(--tile-size) - var(--border-width)); }
div.tile.\32 t { background-position-y: calc(-122 * var(--tile-size) - var(--border-width)); }
div.tile.\33 t { background-position-y: calc(-123 * var(--tile-size) - var(--border-width)); }
div.tile.\34 t { background-position-y: calc(-124 * var(--tile-size) - var(--border-width)); }
div.tile.\35 t { background-position-y: calc(-125 * var(--tile-size) - var(--border-width)); }
div.tile.\36 t { background-position-y: calc(-126 * var(--tile-size) - var(--border-width)); }
div.tile.\37 t { background-position-y: calc(-127 * var(--tile-size) - var(--border-width)); }
div.tile.\38 t { background-position-y: calc(-128 * var(--tile-size) - var(--border-width)); }
div.tile.\39 t { background-position-y: calc(-129 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \30 t { background-position-y: calc(-130 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \31 t { background-position-y: calc(-131 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \32 t { background-position-y: calc(-132 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \33 t { background-position-y: calc(-133 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \34 t { background-position-y: calc(-134 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \35 t { background-position-y: calc(-135 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \36 t { background-position-y: calc(-136 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \37 t { background-position-y: calc(-137 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \38 t { background-position-y: calc(-138 * var(--tile-size) - var(--border-width)); }
div.tile.\31 \39 t { background-position-y: calc(-139 * var(--tile-size) - var(--border-width)); }
div.tile.\32 x { visibility: hidden; } /* blank space */
div.tile.inactive { opacity: 0.6; }
/* tile 3d */
div.tile {
  --tile-brightness: 100%;
  --tile-saturate: 100%;
  filter: brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}
div.tile:not(.flat) {
  transform: translateZ(0); /* https://stackoverflow.com/a/77475473 */
  filter: drop-shadow(0 calc(var(--tile-height) / -8) 0 var(--tile-front-side))
          drop-shadow(0 calc(var(--tile-height) / -8) 0 var(--tile-back-side))
          brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}
div.tile.sideways:not(.flat) {
  filter: drop-shadow(0 calc(var(--tile-height) / -16) 0 var(--tile-front-side))
          drop-shadow(0 calc(var(--tile-height) / -8) 0 var(--tile-back-side))
          brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}
div.pond.self div.tile:not(.flat) {
  filter: drop-shadow(0 calc(var(--tile-height) / 8) 0 var(--tile-front-side))
          drop-shadow(0 calc(var(--tile-height) / 8) 0 var(--tile-back-side))
          brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}
div.shimocha div.tile:not(.flat) {
  filter: drop-shadow(calc(var(--tile-height) / -8) 0 0 var(--tile-front-side))
          drop-shadow(calc(var(--tile-height) / -8) 0 0 var(--tile-back-side))
          brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}
div.kamicha div.tile:not(.flat) {
  filter: drop-shadow(calc(var(--tile-height) / 8) 0 0 var(--tile-front-side))
          drop-shadow(calc(var(--tile-height) / 8) 0 0 var(--tile-back-side))
          brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}
/* shimocha's tiles need to overlap in the reverse order */
div.shimocha div.tile:nth-child(2) { z-index: -1; }
div.shimocha div.tile:nth-child(3) { z-index: -2; }
div.shimocha div.tile:nth-child(4) { z-index: -3; }
div.shimocha div.tile:nth-child(5) { z-index: -4; }
div.shimocha div.tile:nth-child(6) { z-index: -5; }
div.shimocha div.tile:nth-child(7) { z-index: -6; }
div.shimocha div.tile:nth-child(8) { z-index: -7; }
div.shimocha div.tile:nth-child(9) { z-index: -8; }
div.shimocha div.tile:nth-child(10) { z-index: -9; }
div.shimocha div.tile:nth-child(11) { z-index: -10; }
div.shimocha div.tile:nth-child(12) { z-index: -11; }
div.shimocha div.tile:nth-child(13) { z-index: -12; }
div.shimocha div.tile:nth-child(14) { z-index: -13; }
div.shimocha div.tile:nth-child(15) { z-index: -14; }
div.shimocha div.tile:nth-child(16) { z-index: -15; }
div.shimocha div.tile:nth-child(17) { z-index: -16; }
div.shimocha div.tile:nth-child(18) { z-index: -17; }
div.shimocha div.tile:nth-child(19) { z-index: -18; }
div.shimocha div.tile:nth-child(20) { z-index: -19; }
div.shimocha div.tile:nth-child(21) { z-index: -20; }
div.shimocha div.tile:nth-child(22) { z-index: -21; }
div.shimocha div.tile:nth-child(23) { z-index: -22; }
div.shimocha div.tile:nth-child(24) { z-index: -23; }
div.shimocha div.tile:nth-child(25) { z-index: -24; }
div.shimocha div.tile:nth-child(26) { z-index: -25; }
div.shimocha div.tile:nth-child(27) { z-index: -26; }
div.shimocha div.tile:nth-child(28) { z-index: -27; }
div.shimocha div.tile:nth-child(29) { z-index: -28; }
div.shimocha div.tile:nth-child(30) { z-index: -29; }
/* self's tiles need to overlap in the forward order */
div.self div.tile:nth-child(1) { z-index: 0; }
div.self div.tile:nth-child(2) { z-index: 1; }
div.self div.tile:nth-child(3) { z-index: 2; }
div.self div.tile:nth-child(4) { z-index: 3; }
div.self div.tile:nth-child(5) { z-index: 4; }
div.self div.tile:nth-child(6) { z-index: 5; }
div.self div.tile:nth-child(7) { z-index: 6; }
div.self div.tile:nth-child(8) { z-index: 7; }
div.self div.tile:nth-child(9) { z-index: 8; }
div.self div.tile:nth-child(10) { z-index: 9; }
div.self div.tile:nth-child(11) { z-index: 10; }
div.self div.tile:nth-child(12) { z-index: 11; }
div.self div.tile:nth-child(13) { z-index: 12; }
div.self div.tile:nth-child(14) { z-index: 13; }
div.self div.tile:nth-child(15) { z-index: 14; }
div.self div.tile:nth-child(16) { z-index: 15; }
div.self div.tile:nth-child(17) { z-index: 16; }
div.self div.tile:nth-child(18) { z-index: 17; }
div.self div.tile:nth-child(19) { z-index: 18; }
div.self div.tile:nth-child(20) { z-index: 19; }
div.self div.tile:nth-child(21) { z-index: 20; }
div.self div.tile:nth-child(22) { z-index: 21; }
div.self div.tile:nth-child(23) { z-index: 22; }
div.self div.tile:nth-child(24) { z-index: 23; }
div.self div.tile:nth-child(25) { z-index: 24; }
div.self div.tile:nth-child(26) { z-index: 25; }
div.self div.tile:nth-child(27) { z-index: 26; }
div.self div.tile:nth-child(28) { z-index: 27; }
div.self div.tile:nth-child(29) { z-index: 28; }
div.self div.tile:nth-child(30) { z-index: 29; }

/* all 3d effects should have reversed color for upside down tiles */
div.tile.\31 x:not(.flat) {
  filter: drop-shadow(0 calc(var(--tile-height) / -8) 0 var(--tile-back-side))
          drop-shadow(0 calc(var(--tile-height) / -8) 0 var(--tile-front-side))
          brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}
div.tile.\31 x.sideways:not(.flat) {
  filter: drop-shadow(0 calc(var(--tile-height) / -16) 0 var(--tile-back-side))
          drop-shadow(0 calc(var(--tile-height) / -8) 0 var(--tile-front-side))
          brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}
div.pond.self div.tile.\31 x:not(.flat) {
  filter: drop-shadow(0 calc(var(--tile-height) / 8) 0 var(--tile-back-side))
          drop-shadow(0 calc(var(--tile-height) / 8) 0 var(--tile-front-side))
          brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}
div.shimocha div.tile.\31 x:not(.flat) {
  filter: drop-shadow(calc(var(--tile-height) / -8) 0 0 var(--tile-back-side))
          drop-shadow(calc(var(--tile-height) / -8) 0 0 var(--tile-front-side))
          brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}
div.kamicha div.tile.\31 x:not(.flat) {
  filter: drop-shadow(calc(var(--tile-height) / 8) 0 0 var(--tile-back-side))
          drop-shadow(calc(var(--tile-height) / 8) 0 0 var(--tile-front-side))
          brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}
/* facedown tiles should look facedown */
div.tile.facedown {
  background-position-y: calc(-37 * var(--tile-size) - var(--border-width));
  filter: drop-shadow(0 calc(var(--tile-height) / 8) 0 var(--tile-back-side))
          drop-shadow(0 calc(var(--tile-height) / 8) 0 var(--tile-front-side))
          brightness(var(--tile-brightness)) saturate(var(--tile-saturate));
}



/* tile animations */
@keyframes tilePlayed {
  67% {
    width: var(--tile-width);
  }
  100% {
    width: 0;
  }
}
div.tile.removed {
  background: transparent;
  filter: none;
  animation: tilePlayed 0.75s ease forwards;
}
div.tile.removed ~ div.tile.draw {
  margin-left: 0;
}
@keyframes slideUp {
  0% {
    transform: translateY(calc(2 * var(--tile-size)));
    opacity: 0;
  }
  100% {}
}
div.pond > div.tile.just-played:last-child {
  animation: slideUp 0.2s ease forwards;
}

@keyframes slideLeft {
  0% {
    transform: translateX(calc(2 * var(--tile-size)));
    opacity: 0;
  }
  100% {}
}
div.hand.just-drew > div.draws > div.tile {
  animation: slideLeft 0.2s ease forwards;
}

@keyframes slideRight {
  0% {
    transform: translateX(calc(-6 * var(--tile-size)));
    opacity: 0;
  }
  100% {}
}
div.hand.just-called > div.calls > div.call:nth-last-child(2) {
  animation: slideRight 0.4s ease forwards;
}

@keyframes slideDown {
  0% {
    transform: translateX(calc(-1 * var(--tile-height))) translateY(calc(-3 * var(--tile-width)));
    opacity: 0;
  }
  100% {
    transform: translateX(calc(-1 * var(--tile-height))) translateY(calc(-1 * var(--tile-width)));
  }
}
@keyframes slideDown2 {
  0% {
    transform: translateX(calc(-1 * var(--tile-height))) translateY(calc(-4 * var(--tile-width)));
    opacity: 0;
  }
  100% {
    transform: translateX(calc(-1 * var(--tile-height))) translateY(calc(-2 * var(--tile-width)));
  }
}
div.tile.sideways + div.tile.sideways::before {
  animation: slideDown 0.2s ease forwards;
}
div.tile.sideways + div.tile.sideways + div.tile.sideways::before {
  animation: slideDown2 0.2s ease forwards;
}


/* buttons, auto buttons, and call choice buttons */
div.buttons, div.call-buttons-container {
  position: absolute;
  bottom: calc(1.5 * var(--tile-size));
  right: calc(1.5 * var(--tile-size));
  align-items: flex-end;
  z-index: 10;
}
div.call-buttons-container {
  display: flex;
  flex-direction: column-reverse;
  row-gap: calc(0.25 * var(--tile-size));
  right: calc(3.25 * var(--tile-size)); /* make room for 'cancel' button */
}
div.buttons, div.call-buttons {
  justify-content: right;
  align-items: center;
  column-gap: calc(0.25 * var(--tile-size));
  flex-wrap: wrap;
}
div.call-buttons > div.tile:first-child {
  margin-top: calc(0.25 * var(--tile-size));
}
div.call-buttons > div.call-button-separator {
  border-left: calc(0.5 * var(--tile-size)) solid var(--tile-back);
  border-top: calc(0.25 * var(--tile-size)) solid transparent;
  border-bottom: calc(0.25 * var(--tile-size)) solid transparent;
}
div.buttons > button,
div.call-buttons > button {
  font-size: calc(0.35 * var(--tile-size));
  padding: 0 calc(0.1 * var(--tile-size));
  border: calc(0.0625 * var(--tile-size)) solid var(--tile-back);
  border-radius: calc(0.125 * var(--tile-size));
  background: var(--tile-back);
  cursor: pointer;
}
div.buttons > button {
  transform: skew(-20deg);
}
div.call-buttons > button {
  padding-top: calc(0.25 * var(--tile-size));
}
div.auto-buttons {
  position: absolute;
  font-size: calc(0.5 * var(--tile-size));
  bottom: calc(-1.25 * var(--tile-size));
  left: 0;
}
div.auto-buttons > input { display: none; }
div.auto-buttons > label {
  background: gray;
  padding: 0 calc(0.125 * var(--tile-size));
  border-radius: calc(0.125 * var(--tile-size));
}
div.auto-buttons > input:checked + label { background: var(--tile-back); }


/* big text */
@keyframes textFade {
  75% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
div.big-text {
  position: absolute;
  width: 100%;
  text-align: center;
  color: white;
  white-space: nowrap;
  font-size: calc(40 * var(--tile-size) / (8 + var(--big-text-length)));
  text-shadow: black calc(0.1 * var(--tile-size)) calc(0.1 * var(--tile-size));
  z-index: 50;
  animation: textFade 1.5s ease forwards;
  user-select: none;
  pointer-events: none;
}
div.big-text.self { bottom: 0; }
div.big-text.kamicha { left: calc(-50% + (3 * var(--tile-size))); top: calc(50% - (3 * var(--tile-size))); }
div.big-text.toimen { top: 0; }
div.big-text.shimocha { left: calc(50% - (3 * var(--tile-size))); top: calc(50% - (3 * var(--tile-size))); }

/* status lines */

div.status-line {
  position: absolute;
  white-space: nowrap;
  font-size: calc(0.25 * var(--tile-size));
  background: #0000001F;
  width: calc(100% + var(--tile-size));
  left: calc(-0.5 * var(--tile-size));
  bottom: calc(-0.5 * var(--tile-size));
  transform-origin: 50% calc(-8.125 * var(--tile-size));
}
div.status-line.kamicha { transform: rotate(90deg);}
div.status-line.toimen { transform: rotate(180deg);}
div.status-line.shimocha { transform: rotate(270deg);}
div.status-line > div.status-text {
  display: inline;
  color: white;
  margin-left: calc(0.5 * var(--tile-size));
}

/* visible waits */

div.visible-waits-container {
  position: absolute;
  width: calc(100% - 8.25 * var(--tile-size));
  left: calc(4.125 * var(--tile-size));
  bottom: calc(2 * var(--tile-size));
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  align-items: flex-end;
  z-index: 10;
}
div.visible-waits {
  background: #0000001F;
  border-radius: calc(0.25 * var(--tile-size));
  padding: calc(0.25 * var(--tile-size));
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
}
div.visible-waits > div.visible-wait {
  font-size: calc(0.4 * var(--tile-size));
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  row-gap: calc(0.25 * var(--tile-size));
}

/* revealed tiles */
div.revealed-tiles {
  display: flex;
  position: absolute;
  font-size: calc(0.5 * var(--tile-size));
  top: calc(-1.5 * var(--tile-size));
  left: 0;
}

/* scryed tiles */
div.scryed-tiles-container {
  display: flex;
  position: absolute;
  font-size: calc(0.5 * var(--tile-size));
  bottom: calc(1.5 * var(--tile-size));
  left: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  z-index: 1;
}
div.scryed-tiles {
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  position: relative;
}
div.scryed-tiles::before {
  content: "";
  background: #0000001F;
  position: absolute;
  border-radius: calc(0.25 * var(--tile-size));
  top: calc(-0.5 * var(--tile-size));
  width: calc(100% + 1 * var(--tile-size));
  height: calc(100% + 0.75 * var(--tile-size));
}

/* declare yaku */
div.declare-yaku-container {
  display: flex;
  position: absolute;
  font-size: calc(0.5 * var(--tile-size));
  top: calc(3.5 * var(--tile-size));
  left: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  z-index: 10;
}
div.declare-yaku-container > input.declare-yaku-minimize { display: none; }
div.declare-yaku-container > label.declare-yaku-minimize-label {
  position: absolute;
  background: var(--tile-back);
  padding: 0 calc(0.125 * var(--tile-size));
  border-radius: calc(0.125 * var(--tile-size));
  width: calc(0.5 * var(--tile-size));
  height: calc(0.75 * var(--tile-size));
  top: calc(-0.75 * var(--tile-size));
  right: 0;
  text-align: center;
  user-select: none;
}
div.declare-yaku {
  position: relative;
  z-index: 100;
}
div.declare-yaku.minimized {
  display: none;
}
div.declare-yaku > form {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: calc(0.25 * var(--tile-size));
}
div.declare-yaku::before {
  content: "";
  background: #0f6f2f;
  border: calc(0.125 * var(--tile-size)) solid var(--tile-back);
  position: absolute;
  border-radius: calc(0.25 * var(--tile-size));
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  z-index: -1;
}
div.declare-yaku div.declarable-yakus {
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  align-items: center;
  row-gap: calc(0.25 * var(--tile-size));
  column-gap: calc(0.25 * var(--tile-size));
}
div.declare-yaku div.declarable-yakus > input { display: none; }
div.declare-yaku div.declarable-yakus > label {
  background: gray;
  padding: 0 calc(0.125 * var(--tile-size));
  border-radius: calc(0.125 * var(--tile-size));
}
div.declare-yaku div.declarable-yakus > input:checked + label { background: var(--tile-back); }
div.declare-yaku button.declare-yaku-button {
  margin: calc(0.25 * var(--tile-size)) 0;
  height: calc(1 * var(--tile-size));
  background: var(--tile-front);
  font-size: calc(0.5 * var(--tile-size));
  text-decoration: none;
  color: black;
  border-width: 0;
  border-radius: calc(0.25 * var(--tile-size));
  filter: drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-front-side))
          drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-back-side));
  cursor: pointer;
}
div.declare-yaku button.declare-yaku-button:active {
  bottom: 0;
  filter: none;
}

/* display wall */
div.display-wall-container {
  position: absolute;
  width: 100%;
  height: 100%;
}
div.display-wall-container.minimized { z-index: -10; }
div.display-wall-container > input.display-wall-minimize { display: none; }
div.display-wall-container > label.display-wall-minimize-label {
  background: gray;
  position: absolute;
  padding: 0 calc(0.125 * var(--tile-size));
  border-radius: calc(0.125 * var(--tile-size));
  font-size: calc(0.5 * var(--tile-size));
  bottom: calc(-1.25 * var(--tile-size));
  right: 0;
}
div.display-wall-container > input.display-wall-minimize:checked + label.display-wall-minimize-label { background: var(--tile-back); }
div.display-wall {
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 100;
}
div.display-wall::before {
  position: absolute;
  content: "";
  top: 0;
  left: 0;
  background: #0000007F;
  border-radius: calc(0.25 * var(--tile-size));
  width: 100%;
  height: 100%;
}
div.display-wall.minimized {
  display: none;
}
div.display-wall > div.wall {
  display: flex;
  flex-flow: row-reverse;  
  transform-style: preserve-3d;
  transform-origin: 50% 50%;
  position: absolute;
}
div.display-wall > div.wall.toimen {
  justify-items: flex-end;
  top: calc(0.5 * var(--tile-size));
  left: calc(1.25 * var(--tile-size));
  transform: rotate(180deg);
}
div.display-wall > div.wall.shimocha {
  right: calc(2.5 * var(--tile-size));
  top: calc(1.25 * var(--tile-size));
  transform: rotate(270deg);
  transform-origin: top right;
}
div.display-wall > div.wall.self {
  flex-direction: row;
  bottom: calc(0 * var(--tile-size));
  left: calc(1.5 * var(--tile-size));
  transform: rotate(180deg);
}
div.display-wall > div.wall.kamicha {
  left: calc(2.5 * var(--tile-size));
  top: calc(1.75 * var(--tile-size));
  transform: rotate(90deg);
  transform-origin: top left;
}
div.display-wall > div.wall > div.tile-stack {
  display: flex;
  flex-direction: column-reverse;
}
div.display-wall > div.wall > div.spacer {
  width: calc(0.5 * var(--tile-size));
}
div.display-wall > div.wall > div.tile-stack > div.tile.top { z-index: 2; }
div.display-wall > div.wall > div.tile-stack > div.tile.bottom { z-index: 1; transform: translateY(calc(0.75 * var(--tile-size))); }
div.display-wall > div.wall > div.tile-stack > div.tile:first-child:last-child { transform: translateY(calc(-0.25 * var(--tile-size))); }
div.display-wall > div.wall.shimocha > div.tile-stack > div.tile.bottom { transform: translateX(calc(-0.25 * var(--tile-size))) translateY(calc(1 * var(--tile-size))); }
div.display-wall > div.wall.shimocha > div.tile-stack > div.tile:first-child:last-child { transform: translateX(calc(-0.25 * var(--tile-size))); }
div.display-wall > div.wall.kamicha > div.tile-stack > div.tile.bottom { transform: translateX(calc(0.25 * var(--tile-size))) translateY(calc(1 * var(--tile-size))); }
div.display-wall > div.wall.kamicha > div.tile-stack > div.tile:first-child:last-child { transform: translateX(calc(0.25 * var(--tile-size))); }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(1) { z-index: -1; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(2) { z-index: -2; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(3) { z-index: -3; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(4) { z-index: -4; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(5) { z-index: -5; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(6) { z-index: -6; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(7) { z-index: -7; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(8) { z-index: -8; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(9) { z-index: -9; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(10) { z-index: -10; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(11) { z-index: -11; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(12) { z-index: -12; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(13) { z-index: -13; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(14) { z-index: -14; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(15) { z-index: -15; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(16) { z-index: -16; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(17) { z-index: -17; }
div.display-wall > div.wall.kamicha > div.tile-stack:nth-child(18) { z-index: -18; }
div.display-wall > div.dice {
  position: absolute;
  width: calc(1.75 * var(--tile-size));
  height: calc(1.5 * var(--tile-size));
  left: calc(50% - 0.875 * var(--tile-size));
  top: calc(50% + 2 * var(--tile-size));
  column-gap: calc(0.25 * var(--tile-size));
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
}
div.display-wall > div.dice > div.die {
  background: white;
  width: calc(0.75 * var(--tile-size));
  height: calc(0.75 * var(--tile-size));
  border-radius: calc(0.125 * var(--tile-size));
  position: relative;
}
div.display-wall > div.dice > div.die::before,
div.display-wall > div.dice > div.die::after {
  background: black;
  border-radius: 50%;
  position: absolute;
  top: calc(0.13 * var(--tile-size));
  left: calc(0.13 * var(--tile-size));
  width: calc(0.17 * var(--tile-size));
  height: calc(0.17 * var(--tile-size));
  z-index: 1;
}
div.display-wall > div.dice > div.die::before {
  content: "";
}
div.display-wall > div.dice > div.die.one::before {
  background: red;
  top: calc(0.25 * var(--tile-size));
  left: calc(0.25 * var(--tile-size));
  width: calc(0.25 * var(--tile-size));
  height: calc(0.25 * var(--tile-size));
}
div.display-wall > div.dice > div.die.two::before {
  filter: drop-shadow(calc(0.32 * var(--tile-size)) calc(0.32 * var(--tile-size)) 0 black);
}
div.display-wall > div.dice > div.die.three::before {
  filter:
    drop-shadow(calc(0.16 * var(--tile-size)) calc(0.16 * var(--tile-size)) 0 black)
    drop-shadow(calc(0.16 * var(--tile-size)) calc(0.16 * var(--tile-size)) 0 black);
}
div.display-wall > div.dice > div.die.four::before {
  background: red;
  filter:
    drop-shadow(calc(0 * var(--tile-size)) calc(0.32 * var(--tile-size)) 0 red)
    drop-shadow(calc(0.32 * var(--tile-size)) calc(0 * var(--tile-size)) 0 red);
}
div.display-wall > div.dice > div.die.five::before {
  filter:
    drop-shadow(calc(0 * var(--tile-size)) calc(0.32 * var(--tile-size)) 0 black)
    drop-shadow(calc(0.32 * var(--tile-size)) calc(0 * var(--tile-size)) 0 black);
}
div.display-wall > div.dice > div.die.five::after {
  content: "";
  filter: drop-shadow(calc(0.16 * var(--tile-size)) calc(0.16 * var(--tile-size)) 0 black);
}
div.display-wall > div.dice > div.die.six::before {
  top: calc(0.09 * var(--tile-size));
  filter:
    drop-shadow(calc(0.32 * var(--tile-size)) calc(0 * var(--tile-size)) 0 black)
    drop-shadow(calc(0 * var(--tile-size)) calc(0.21 * var(--tile-size)) 0 black)
    drop-shadow(calc(0 * var(--tile-size)) calc(0.21 * var(--tile-size)) 0 black);
}

/* win/draw windows */
div.game-end-window {
  position: absolute;
  width: 80%;
  height: 80%;
  left: 10%;
  top: 10%;
  z-index: 100;
  float: left;
  transition: opacity 0.5s ease;
}
div.game-end-window.inactive {
  opacity: 0;
  pointer-events: none;
  user-select: none;
}
div.game-end-window::before {
  position: absolute;
  content: "";
  width: 108%;
  height: 108%;
  top: -4%;
  left: -4%;
  border-radius: calc(0.25 * var(--tile-size));
  background: black;
  opacity: 0.6;
  z-index: -1;
}
div.game-end-window > div.winning-hand,
div.game-end-window > div.yakus,
div.game-end-window > div.score-display {
  pointer-events: none;
  user-select: none;
}
div.winning-hand { padding-top: calc(0.25 * var(--tile-size)); justify-content: center; }
/* yakus */
div.yakus {
  display: flex;
  flex-flow: column wrap;
  align-content: space-evenly;
  row-gap: calc(0.5 * var(--tile-size));
  margin-left: calc(0.5 * var(--tile-size));
  margin-right: calc(-0.5 * var(--tile-size));
  margin-top: calc(1.75 * var(--tile-size));
  width: 100%;
  height: 90%;
}
/* wrap hack, supports 19 items */
div.yakus::before { content: ""; height: 100%; order: 1; }
div.yakus::after { content: ""; height: 100%; order: -1; } /* for space-evenly to work */
div.yaku:nth-child(n+1):nth-last-child(-n+0),
div.yaku:nth-child(n+2):nth-last-child(-n+1),
div.yaku:nth-child(n+3):nth-last-child(-n+2),
div.yaku:nth-child(n+4):nth-last-child(-n+3),
div.yaku:nth-child(n+5):nth-last-child(-n+4),
div.yaku:nth-child(n+6):nth-last-child(-n+5),
div.yaku:nth-child(n+7):nth-last-child(-n+6),
div.yaku:nth-child(n+8):nth-last-child(-n+7),
div.yaku:nth-child(n+9):nth-last-child(-n+8),
div.yaku:nth-child(n+10):nth-last-child(-n+9) { order: 1; }
div.yaku,
div.yaku > div.han-counter,
div.yaku > div.yaku-text::before {
  font-size: calc(0.6 * var(--tile-size));
  height: 1.2em;
  padding-right: calc(0.5 * var(--tile-size));
  border-radius: calc(0.125 * var(--tile-size));
  white-space: nowrap;
}
div.yaku > div.yaku-text::before {
  filter: drop-shadow(calc(var(--tile-size) / -8) calc(var(--tile-size) / -16) 0 var(--tile-front-side))
          drop-shadow(calc(var(--tile-size) / -8) calc(var(--tile-size) / -16) 0 var(--tile-back-side));
}
div.yaku {
  display: flex;
}
div.yaku > div.yaku-text {
  display: inline-block;
  position: relative;
  z-index: 2;
}
div.yaku > div.yaku-text.small { font-size: 75%; top: 10%; }
div.yaku > div.yaku-text.small::before { top: -10%; }
div.yaku > div.yaku-text.tiny { font-size: 50%; top: 20%; }
div.yaku > div.yaku-text.tiny::before { top: -20%; }
div.yaku > div.yaku-text::before {
  position: absolute;
  content: "";
  z-index: -1;
  background: var(--tile-front);
  width: calc(100% + var(--tile-size));
  left: -10%;
  height: 110%;
  top: 0%;
  transform: rotate(2deg);
}
div.yaku > div.han-counter {
  display: inline-block;
  position: relative;
  z-index: 2;
  transform: rotate(-20deg);
  font-style: normal;
  margin-left: calc(0.5 * var(--tile-size));
}
div.yaku > div.han-counter::before,
div.total-han-display::before,
div.total-fu-display::before,
div.total-score-display::before,
div.total-score-name-display::before {
  background-image: url(/images/brush-bg.svg);
  background-size: 100% 100%;
  background-repeat: no-repeat;
}
div.total-fu-display::before,
div.total-score-display::before {
  background-image: url(/images/brush-bg2.svg);
}
div.yaku > div.han-counter::before {
  content: "";
  position: absolute;
  z-index: -1;
  width: calc(100% + 0.5 * var(--tile-size));
  height: 160%;
  left: calc(-0.66 * var(--tile-size));
  top: -37.5%;
}

/* score display */
div.score-display {
  display: flex;
  flex-flow: row wrap;
  justify-content: space-evenly;
  row-gap: calc(0.125 * var(--tile-size));
  position: absolute;
  width: 100%;
  bottom: 0;
}
div.score-display::before { content: ""; width: 100%; order: 1; }
div.total-han-display,
div.total-fu-display,
div.total-score-display {
  position: relative;
  z-index: 1;
}
div.total-han-display, div.total-fu-display { font-size: calc(1.25 * var(--tile-size)); }
div.total-score-display { font-size: calc(2 * var(--tile-size)); order: 1; }
div.total-score-name-display { font-size: calc(1.2 * var(--tile-size)); order: 1; }
div.total-han-display::before,
div.total-fu-display::before,
div.total-score-display::before,
div.total-score-name-display::before {
  position: absolute;
  content: "";
  width: 150%;
  height: 140%;
  left: -25%;
  bottom: -7.5%;
  z-index: -1;
}
div.total-fu-display::before {
  transform: rotate(180deg);
  width: 160%;
  left: -35%;
  bottom: -35%;
}
div.total-score-display::before {
  width: 180%;
  height: 160%;
  left: -40%;
}
div.total-score-name-display {
  transform: rotate(-20deg);
  position: absolute;
  bottom: 0;
  right: 0;
  z-index: 2;
}
div.total-score-name-display::before {
  transform: rotate(180deg);
  width: 140%;
  height: 120%;
  left: -20%;
  bottom: -15%;
}

/* delta score window */
div.game-end-window > div.delta-score-reason {
  position: absolute;
  font-size: calc(1.25 * var(--tile-size));
  text-align: center;
  width: 100%;
  user-select: none;
  z-index: 3;
}
div.game-end-window > div.delta-score-reason::before {
  position: absolute;
  content: "";
  background-image: url(/images/brush-bg.svg);
  background-size: 100% 100%;
  background-repeat: no-repeat;
  transform-origin: 50% calc(50% + var(--tile-size));
  width: 100%;
  height: calc(3 * var(--tile-size));
  left: 0;
  bottom: calc(-0.5 * var(--tile-size));
  z-index: -1;
}
div.game-end-window > div.delta-score {
  line-height: 1;
  position: absolute;
  font-size: calc(1 * var(--tile-size));
  text-align: right;
  user-select: none;
  z-index: 2;
}
div.game-end-window > div.delta-score.self { bottom: calc(0.25 * var(--tile-size)); left: calc(-50% + 11 * var(--tile-size));}
div.game-end-window > div.delta-score.kamicha { left: calc(1.25 * var(--tile-size)); top: calc(-50% + 12 * var(--tile-size)); }
div.game-end-window > div.delta-score.toimen { top: calc(2.25 * var(--tile-size)); left: calc(-50% + 11 * var(--tile-size));}
div.game-end-window > div.delta-score.shimocha { right: calc(1.25 * var(--tile-size)); top: calc(-50% + 12 * var(--tile-size)); }
div.game-end-window > div.delta-score > div.hline::before {
  position: absolute;
  content: "";
  background: black;
  width: 100%;
  right: 0;
  height: calc(0.0625 * var(--tile-size));
}
div.game-end-window > div.delta-score::before {
  position: absolute;
  content: "";
  background-image: url(/images/brush-bg2.svg);
  background-size: 100% 100%;
  background-repeat: no-repeat;
  transform-origin: 50% calc(50% + var(--tile-size));
  width: calc(6 * var(--tile-size));
  height: calc(6 * var(--tile-size));
  z-index: -1;
}
div.game-end-window > div.delta-score.self::before {
  transform: rotate(0deg);
  left: calc(50% - 2.5 * var(--tile-size));
  bottom: calc(50% - 2.25 * var(--tile-size));
}
div.game-end-window > div.delta-score.kamicha::before {
  transform: rotate(90deg);
  left: calc(50% - 3.5 * var(--tile-size));
  bottom: calc(50% - 2.5 * var(--tile-size));
}
div.game-end-window > div.delta-score.toimen::before {
  transform: rotate(180deg);
  left: calc(50% - 3 * var(--tile-size));
  bottom: calc(50% - 1.5 * var(--tile-size));
}
div.game-end-window > div.delta-score.shimocha::before {
  transform: rotate(270deg);
  left: calc(50% - 2.5 * var(--tile-size));
  bottom: calc(50% - 1.5 * var(--tile-size));
}
div.game-end-window > div.delta-score > div.initial { color: gray; }
div.game-end-window > div.delta-score > div.change.positive { color: green; }
div.game-end-window > div.delta-score > div.change.negative { color: red; }
div.game-end-window > div.delta-score > div.result { transform: translateY(calc(0.125 * var(--tile-size))); }

/* game end timer */

div.game-end-window > div.timer {
  position: absolute;
  color: white;
  text-align: center;
  font-size: calc(0.5 * var(--tile-size));
  right: calc(-0.25 * var(--tile-size));
  bottom: calc(-0.25 * var(--tile-size));
  width: calc(1 * var(--tile-size));
  height: calc(0.75 * var(--tile-size));
  cursor: pointer;
}

/* error box */
div.game-end-window.error-window {
  color: white;
}
div.game-end-window.error-window > h1 {
  text-align: center;
  user-select: none;
}
div.game-end-window.error-window > textarea.error {
  position: absolute;
  background: #3f3f3f;
  color: white;
  width: 100%;
  height: calc(100% - 4 * var(--tile-size));
  top: calc(2 * var(--tile-size));
  left: 0;
  white-space: pre;
}
div.game-end-window.error-window > button.dismiss-error {
  position: absolute;
  width: 100%;
  height: calc(1 * var(--tile-size));
  bottom: calc(0.25 * var(--tile-size));
  background: var(--tile-front);
  text-decoration: none;
  color: black;
  border-width: 0;
  border-radius: calc(0.25 * var(--tile-size));
  filter: drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-front-side))
          drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-back-side));
  cursor: pointer;
}
div.game-end-window.error-window > button.dismiss-error:active {
  bottom: 0;
  filter: none;
}
div.game-end-window.error-window::before {
  background: red;
}

/* game concluded window */
div.scoreboard {
  display: flex;
  flex-direction: column;
  row-gap: var(--tile-size);
  margin-top: var(--tile-size);
  margin-bottom: var(--tile-size);
  width: 100%;
  height: calc(100 - 1 * var(--tile-size));
}
div.placement > div.placement-place,
div.placement > div.placement-name {
  font-size: calc(0.6 * var(--tile-size));
  white-space: nowrap;
  height: 1.2em;
}
div.placement > div.placement-name::before {
  filter: drop-shadow(calc(var(--tile-size) / -8) calc(var(--tile-size) / -16) 0 var(--tile-front-side))
          drop-shadow(calc(var(--tile-size) / -8) calc(var(--tile-size) / -16) 0 var(--tile-back-side));
}
div.placement { display: flex; user-select: none; }
div.placement:nth-child(1) { margin-left: calc(0 * var(--tile-size)); }
div.placement:nth-child(2) { margin-left: calc(0.5 * var(--tile-size)); }
div.placement:nth-child(3) { margin-left: calc(1 * var(--tile-size)); }
div.placement:nth-child(4) { margin-left: calc(1.5 * var(--tile-size)); }
div.placement > div.placement-name {
  display: flex;
  position: relative;
  font-size: calc(1 * var(--tile-size));
  padding-left: calc(1.75 * var(--tile-size));
  z-index: 1;
}
div.placement > div.placement-name::before {
  position: absolute;
  content: "";
  z-index: -1;
  background: var(--tile-front);
  width: calc(100% + var(--tile-size));
  border-radius: calc(0.125 * var(--tile-size));
  left: -10%;
  height: 110%;
  top: 0%;
  transform: rotate(2deg);
}
div.placement > div.placement-place {
  display: inline-block;
  position: relative;
  font-size: calc(1 * var(--tile-size));
  transform: translateX(var(--tile-size)) rotate(-20deg);
  z-index: 2;
}
div.placement > div.placement-place::before {
  position: absolute;
  content: "";
  background-image: url(/images/brush-bg.svg);
  background-size: 100% 100%;
  background-repeat: no-repeat;
  left: -40%;
  top: -30%;
  width: 180%;
  height: 140%;
  z-index: -1;
}
div.placement span.placement-score {
  margin-left: calc(0.5 * var(--tile-size));
}
div.scoreboard + a.goto-index-button {
  position: absolute;
  width: 100%;
  height: calc(1 * var(--tile-size));
  bottom: calc(0.25 * var(--tile-size));
  background: var(--tile-front);
  font-size: calc(0.75 * var(--tile-size));
  text-align: center;
  text-decoration: none;
  color: black;
  border-width: 0;
  border-radius: calc(0.25 * var(--tile-size));
  filter: drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-front-side))
          drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-back-side));
  cursor: pointer;
}
div.scoreboard + a.goto-index-button:active {
  bottom: 0;
  filter: none;
}


/* ruleset textbox */
div.ruleset {
  position: absolute;
  top: calc(100vh + (2 * var(--tile-size)) + 1.2em);
  left: calc(50% - min(90vw, 80vh) / 2);
  background: #0f6f2f;
  width: min(90vw, 80vh);
  height: 90vh;
}
div.ruleset::before {
  position: absolute;
  content: "Ruleset:";
  top: -1.2em;
  color: white;
}
div.ruleset > textarea {
  width: 100%;
  height: 100%;
  background: #3f3f3f;
  color: white;
  white-space: pre;
}
/* landscape */
@media (min-aspect-ratio: 1.2/1) {
  div.ruleset {
    width: calc(min(90vw, 80vh) + 0.5 * var(--tile-size) + min(50%, calc(40vw - 20% - 0.5 * var(--tile-size))));
  }
}








div.saki-cards {
  display: flex;
}
div.saki-card {
  position: relative;
  width: var(--card-width);
  height: var(--card-height);
  border-radius: calc(0.15 * var(--tile-size));
  flex-shrink: 0;
}
div.saki-card:hover::before {
  position: absolute;
  content: "";
  background: inherit;
  width: var(--card-width);
  height: var(--card-height);
  pointer-events: none;
  left: -350%;
  top: -700%;
  transform-origin: 50% 100%;
  z-index: 10;
}
div.saki-card.v12 {
  --card-width: calc(0.89 * var(--tile-size));
  --card-height: calc(1.25 * var(--tile-size));
  background: url("/images/sakicardsv12.png") no-repeat;
  background-size: auto calc(6 * var(--card-height));
}
div.saki-card.v13 {
  --card-width: calc(0.865 * var(--tile-size));
  --card-height: calc(1.25 * var(--tile-size));
  background: url("/images/sakicardsv13.png") no-repeat;
  background-size: auto calc(7 * var(--card-height));
}
div.saki-card.v12:hover::before {
  --card-width: calc(7.12 * var(--tile-size));
  --card-height: calc(10 * var(--tile-size));
  background-size: auto calc(6 * var(--card-height));
}
div.saki-card.v13:hover::before {
  --card-width: calc(6.92 * var(--tile-size));
  --card-height: calc(10 * var(--tile-size));
  background-size: auto calc(7 * var(--card-height));
}
div.saki-card.v12.aislinn-wishart, div.saki-card.v12.aislinn-wishart:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v12.amae-koromo, div.saki-card.v12.amae-koromo:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v12.anetai-toyone, div.saki-card.v12.anetai-toyone:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v12.arakawa-kei, div.saki-card.v12.arakawa-kei:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v12.atago-hiroe, div.saki-card.v12.atago-hiroe:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v12.atarashi-ako, div.saki-card.v12.atarashi-ako:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v12.choe-myeonghwa, div.saki-card.v12.choe-myeonghwa:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v12.ezaki-hitomi, div.saki-card.v12.ezaki-hitomi:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v12.fukuji-mihoko, div.saki-card.v12.fukuji-mihoko:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v12.hanada-kirame, div.saki-card.v12.hanada-kirame:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v12.hao-huiyu, div.saki-card.v12.hao-huiyu:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v12.haramura-nodoka, div.saki-card.v12.haramura-nodoka:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v12.hirose-sumire, div.saki-card.v12.hirose-sumire:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v12.ikeda-kana, div.saki-card.v12.ikeda-kana:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v12.inoue-jun, div.saki-card.v12.inoue-jun:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v12.iwato-kasumi, div.saki-card.v12.iwato-kasumi:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v12.jindai-komaki, div.saki-card.v12.jindai-komaki:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v12.kajiki-yumi, div.saki-card.v12.kajiki-yumi:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v12.kainou-yoshiko, div.saki-card.v12.kainou-yoshiko:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v12.kakura-kurumi, div.saki-card.v12.kakura-kurumi:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v12.kanbara-satomi, div.saki-card.v12.kanbara-satomi:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v12.karijuku-tomoe, div.saki-card.v12.karijuku-tomoe:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v12.kataoka-yuuki, div.saki-card.v12.kataoka-yuuki:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v12.kosegawa-shiromi, div.saki-card.v12.kosegawa-shiromi:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v12.kunihiro-hajime, div.saki-card.v12.kunihiro-hajime:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v12.mase-yuuko, div.saki-card.v12.mase-yuuko:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v12.matano-seiko, div.saki-card.v12.matano-seiko:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v12.matsumi-kuro, div.saki-card.v12.matsumi-kuro:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v12.matsumi-yuu, div.saki-card.v12.matsumi-yuu:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v12.maya-yukiko, div.saki-card.v12.maya-yukiko:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v12.megan-davin, div.saki-card.v12.megan-davin:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v12.miyanaga-saki, div.saki-card.v12.miyanaga-saki:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v12.miyanaga-teru, div.saki-card.v12.miyanaga-teru:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v12.nanpo-kazue, div.saki-card.v12.nanpo-kazue:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v12.nelly-virsaladze, div.saki-card.v12.nelly-virsaladze:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v12.onjouji-toki, div.saki-card.v12.onjouji-toki:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v12.oohoshi-awai, div.saki-card.v12.oohoshi-awai:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v12.ryuumonbuchi-touka, div.saki-card.v12.ryuumonbuchi-touka:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v12.sagimori-arata, div.saki-card.v12.sagimori-arata:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v12.sawamura-tomoki, div.saki-card.v12.sawamura-tomoki:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v12.senoo-kaori, div.saki-card.v12.senoo-kaori:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v12.shibuya-takami, div.saki-card.v12.shibuya-takami:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v12.shimizudani-ryuuka, div.saki-card.v12.shimizudani-ryuuka:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v12.shirouzu-mairu, div.saki-card.v12.shirouzu-mairu:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v12.someya-mako, div.saki-card.v12.someya-mako:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v12.takakamo-shizuno, div.saki-card.v12.takakamo-shizuno:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v12.takei-hisa, div.saki-card.v12.takei-hisa:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v12.takimi-haru, div.saki-card.v12.takimi-haru:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v12.toyouko-momoko, div.saki-card.v12.toyouko-momoko:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v12.tsujigaito-satoha, div.saki-card.v12.tsujigaito-satoha:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v12.tsuruta-himeko, div.saki-card.v12.tsuruta-himeko:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v12.usuzawa-sae, div.saki-card.v12.usuzawa-sae:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v12.usuzumi-hatsumi, div.saki-card.v12.usuzumi-hatsumi:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v12.yumeno-maho, div.saki-card.v12.yumeno-maho:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v13.aislinn-wishart, div.saki-card.v13.aislinn-wishart:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v13.amae-koromo, div.saki-card.v13.amae-koromo:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v13.anetai-toyone, div.saki-card.v13.anetai-toyone:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v13.arakawa-kei, div.saki-card.v13.arakawa-kei:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v13.atago-hiroe, div.saki-card.v13.atago-hiroe:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v13.atago-kinue, div.saki-card.v13.atago-kinue:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v13.atarashi-ako, div.saki-card.v13.atarashi-ako:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v13.choe-myeonghwa, div.saki-card.v13.choe-myeonghwa:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v13.ezaki-hitomi, div.saki-card.v13.ezaki-hitomi:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-0 * var(--card-height)); }
div.saki-card.v13.fukuji-mihoko, div.saki-card.v13.fukuji-mihoko:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v13.funakubo-hiroko, div.saki-card.v13.funakubo-hiroko:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v13.hanada-kirame, div.saki-card.v13.hanada-kirame:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v13.hao-huiyu, div.saki-card.v13.hao-huiyu:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v13.haramura-nodoka, div.saki-card.v13.haramura-nodoka:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v13.hirose-sumire, div.saki-card.v13.hirose-sumire:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v13.ikeda-kana, div.saki-card.v13.ikeda-kana:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v13.inoue-jun, div.saki-card.v13.inoue-jun:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v13.iwadate-yuan, div.saki-card.v13.iwadate-yuan:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-1 * var(--card-height)); }
div.saki-card.v13.iwato-kasumi, div.saki-card.v13.iwato-kasumi:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v13.jindai-komaki, div.saki-card.v13.jindai-komaki:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v13.kajiki-yumi, div.saki-card.v13.kajiki-yumi:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v13.kainou-yoshiko, div.saki-card.v13.kainou-yoshiko:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v13.kakura-kurumi, div.saki-card.v13.kakura-kurumi:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v13.kanbara-satomi, div.saki-card.v13.kanbara-satomi:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v13.karijuku-tomoe, div.saki-card.v13.karijuku-tomoe:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v13.kataoka-yuuki, div.saki-card.v13.kataoka-yuuki:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v13.kosegawa-shiromi, div.saki-card.v13.kosegawa-shiromi:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-2 * var(--card-height)); }
div.saki-card.v13.kunihiro-hajime, div.saki-card.v13.kunihiro-hajime:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v13.mase-yuuko, div.saki-card.v13.mase-yuuko:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v13.matano-seiko, div.saki-card.v13.matano-seiko:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v13.matsumi-kuro, div.saki-card.v13.matsumi-kuro:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v13.matsumi-yuu, div.saki-card.v13.matsumi-yuu:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v13.maya-yukiko, div.saki-card.v13.maya-yukiko:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v13.megan-davin, div.saki-card.v13.megan-davin:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v13.miyanaga-saki, div.saki-card.v13.miyanaga-saki:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v13.miyanaga-teru, div.saki-card.v13.miyanaga-teru:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-3 * var(--card-height)); }
div.saki-card.v13.motouchi-naruka, div.saki-card.v13.motouchi-naruka:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v13.nanpo-kazue, div.saki-card.v13.nanpo-kazue:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v13.nelly-virsaladze, div.saki-card.v13.nelly-virsaladze:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v13.onjouji-toki, div.saki-card.v13.onjouji-toki:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v13.oohoshi-awai, div.saki-card.v13.oohoshi-awai:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v13.ryuumonbuchi-touka, div.saki-card.v13.ryuumonbuchi-touka:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v13.sagimori-arata, div.saki-card.v13.sagimori-arata:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v13.sawamura-tomoki, div.saki-card.v13.sawamura-tomoki:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v13.senoo-kaori, div.saki-card.v13.senoo-kaori:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v13.shibuya-takami, div.saki-card.v13.shibuya-takami:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v13.shimizudani-ryuuka, div.saki-card.v13.shimizudani-ryuuka:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v13.shirouzu-mairu, div.saki-card.v13.shirouzu-mairu:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v13.shishihara-sawaya, div.saki-card.v13.shishihara-sawaya:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v13.someya-mako, div.saki-card.v13.someya-mako:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v13.suehara-kyouko, div.saki-card.v13.suehara-kyouko:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v13.takakamo-shizuno, div.saki-card.v13.takakamo-shizuno:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v13.takei-hisa, div.saki-card.v13.takei-hisa:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v13.takimi-haru, div.saki-card.v13.takimi-haru:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v13.toyouko-momoko, div.saki-card.v13.toyouko-momoko:hover::before { background-position-x: calc(-0 * var(--card-width)); background-position-y: calc(-6 * var(--card-height)); }
div.saki-card.v13.tsujigaito-satoha, div.saki-card.v13.tsujigaito-satoha:hover::before { background-position-x: calc(-1 * var(--card-width)); background-position-y: calc(-6 * var(--card-height)); }
div.saki-card.v13.tsuruta-himeko, div.saki-card.v13.tsuruta-himeko:hover::before { background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-6 * var(--card-height)); }
div.saki-card.v13.ueshige-suzu, div.saki-card.v13.ueshige-suzu:hover::before { background-position-x: calc(-3 * var(--card-width)); background-position-y: calc(-6 * var(--card-height)); }
div.saki-card.v13.usuzawa-sae, div.saki-card.v13.usuzawa-sae:hover::before { background-position-x: calc(-4 * var(--card-width)); background-position-y: calc(-6 * var(--card-height)); }
div.saki-card.v13.usuzumi-hatsumi, div.saki-card.v13.usuzumi-hatsumi:hover::before { background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-6 * var(--card-height)); }
div.saki-card.v13.yae-kobashiri, div.saki-card.v13.yae-kobashiri:hover::before { background-position-x: calc(-6 * var(--card-width)); background-position-y: calc(-6 * var(--card-height)); }
div.saki-card.v13.yoshitome-miharu, div.saki-card.v13.yoshitome-miharu:hover::before { background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-6 * var(--card-height)); }
div.saki-card.v13.yumeno-maho, div.saki-card.v13.yumeno-maho:hover::before { background-position-x: calc(-8 * var(--card-width)); background-position-y: calc(-6 * var(--card-height)); }
div.shimocha div.saki-card:hover::before { transform: rotate(90deg) translateX(calc(-0.75 * var(--tile-size))) translateY(calc(3 * var(--tile-size))); }
div.toimen div.saki-card:hover::before { transform: rotate(180deg) translateY(calc(5 * var(--tile-size))); }
div.kamicha div.saki-card:hover::before { transform: rotate(270deg) translateX(calc(0.75 * var(--tile-size))) translateY(calc(0.5 * var(--tile-size))); }
div.saki-card.disabled, div.saki-card.disabled:hover::before { filter: saturate(0%); }
/* double card view for mairu/himeko */
div.saki-card:hover::after {
  position: absolute;
  background: inherit;
  width: var(--card-width);
  height: var(--card-height);
  pointer-events: none;
  left: calc(-350% + 0.5 * var(--card-width));
  top: -700%;
  transform-origin: 50% 100%;
  z-index: 10;
}
div.saki-card.v12:hover::after {
  --card-width: calc(7.12 * var(--tile-size));
  --card-height: calc(10 * var(--tile-size));
  background-size: auto calc(6 * var(--card-height));
}
div.saki-card.v13:hover::after {
  --card-width: calc(6.92 * var(--tile-size));
  --card-height: calc(10 * var(--tile-size));
  background-size: auto calc(7 * var(--card-height));
}
div.saki-card.v12.shirouzu-mairu::after { content: ""; background-position-x: calc(-5 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.v12.tsuruta-himeko::after { content: ""; background-position-x: calc(-7 * var(--card-width)); background-position-y: calc(-4 * var(--card-height)); }
div.saki-card.v13.shirouzu-mairu::after { content: ""; background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-6 * var(--card-height)); }
div.saki-card.v13.tsuruta-himeko::after { content: ""; background-position-x: calc(-2 * var(--card-width)); background-position-y: calc(-5 * var(--card-height)); }
div.saki-card.shirouzu-mairu:hover::before,
div.saki-card.tsuruta-himeko:hover::before {
  transform: translateX(calc(-0.5 * var(--card-width)));
}
div.shimocha div.saki-card.shirouzu-mairu:hover::before,
div.shimocha div.saki-card.tsuruta-himeko:hover::before {
  transform: translateY(calc(-0.5 * var(--card-width))) rotate(90deg) translateX(calc(-0.75 * var(--tile-size))) translateY(calc(3 * var(--tile-size)));
}
div.toimen div.saki-card.shirouzu-mairu:hover::before,
div.toimen div.saki-card.tsuruta-himeko:hover::before {
  transform: translateX(calc(0.5 * var(--card-width))) rotate(180deg) translateY(calc(5 * var(--tile-size)));
}
div.kamicha div.saki-card.shirouzu-mairu:hover::before,
div.kamicha div.saki-card.tsuruta-himeko:hover::before {
  transform: translateY(calc(0.5 * var(--card-width))) rotate(270deg) translateX(calc(0.75 * var(--tile-size))) translateY(calc(0.5 * var(--tile-size)));
}
div.shimocha div.saki-card:hover::after {
  transform: translateY(calc(0.5 * var(--card-width))) rotate(90deg) translateY(calc(0.5 * var(--card-width))) translateX(calc(-0.75 * var(--tile-size))) translateY(calc(3 * var(--tile-size)));
}
div.toimen div.saki-card:hover::after {
  transform: rotate(180deg) translateX(var(--card-width)) translateY(calc(5 * var(--tile-size)));
}
div.kamicha div.saki-card:hover::after {
  transform: translateY(calc(-0.5 * var(--card-width))) rotate(270deg) translateY(calc(-0.5 * var(--card-width))) translateX(calc(0.75 * var(--tile-size))) translateY(calc(0.5 * var(--tile-size)));
}












/* index/title screen and log menu screen */
div.title {
  text-align: center;
  display: flex;
  column-gap: calc(2 * var(--tile-size));
  user-select: none;
}
div.title > div {
  position: absolute;
  z-index: 2;
  display: inline-block;
}
div.title > div.title-riichi {
  font-size: calc(3 * var(--tile-size));
  transform: rotate(2deg);  
  top: 0;
  width: calc(10 * var(--tile-size));
  left: calc(2 * var(--tile-size));
}
div.title > div.title-advanced {
  font-size: calc(2 * var(--tile-size));
  transform: rotate(-10deg);  
  left: calc(4.5 * var(--tile-size));
  top: calc(3 * var(--tile-size));
}
div.title > div.tile {
  --tile-size: min(calc(90vw / 6), calc(80vh / 6));
  top: calc(0.2 * var(--tile-size));
}
div.title > div.tile.\38 m {
  transform: rotate(10deg);
  left: calc(0.2 * var(--tile-size));
}
div.title > div.tile.\37 z {
  transform: rotate(-10deg);
  right: calc(0.2 * var(--tile-size));
}
div.title > div.title-riichi::before,
div.title > div.title-advanced::before {
  position: absolute;
  content: "";
  width: 150%;
  height: 140%;
  left: -25%;
  bottom: -7.5%;
  z-index: -1;
}
div.title > div.title-riichi::before {
  background-image: url(/images/brush-bg.svg);
  background-size: 100% 100%;
  background-repeat: no-repeat;
  z-index: -1;
}
div.title > div.title-advanced::before {
  background-image: url(/images/brush-bg2.svg);
  background-size: 100% 100%;
  background-repeat: no-repeat;
  z-index: -1;
}

div#container > form {
  position: absolute;
  width: calc(100% - 3 * var(--tile-size));
  top: calc(50% - 1 * var(--tile-size));
  left: calc(1 * var(--tile-size));
  padding: calc(0.5 * var(--tile-size));
  border-radius: calc(0.25 * var(--tile-size));
  background: #FFFFFF3F;
}
div#container > form, div#container > form * {
  font-size: calc(0.75 * var(--tile-size));
}
div#container > form > div.form-error {
  font-size: calc(0.5 * var(--tile-size));
  color: white;
}
div#container > div.index-bottom-buttons {
  position: absolute;
  right: 0;
  bottom: 0;
}
div#container > div.index-bottom-buttons > button {
  font-size: calc(0.5 * var(--tile-size));
}




/* lobby screen */
div.lobby {
  display: flex;
  position: relative;
  flex-direction: column;
  row-gap: calc(0.25 * var(--tile-size));
  color: white;
}
div.lobby > header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: calc(0.5 * var(--tile-size));
  position: absolute;
  top: calc(-1 * var(--tile-size));
  width: 100%;
}
div.lobby > div.rooms {
  position: relative;
  padding: calc(0.5 * var(--tile-size));
  border-radius: calc(0.25 * var(--tile-size));
  background: #FFFFFF3F;
  width: calc(100% - 1 * var(--tile-size));
  height: calc(100% - 3 * var(--tile-size));
  top: calc(1 * var(--tile-size));
  left: calc(0 * var(--tile-size));
  display: flex;
  flex-direction: column;
  row-gap: calc(0.5 * var(--tile-size));
}
/* allow scroll but hide scrollbar */
div.lobby > div.rooms {
  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
}
div.lobby > div.rooms::-webkit-scrollbar { 
  display: none; /* Safari/Chrome */
}

div.lobby > div.rooms > div.room {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}
div.lobby > div.rooms > div.room > button.join-room,
div.lobby > button.create-room {
  background: var(--tile-front-side);
  border-width: 0;
  border-radius: calc(0.25 * var(--tile-size));
  filter: drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-front-side))
          drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-back-side));
  cursor: pointer;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
}
div.lobby > div.rooms > div.room > button.join-room {
  padding-top: calc(0.25 * var(--tile-size));
}
div.lobby > div.rooms > div.room > button.join-room:active,
div.lobby > button.create-room:active {
  filter: drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-front-side));
  transform: translateY(calc(var(--tile-size) / 8));
  z-index: 1;
}
div.lobby > div.rooms > div.room > div.room-mods {
  display: flex;
  flex-flow: row wrap;
  flex-grow: 1;
  padding: 0 calc(0.25 * var(--tile-size));
  align-items: center;
  column-gap: calc(0.25 * var(--tile-size));
}
div.lobby > div.rooms > div.room > div.room-players {
  font-size: calc(0.75 * var(--tile-size));
}
div.lobby > button.create-room {
  position: absolute;
  width: 100%;
  bottom: calc(0 * var(--tile-size));
  left: calc(0 * var(--tile-size));
}

















/* room screen */
div.room {
  display: flex;
  position: relative;
  flex-direction: column;
  row-gap: calc(0.25 * var(--tile-size));
  color: white;
}
div.room > header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: calc(0.5 * var(--tile-size));
  position: absolute;
  top: calc(-1 * var(--tile-size));
  width: 100%;
}
div.room > header > div.session {
  display: flex;
  flex-direction: row;
  align-items: center;
}
div.room > header > input { display: none; }
div.room > header > label {
  background: gray;
  padding: 0 calc(0.125 * var(--tile-size));
  margin-top: calc(0.125 * var(--tile-size));
  border-radius: calc(0.125 * var(--tile-size));
}
div.room > header > input:checked + label { background: var(--tile-back); }

div.room > div.seats,
div.room > div.mods,
div.room > div.custom-json {
  position: relative;
  padding: calc(0.5 * var(--tile-size));
  border-radius: calc(0.25 * var(--tile-size));
  background: #FFFFFF3F;
  width: calc(100% - 3 * var(--tile-size));
  left: calc(1 * var(--tile-size));
}
div.room > div.seats {
  top: calc(1.5 * var(--tile-size));
  height: calc(1 * var(--tile-size));
  display: flex;
  justify-content: space-between;
}
div.room > div.seats > div.player-slot {
  position: relative;
  width: 20%;
}
div.room > div.seats > div.player-slot > .player-slot-button,
div.room > div.seats-buttons > button {
  background: var(--tile-front);
  color: black;
  border-width: 0;
  border-radius: calc(0.25 * var(--tile-size));
  filter: drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-front-side))
          drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-back-side));
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-content: center;
  text-align: center;
  vertical-align: center;
  flex-direction: column;
}
div.room > div.seats > div.player-slot > .player-slot-button {
  position: absolute;
  top: calc(0.45 * var(--tile-size));
  background: var(--tile-front);
  color: black;
  border-width: 0;
  border-radius: calc(0.25 * var(--tile-size));
  filter: drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-front-side))
          drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-back-side));
  cursor: pointer;
  font-size: calc(0.5 * var(--tile-size));
  width: 100%;
  height: calc(0.6 * var(--tile-size));
}
div.room > div.seats > div.player-slot > div.player-slot-label {
  position: absolute;
  top: calc(-0.55 * var(--tile-size));
  text-align: center;
  font-size: calc(0.75 * var(--tile-size));
  color: white;
  width: 100%;
}
div.room > div.seats > div.player-slot.filled > .player-slot-button {
  filter: none;
  cursor: default;
  font-size: calc(0.35 * var(--tile-size));
  height: calc(0.75 * var(--tile-size));
}
div.room > div.seats > div.player-slot > button:active,
div.room > div.seats-buttons > button:active {
  filter: drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-front-side));
  transform: translateY(calc(var(--tile-size) / 8));
  z-index: 1;
}
div.room > div.seats-buttons {
  display: flex;
  position: absolute;
  width: calc(11 * var(--tile-size));
  text-align: center;
  top: calc(4 * var(--tile-size));
  left: calc(4 * var(--tile-size));
  font-size: calc(0.4 * var(--tile-size));
  justify-content: start;
  align-items: center;
  column-gap: calc(0.25 * var(--tile-size));
}
div.room > div.seats-buttons > input { display: none; }
div.room > div.seats-buttons > label {
  background: gray;
  padding: 0 calc(0.125 * var(--tile-size));
  margin-top: calc(0.125 * var(--tile-size));
  border-radius: calc(0.125 * var(--tile-size));
}
div.room > div.seats-buttons > input:checked + label { background: var(--tile-back); }
div.room > div.seats-buttons > button.get-up-button,
div.room > div.seats-buttons > button.start-game-button {
  font-size: calc(0.4 * var(--tile-size));
}
div.room > div.mods,
div.room > div.custom-json {
  top: calc(3 * var(--tile-size));
  height: calc(9 * var(--tile-size));
  font-size: calc(0.5 * var(--tile-size));
}
div.room > div.mods::before,
div.room > div.custom-json::before {
  position: absolute;
  top: calc(-1.5 * var(--tile-size));
  left: calc(-0.5 * var(--tile-size));
  font-size: calc(1 * var(--tile-size));
}
div.room > div.mods::before { content: "Mods"; }
div.room > div.custom-json::before { content: "Ruleset"; }
div.room > div.mods > input { display: none; }
div.room > div.mods > label {
  background: gray;
  padding: 0 calc(0.125 * var(--tile-size));
  margin-top: calc(0.125 * var(--tile-size));
  border-radius: calc(0.125 * var(--tile-size));
  white-space: nowrap;
  user-select: none;
}
div.room > div.mods > input:checked + label { background: var(--tile-back); }
div.room > div.custom-json > textarea {
  position: absolute;
  background: #3f3f3f;
  color: white;
  width: calc(100% - 0.5 * var(--tile-size));
  height: calc(100% - 0.5 * var(--tile-size));
  top: calc(0.25 * var(--tile-size));
  left: calc(0.25 * var(--tile-size));
  white-space: pre;
  box-sizing: border-box;
  font-size: calc(0.25 * var(--tile-size));
}

/* menu nav buttons */
div.menu-buttons-container {
  height: var(--tile-size);
  position: absolute;
  top: calc(-1.5 * var(--tile-size));
  right: 0;
  display: flex;
  flex-direction: row-reverse;
  column-gap: calc(0.25 * var(--tile-size));
  z-index: -1; /* behind revealed tiles */
}
/* landscape */
@media (min-aspect-ratio: 1.2/1) {
  div.menu-buttons-container {
    width: min(50%, calc(40vw - 20% - 0.5 * var(--tile-size)));
    left: calc(100% + var(--tile-size));
  }
}
/* portrait (mobile) */
@media (max-aspect-ratio: 1.2/1) {
  div.menu-buttons-container {
    width: calc(100% + var(--tile-size));
    right: calc(-0.5 * var(--tile-size));
  }
}
div.menu-buttons-container > button {
  height: calc(0.6 * var(--tile-size));
  background: var(--tile-front);
  font-size: calc(0.5 * var(--tile-size));
  border-width: 0;
  border-radius: calc(0.25 * var(--tile-size));
  filter: drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-front-side))
          drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-back-side));
  cursor: pointer;
}
div.menu-buttons-container > button:active {
  filter: drop-shadow(0 calc(var(--tile-size) / 8) 0 var(--tile-front-side));
  transform: translateY(calc(var(--tile-size) / 8));
}

/* log control */

div.log-control {
  background: var(--tile-back);
  position: absolute;
  bottom: calc(2.25 * var(--tile-size));
  right: calc(3.5 * var(--tile-size));
  width: calc(3 * var(--tile-size));
  height: calc(1 * var(--tile-size));
  border-radius: calc(0.25 * var(--tile-size));
  z-index: 5;
  display: flex;
  flex-direction: row;
  justify-content: space-around;
  align-items: center;
}
div.log-control > button.back-button,
div.log-control > button.play-button,
div.log-control > button.next-button {
  height: calc(0.8 * var(--tile-size));
  background: transparent;
  border-width: 0;
  margin: 0;
  padding: 0;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
}