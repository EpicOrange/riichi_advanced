{
  "mods": ["yaku/riichi", "cosmic", "yaku/kontsu_yaku", "yaku/ippatsu", "yaku/tsubame_gaeshi", "show_waits", "kontsu", "cosmic_calls", "space"],
  "config": {
    "starting_hand": {
      "east": ["1m", "2m", "3m", "2p", "3p", "8p", "8p", "1s", "2s", "3s", "7s", "8s", "8s"],
      "south": ["1m", "2m", "3m", "2p", "3p", "8p", "8p", "1s", "2s", "3s", "7s", "8s", "8s"],
      "west": ["1m", "5m", "7m", "1p", "2s", "2s", "2s", "3s", "7s", "1z", "2z", "4z", "5z"],
      "north": ["1m", "2m", "3m", "2p", "3p", "8p", "8p", "1s", "2s", "3s", "7s", "8s", "8s"]
    },
    "starting_draws": ["5z", "3s", "8m", "1s", "7p", "4s", "9m", "3s", "6p", "2m", "9m", "3s", "1m", "1s", "3z", "6z"],
    "starting_dead_wall": ["7z"],
    "tsumogiri_bots": true,
    "win_timer": 300
  },
  "scenes": {
    "start": [
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "Welcome to cosmic riichi! This is a space mahjong variant that adds several new calls and ways to earn +0.5 han and +1 fu. Let's get started.\n(Click to continue)"
      }],
      ["await_click"],
      ["clear_objects"],
      ["await_event", ["play_tile", "south", 13]],
      ["sleep", 1000],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "South just played a tile that matches one in your hand. Because of this, you can call ton on the tile to call a pair. Try it!"
      }],
      ["add_object", "focus", {"width": 0.75, "hand_index": 8}],
      ["add_object", "focus", {"width": 0.75, "x": 5.625, "y": 6.375}],
      ["add_object", "focus", {"width": 1.5, "x": 12.25, "y": "buttons"}],
      ["force_event", ["press_button", "east", "skip"]],
      ["force_event", ["press_button", "north", "skip"]],
      ["force_event", ["press_button", "west", "ton"]],
      ["clear_objects"],
      ["sleep", 750],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "A ton call is just like pon, but for a pair instead of a triplet. It's usually not useful to call a pair, but doing so is a valid way to rush chiitoitsu (1 han open) in cosmic riichi.\n(Click to continue)"
      }],
      ["add_object", "focus", {"width": 2, "x": 16, "y": 16}],
      ["await_click"],
      ["clear_objects"],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "Note that you were not prompted to call ton on this white dragon. Since there's no way to orient the called tile to indicate \"across\", you can only call ton from your left or your right, not across.\n(Click to continue)"
      }],
      ["add_object", "focus", {"width": 0.75, "hand_index": 11}],
      ["add_object", "focus", {"width": 0.75, "x": 10.5, "y": 5.375}],
      ["await_click"],
      ["clear_objects"],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "Discard the 7 of bamboo to continue."
      }],
      ["add_object", "focus", {"width": 0.75, "hand_index": 7}],
      ["force_event", ["play_tile", "west", 7]],
      ["clear_objects"],
      ["await_event", ["play_tile", "east", 13]],
      ["sleep", 1000],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "East just discarded a 1 of bamboo. With your 1 of characters and 1 of circles in hand, in cosmic riichi, you may call Chon to form a mixed triplet (kontsu). Try it now."
      }],
      ["add_object", "focus", {"width": 0.75, "x": 9.75, "y": 5.375}],
      ["add_object", "focus", {"width": 0.75, "hand_index": 0}],
      ["add_object", "focus", {"width": 0.75, "hand_index": 3}],
      ["add_object", "focus", {"width": 1.5, "x": 12, "y": "buttons"}],
      ["force_event", ["press_button", "west", "chon"]],
      ["force_event", ["press_button", "south", "skip"]],
      ["force_event", ["press_button", "north", "skip"]],
      ["clear_objects"],
      ["sleep", 200],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "In cosmic riichi, kontsu like the one you just called are also valid sets in your goal to form four sets and a pair.\n(Click to continue)"
      }],
      ["await_click"],
      ["clear_objects"],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 6.5,
        "text": "Kontsu are worth 1 fu open, 2 fu closed, and double that for a terminal or honor kontsu. (Honor sequences are considered kontsu, not shuntsu.) So your called kontsu is worth 2 fu, and the one in hand is worth 4 fu.\n(Click to continue)"
      }],
      ["add_object", "focus", {"width": 1.5, "hand_index": 6}],
      ["add_object", "focus", {"width": 2, "x": 13.125, "y": 16}],
      ["await_click"],
      ["clear_objects"],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "Discard a character tile to continue."
      }],
      ["add_object", "focus", {"width": 1.25, "hand_index": 0.5}],
      ["force_event", [["play_tile", "west", 0], ["play_tile", "west", 1]]],
      ["clear_objects"],
      ["await_event", ["play_tile", "south", 13]],
      ["force_event", ["press_button", "east", "skip"]],
      ["force_event", ["press_button", "north", "skip"]],
      ["sleep", 1000],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 6.5,
        "text": "Looks like you drew another 3 of bamboo! Because you have a pair of 3 bamboo in your calls, you may call Pon on your turn in order to upgrade it to a triplet (kapon, added triplet). Try it now!"
      }],
      ["add_object", "focus", {"width": 0.75, "draw_index": 8}],
      ["add_object", "focus", {"width": 2, "x": 16, "y": 16}],
      ["add_object", "focus", {"width": 1.5, "x": 12.1875, "y": "buttons"}],
      ["force_event", ["press_button", "west", "kapon"]],
      ["clear_objects"],
      ["sleep", 200],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "Note that you are not given a replacement tile for calling an added pon. This makes sense, since you aren't 'extra' one tile after calling, unlike with kan.\n(Click to continue)"
      }],
      ["await_click"],
      ["clear_objects"],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "We're now tenpai, waiting on white dragon, but unfortunately we have no yaku. What to do?\nDiscard the other character tile to continue."
      }],
      ["add_object", "focus", {"width": 0.75, "hand_index": 0}],
      ["force_event", ["play_tile", "west", 0]],
      ["clear_objects"],
      ["await_event", ["play_tile", "south", 13]],
      ["force_event", ["press_button", "east", "skip"]],
      ["force_event", ["press_button", "north", "skip"]],
      ["sleep", 1000],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "Looks like you drew the last 3 bamboo! Just like with kapon, you can call Kan here to form a glorious added-added kan (kakakan). Go right ahead!"
      }],
      ["add_object", "focus", {"width": 1.5, "x": 12.1875, "y": "buttons"}],
      ["force_event", ["press_button", "west", "kakakan"]],
      ["clear_objects"],
      ["sleep", 1000],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "Unlike kapon, kakakan gives you a replacement tile. Winning off this tile awards rinshan just like any other kan.\n(Click to continue)"
      }],
      ["add_object", "focus", {"width": 0.75, "draw_index": 7}],
      ["await_click"],
      ["clear_objects"],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "Go ahead and discard one of the 2 bamboos. Note that you are now waiting on the green dragon to complete a mixed triplet of dragons."
      }],
      ["add_object", "focus", {"width": 1.5, "hand_index": 1}],
      ["force_event", [["play_tile", "west", 0], ["play_tile", "west", 1], ["play_tile", "west", 2]]],
      ["clear_objects"],
      ["await_event", ["play_tile", "south", 13]],
      ["sleep", 1000],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "South just discarded a west wind. Because you have one of each other wind, you can call Fuun to declare an open mixed quad of winds (fuutsu)! Try it now."
      }],
      ["add_object", "focus", {"width": 1.5, "hand_index": 3}],
      ["add_object", "focus", {"width": 0.75, "x": 5.625, "y": 7.875}],
      ["add_object", "focus", {"width": 1.5, "x": 12.125, "y": "buttons"}],
      ["force_event", ["press_button", "west", "daiminfuun"]],
      ["clear_objects"],
      ["sleep", 500],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "Open fuutsu are worth 8 fu, and closed fuutsu are worth 16. Just like with kans, you get a replacement tile for calling fuun. Unlike with kans, this replacement tile comes from the live wall, not the dead wall.\n(Click to continue)"
      }],
      ["await_click"],
      ["clear_objects"],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 9.125, "y": 8.5,
        "text": "Not only that, the replacement tile was our winning green dragon! Winning after a fuun replacement tile awards rinshan, which is our yaku. Declare tsumo!"
      }],
      ["add_object", "focus", {"width": 0.75, "draw_index": 4}],
      ["add_object", "focus", {"width": 1.5, "x": 11.875, "y": "buttons"}],
      ["force_event", ["press_button", "west", "tsumo"]],
      ["clear_objects"],
      ["sleep", 1500],
      ["add_object", "text", {"size": 0.4, "width": 8, "x": 4, "y": 6.25,
        "text": "Besides rinshan, every mixed triplet of dragons (mini-sangen) is worth 0.5 han, and every mixed triplet of winds that contain both the round and seat wind is worth 0.5 han. So we didn't need rinshan.\n(Click to continue)"
      }],
      ["await_click"],
      ["clear_objects"],
      ["add_object", "text", {"size": 0.4, "width": 8, "x": 4, "y": 5.75,
        "text": "As for the fu calculation, that's tsumo (+2), open kakakan (+8), open terminal chon (+2), open fuun (+8), closed honor kontsu (+4), and closed wait (+2).\n20+2+8+2+8+4+2 is 46, so 50 fu.\n(Click to continue)"
      }],
      ["await_click"],
      ["clear_objects"],
      ["add_object", "text", {"size": 0.4, "width": 8, "x": 4, "y": 6.25,
        "text": "Anyways, that's basically all the new calls in cosmic riichi! The call priority is as follows:\nton < chii < chon < fuun < pon = kan < ron\n(Click to continue)"
      }],
      ["await_click"],
      ["clear_objects"],
      ["add_object", "text", {"size": 0.4, "width": 8, "x": 4, "y": 5.5,
        "text": "In addition, all yakuman now award 13 or 26 han, and having 18+ han awards haneyakuman (12000-24000). By the way, if you were wondering what score you get for having 1.5 han, guess you'll just have to play to find out!\n(Click to continue)"
      }],
      ["await_click"],
      ["clear_objects"],
      ["sleep", 3000],
      ["add_object", "focus", {"width": 0, "x": 0, "y": 0}],
      ["add_object", "text", {"size": 0.4, "width": 5, "x": 10, "y": 6,
        "text": "Click to return to the list of tutorials."
      }],
      ["await_click"],
      ["exit"]
    ]
  }
}
