{
  // The game above is completely parameterized by the JSON file you see
  // before you. This is by design -- the intent for this mahjong client
  // is to be a universal mahjong engine. The engine has no notion
  // of 'tanyao' or 'tenpai' -- those are mere words in a JSON file that
  // the engine blindly interprets. Yaku is customizable, calls are
  // customizable, even the auto buttons on the bottom are customizable.
  // The major design goal is to be able to play any variant of mahjong out
  // there -- Hong Kong, American, Saki-power-infused mahjong.

  "default_mods": [
    "dora", "ura", "kandora", "aka",
    "yaku/ippatsu",
    "nagashi",
    "tobi",
    "suufon_renda",
    "suucha_riichi",
    "suukaikan",
    "agarirenchan", "tenpairenchan",
    "kyuushu_kyuuhai",
    "double_wind_4_fu",
    "yaku/renhou_yakuman", "pao",
    "show_waits"
  ],
  "available_mods": [
    "Rules",
    {"id": "nagashi", "name": "Nagashi", "desc": "Enable nagashi mangan. When you discards are all terminals and honors at exhaustive draw, and none of your discards have been called, then you are paid mangan tsumo at draw."},
    {"id": "tobi", "name": "Tobi", "desc": "Enable busting. Once anyone's points is reduced below zero, the game ends."},
    {"id": "agarirenchan", "name": "Agarirenchan", "desc": "A round repeats if the dealer wins."},
    {"id": "tenpairenchan", "name": "Tenpairenchan", "desc": "A round repeats if the dealer is tenpai at draw."},
    {"id": "agariyame", "deps": ["agarirenchan"], "name": "Agariyame", "desc": "All Last doesn't repeat if the dealer is first place and wins."},
    {"id": "tenpaiyame", "deps": ["tenpairenchan"], "name": "Tenpaiyame", "desc": "All Last doesn't repeat if the dealer is in first place and is tenpai at draw."},
    {"id": "sudden_death", "name": "Sudden Death", "desc": "Sets a goal of 30000 points before the game can end. If the game reaches South 4 (or East 4, in the case of tonpuu) and every player is below 30000 points, play continues to the West (South) round until someone surpasses 30000 points, or at the end of West 4 (South 4)."},
    {"id": "tonpuu", "name": "Tonpuu", "desc": "Limit the game to the East round only."},
    {"id": "immediate_kan_dora", "order": 1, "deps": ["kandora", "dora"], "name": "Immediate Kan Dora", "desc": "Flip kan dora immediately after daiminkan and kakan."},
    {"id": "kuitan_nashi", "name": "Kuitan Nashi", "desc": "Disallow open tanyao."},
    {"id": "kuikae_ari", "name": "Kuikae Ari", "desc": "Allow swap-calling."},
    {"id": "kiriage_mangan", "name": "Kiriage Mangan", "desc": "3 han 60 fu and 4 han 30 fu are worth mangan."},
    {"id": "head_bump", "conflicts": ["sanchahou"], "name": "Head Bump", "desc": "Enable head bump. In case of multiple ron, only the person closest in turn order gets the win."},
    {"id": "drawless_riichi", "name": "Drawless Riichi", "desc": "You may riichi even if you have no draws remaining in the wall."},
    {"id": "mega_riichi_bet", "name": "Mega Riichi Bet", "desc": "Makes riichi bet 5000 instead of 1000."},
    {"id": "big_honba", "name": "Big Honba", "desc": "Makes each honba worth 500 instead of 100."},
    {"id": "double_wind_4_fu", "name": "Double Wind 4 Fu", "desc": "A pair of round+seat winds is worth 4 fu instead of 2 fu."},
    {"id": "three_dora_start", "order": 1, "name": "Three Dora Start", "desc": "Start with 3 dora instead of 1."},
    {"id": "pao", "name": "Sekinin Barai", "desc": "If you deal the last dragon called for a daisangen hand, or the last wind called for a daisuushii hand, you are responsible for the yakuman payment if they tsumo, or half of the payment if they ron off someone else."},
    {"id": "no_kazoe_yakuman", "name": "No Kazoe Yakuman", "desc": "Disable kazoe yakuman. 13+ han is worth sanbaiman."},
    {"id": "no_double_yakuman", "name": "No Double Yakuman", "desc": "Disable double yakuman. Yakuman still stacks, but each yaku that typically awards double yakuman only awards one stack of yakuman."},
    {"id": "yakuman_only", "conflicts": ["yaku/paarenchan"], "order": 1, "name": "Yakuman Only", "desc": "Allow only yakuman-scoring hands."},
    {"id": "wareme", "order": 1, "name": "Wareme", "desc": "In each round, the player whose wall is broken is given the wareme marker. If the wareme player wins, they are paid double the amount of points. If the wareme player has to pay points, they pay double the amount of points. Riichi sticks and honba payments are not affected."},
    {"id": "aotenjou", "order": 1, "name": "Aotenjou", "desc": "Removes limit hands. Score grows exponentially with han according to the formula 4 * fu * 2^(2+han). Not recommended with tobi enabled."},
    {"id": "yakitori", "name": "Yakitori", "desc": "If you do not win any hands by the end of the game, you pay 4000 points to each player as a penalty."},
    {"id": "shuugi", "order": 1, "name": "Shuugi", "desc": "Play with shuugi (poker chips). Players start with zero shuugi, each is worth 2000 points each at the end. Win payments include shuugi along with points. On ron you get shuugi from the discarder; on tsumo you get shuugi from everyone. Each aka, ura, and ippatsu is worth one shuugi. Yakuman is worth 5 shuugi."},
    {"id": "toriuchi", "deps": ["shuugi"], "name": "Toriuchi", "desc": "On ron, each 1s (bird) tile is worth 1 shuugi, unless the discarder's hand contains 7p (pistol) which would shoot the birds dead. That is, unless your hand contains 8s (birdcage) which would protect the birds from gunfire."},
    {"id": "kansai_chiitoitsu", "name": "Kansai Chiitoitsu", "desc": "Chiitoitsu now allows repeated pairs."},
    "Abortive Draws",
    {"id": "suufon_renda", "name": "Suufon Renda", "desc": "Enable 4 wind abortive draw."},
    {"id": "suucha_riichi", "name": "Suucha Riichi", "desc": "Enable 4 riichi abortive draw."},
    {"id": "suukaikan", "name": "Suukaikan", "desc": "Enable 4 kan abortive draw."},
    {"id": "sanchahou", "conflicts": ["head_bump"], "name": "Sanchahou", "desc": "Enable triple ron abortive draw."},
    {"id": "kyuushu_kyuuhai", "name": "Kyuushu Kyuuhai", "desc": "Enable 9 distinct terminal/honor abortive draw."},
    "Dora",
    {"id": "dora", "name": "Dora", "desc": "Enables dora."},
    {"id": "ura", "deps": ["dora"], "name": "Ura", "desc": "Enables ura dora."},
    {"id": "aka", "conflicts": ["chinitsu"], "name": "Aka", "desc": "Enables aka dora (red fives)."},
    {"id": "aka_4", "deps": ["aka"], "conflicts": ["chinitsu"], "name": "Fourth Aka", "desc": "Adds another red five (of circles)."},
    {"id": "aka_6", "deps": ["aka_4", "aka"], "conflicts": ["chinitsu"], "name": "Six Aka", "desc": "Adds another two red fives (of characters and bamboos)."},
    {"id": "aka_12", "deps": ["aka_6", "aka_4", "aka"], "conflicts": ["chinitsu"], "name": "Twelve Aka", "desc": "Changes all fives to red fives."},
    {"id": "its_all_aka", "deps": ["aka"], "order": 3, "name": "It's All Aka?", "desc": "Changes all tiles to aka."},
    {"id": "kandora", "deps": ["dora"], "name": "Kandora", "desc": "Enables dora flip on kan."},
    "Yaku",
    // 1 han
    {"id": "yaku/ippatsu", "name": "Ippatsu", "desc": "Enables ippatsu. \"One-shot\". 1 han if you win before or during your next draw after riichi. Calls invalidate."},
    {"id": "yaku/tsubame_gaeshi", "name": "Tsubame Gaeshi", "desc": "Local yaku. \"Swallow Reversal\". 1 han if you win off a riichi declaration discard."},
    {"id": "yaku/shiiaru_raotai", "name": "Shiiaru Raotai", "desc": "Local yaku. \"Twelve Tiles Down\" 1 han if you win with four calls (and therefore on a single tile wait). Closed kans are permitted."},
    {"id": "yaku/kanburi", "name": "Kanburi", "desc": "Local yaku. \"Shoot After Kan\". 1 han if you win off the tile discarded by a player who just called kan."},
    {"id": "yaku/honors_chiitoitsu", "name": "Honors Chiitoitsu", "desc": "Local yaku. 1 han on top of chiitoitsu if three of your pairs are dragons, or if four of your pairs are winds. If you have all seven honor pairs? Double yakuman."},
    {"id": "yaku/uushin_tsuukan", "name": "Uushin Tsuukan", "desc": "Local yaku. \"Five-Heart Straight\". 1 han on top of ittsu if the winning tile is the five needed for ittsu."},
    // 2 han
    {"id": "yaku/open_riichi", "name": "Open Riichi", "desc": "You have the option to declare open riichi, which is worth 2 han but reveals your hand to the table. Open double riichi is 3 han."},
    {"id": "yaku/sanrenkou", "name": "Sanrenkou", "desc": "Local yaku. \"Three Consecutive Triplets\". 2 han for having three triplets of the same suit in sequence, like 222 333 444."},
    {"id": "yaku/sanshoku_ittsu", "name": "Sanshoku Ittsu", "desc": "Local yaku. 1 han for having a three-color straight, like 123m 456p 789s. 2 han if closed."},
    {"id": "yaku/kyandonhou", "name": "Kyandonhou", "desc": "Local yaku. \"Twice Mixed Double Sequence\". A mixed double sequence is when you have two sequences of the same number in different suits, like 345m 345p. 2 han for having two mixed double sequences."},
    {"id": "yaku/ryandoukou", "name": "Ryandoukou", "desc": "Local yaku. \"Twice Double Triplets\". A double triplet is when you have two triplets of the same number in different suits, like 333m 333p. 2 han for having two sets of double triplets."},
    {"id": "yaku/shoutate", "name": "Shoutate", "desc": "Local yaku. \"Little Mixed Triplets\". 2 han for having sanshoku doukou, except one of the triplets is a pair."},
    {"id": "yaku/choupaikou", "name": "Choupaikou etc.", "desc": "Local yaku. 2 han for having the pattern 111333555 (choupaikou), 111444777 (sujipaikou), or 111555999 (chousankou) in one suit. The pattern does not have to start with 1, but cannot wrap. 1 han if instead, all three triplets are in different suits."},
    {"id": "yaku/suuzuukou", "name": "Suuzuukou", "desc": "Local yaku. \"Four Honor Triplets\". 2 han for having four honor tile triplets."},
    {"id": "yaku/uumensai", "name": "Uumensai", "desc": "Local yaku. \"Five Suits Collected\". 2 han if your hand includes all five suits (character, circle, bamboo, wind, dragon)."},
    {"id": "yaku/sanpuukou", "name": "Sanpuukou", "desc": "Local yaku. \"Three Wind Triplets\". 2 han if you have three wind triplets."},
    {"id": "yaku/renkaihou", "name": "Renkaihou", "desc": "Local yaku. \"Consecutive Blossom\". 2 han if you kan off the rinshan tile and win off of _that_ rinshan tile. Does not stack with rinshan."},
    {"id": "yaku/mondeikou", "deps": ["aka", "aka_4"], "name": "Mondeikou", "desc": "Local yaku. If you have all 4 aka, 2 han on top of aka. This counts as a yaku."},
    // 3 han
    {"id": "yaku/isshoku_sanjun", "name": "Isshoku Sanjun", "desc": "Local yaku. \"Pure Triple Sequences\". 2 han if you have three of the exact same sequence in one suit, like 123 123 123. Like iipeikou but three. +1 han if closed. Does not stack with iipeikou (123 123) or sanrenkou (111 222 333)."},
    {"id": "yaku/ittsu_chanta", "name": "Ittsu Chanta", "desc": "Local yaku. 2 han if you have ittsu, and (except the 456) the rest of your hand is chanta (or junchan, in which case it's 3 han). +1 han if closed. Does not stack with ittsu."},
    {"id": "yaku/tanfonhou", "name": "Tanfonhou", "desc": "Local yaku. \"Win Without Red\". 2 han if your hand contains no red. This means you can have only 248p (2,4,8 circles), 23468s (2,3,4,6,8 bamboo), and any honors except red dragon. 5 han instead if no honor tiles (chintanfon). +1 han if closed."},
    {"id": "yaku/chinpeikou", "name": "Chinpeikou", "desc": "Local yaku. 3 han on top of ryanpeikou if your ryanpeikou sequences are all the same numbers (may be different suits), like 112233 112233. No restriction on the pair, so you can have an honor pair (despite 'chin' being in the name)."},
    "Mangan",
    {"id": "yaku/renhou_mangan", "conflicts": ["yaku/renhou_yakuman"], "name": "Renhou Mangan", "desc": "Local yaku. Instant mangan if you win off the first tile someone dropped before your first draw. Calls invalidate."},
    {"id": "yaku/kinkei_dokuritsu", "name": "Kinkei Dokuritsu", "desc": "Local yaku. \"Golden Rooster Standing Alone\". Mangan if you are waiting on 1s (1 bamboo, the bird tile) with four calls. Can be open or closed."},
    {"id": "yaku/touchao_hanchanshue", "name": "Touchao Hanchanshue", "desc": "Local yaku. \"Fishing Alone in the Cold River Snow\". Mangan if you are waiting on 5z (white dragon) with four calls (open or closed)."},
    {"id": "yaku/uupin_kaihou", "name": "Uupin Kaihou", "desc": "Local yaku. \"Gathering a Plum Blossom from the Roof\". Mangan if you win with rinshan on the 5p (5 circles)."},
    {"id": "yaku/ryanzou_chankan", "name": "Ryanzou Chankan", "desc": "Local yaku. \"Scratching a Carrying Pole\". Mangan if you win with chankan on the 2s (2 bamboo)."},
    {"id": "yaku/iipin_mouyue", "name": "Iipin Mouyue", "desc": "Local yaku. \"Plucking the Moon from the Bottom of the Sea\". Mangan if you win with haitei (not houtei) on the 1p (1 circles)."},
    {"id": "yaku/chuupin_raoyui", "name": "Chuupin Raoyui", "desc": "Local yaku. \"Catching Fish from the Bottom of the River\". Mangan if you win with houtei (not haitei) on the 9p (9 circles)."},
    {"id": "yaku/shanron_chonchu", "name": "Shanron Chonchu", "desc": "Local yaku. \"Two Dragons Fighting Over Pearls\". Mangan if you have kyandonhou (two mixed double sequences) in manzu and souzu, plus a pinzu pair. For the manzu and souzu suits, your two sequences in that suit should not overlap."},
    {"id": "yaku/chiishin_uushii", "name": "Chiishin Uushii", "desc": "Local yaku. \"Seven Stars Disconnected\". Mangan if you have one of every honor tile, plus 7 of 9 tiles in different suji (e.g. 14m25p369s)."},
    {"id": "yaku/maneman", "name": "Maneshi Mangan", "desc": "Local yaku. \"Imitation Mangan\". If you copy any opponent's first five discards exactly, they will pay mangan if you win, but only if you win less than mangan. Calls invalidate."},
    "Yakuman",
    {"id": "yaku/renhou_yakuman", "conflicts": ["yaku/renhou_mangan"], "name": "Renhou Yakuman", "desc": "Local yaku. Instant yakuman if you win off the first tile someone dropped before your first draw. Calls invalidate."},
    {"id": "yaku/paarenchan", "conflicts": ["yakuman_only"], "name": "Paarenchan", "desc": "Local yakuman. The eighth consecutive dealer win is worth Yakuman. Exhaustive and abortive draws break the streak. After 5 wins, the minimum han required for the dealer becomes 2 han."},
    {"id": "yaku/ishino_uenimo_sannen", "name": "Ishino Uenimo Sannen", "desc": "Local yakuman. \"Three Years on a Rock\". If you win with double riichi and haitei/houtei, it's yakuman."},
    {"id": "yaku/toukanhou", "name": "Toukanhou", "desc": "Local yakuman. \"First Kan Win\". If you kan (concealed or from a player) before discarding any tile, and win with rinshan, it's yakuman. Any call from an opponent invalidates this."},
    {"id": "yaku/shiisanpuutaa", "name": "Shiisanpuutaa", "desc": "Local yakuman. \"Thirteen Unconnected\". If you start with 13 disconnected tiles (with one forming a pair), it's yakuman. Calls invalidate."},
    {"id": "yaku/shiisanuushi", "name": "Shiisanuushi", "desc": "Local yakuman. \"Thirteen Independent\". If you start with 14 disconnected tiles, it's yakuman. Calls invalidate."},
    {"id": "yaku/suurenkou", "name": "Suurenkou", "desc": "Local yakuman. \"Four Consecutive Triplets\". If you have four triplets of the same suit of increasing number, like 111 222 333 444, it's yakuman. Pao is applied if the fourth triplet is called."},
    {"id": "yaku/suuchoupaikou", "name": "Suuchoupaikou", "desc": "Local yakuman. \"Four Skipped Tile Triplets\". If you have four triplets of the same suit whose numbers step by 2, like 111 333 555 777, it's yakuman. Pao is applied if the fourth triplet is called."},
    {"id": "yaku/daisharin", "name": "Daisharin etc.", "desc": "Local yakuman. If your hand is closed and your winning hand is 22334455667788 in one suit, it's yakuman."},
    {"id": "yaku/shousharin", "name": "Shousharin etc.", "desc": "Local yakuman. If your hand is closed and your winning hand is 11223344556677 or 33445566778899 in one suit, it's yakuman."},
    {"id": "yaku/isshoku_yonjun", "name": "Isshoku Yonjun", "desc": "Local yakuman. \"Pure Quadruple Sequences\". If you have four of the exact same sequence in one suit, like 123m 123m 123m 123m, it's yakuman. Like iipeikou but four. Pao is applied if the fourth sequence is called."},
    {"id": "yaku/hyakuman_goku", "name": "Hyakuman Goku", "desc": "Local yakuman. \"One Million Stones\". If your hand is purely character tiles whose numbers sum up to at least 100, it's yakuman."},
    {"id": "yaku/kachoufuugetsu", "name": "Kachoufuugetsu", "desc": "Local yakuman. \"Flower, Bird, Wind, Moon\". If your hand is 555p (5 circles) + 111s (birds) + triplet of round or seat wind + 111p (1 circles), it's yakuman."},
    {"id": "yaku/fuukasetsugetsu", "name": "Fuukasetsugetsu", "desc": "Local yakuman. \"Flower, Bird, Snow, Moon\". If your hand is 555p (5 circles) + 555z (white dragon) + triplet of round or seat wind + 111p (1 circles), it's yakuman."},
    {"id": "yaku/kouitten", "name": "Kouitten", "desc": "Local yakuman. \"A Little Red\". Like ryuuiisou, except instead of green dragon, it's red dragon (you must include red dragons)."},
    {"id": "yaku/benikujaku", "name": "Benikujaku", "desc": "Local yakuman. \"Red Peacock\". Like ryuuiisou but red bamboo only: you can only have 1579s and red dragon."},
    {"id": "yaku/kokuiisou", "name": "Kokuiisou", "desc": "Local yakuman. \"All Black\". Like ryuuiisou but black: you can only have 248p and winds."},
    {"id": "yaku/ryuuiisourin", "name": "Ryuuiisourin", "desc": "Local yakuman. Like ryuuiisou, except you have a pair of 5s (5 bamboo)."},
    {"id": "yaku/kouittenrin", "name": "Kouittenrin", "desc": "Local yakuman. Like kouitten, except you have a pair of 5s (5 bamboo)."},
    {"id": "yaku/golden_gate_bridge", "name": "Golden Gate Bridge", "desc": "Local yakuman. If your hand contains 123 345 567 789 all in one suit, it's yakuman. No restrictions on your pair."},
    {"id": "yaku/american_civil_war", "name": "American Civil War", "desc": "Local yakuman. If you have no calls (not even ankan) and your hand consists of the tiles 1861 in one suit, 1865 in another suit, and you have triplets of north and south winds, it's yakuman."},
    {"id": "yaku/tohoku_expressway", "name": "Tohoku Expressway", "desc": "Local yakuman. If your hand consists of only 246p (2,4,6 circles) and east/north winds, it's yakuman."},
    {"id": "yaku/tohoku_shinkansen", "name": "Tohoku Shinkansen", "desc": "Local yakuman. If your closed hand consists of an ittsu and east/north winds, it's yakuman."},
    {"id": "yaku/blue_tunnel", "name": "Blue Tunnel", "desc": "Local yakuman. If your hand consists of only 248p (2,4,8 circles), green dragon, and one type of wind, it's yakuman."},
    {"id": "yaku/junsei_ryuuiisou", "name": "Junsei Ryuuiisou", "desc": "Local yakuman. If you have ryuuiisou without green dragon, it's double yakuman. Doesn't stack with ryuuiisou."},
    {"id": "yaku/chousangen", "name": "Chousangen", "desc": "Local yakuman. If you have kans of all three dragons, it's double yakuman. Doesn't stack with daisangen."},
    {"id": "yaku/chousuushii", "name": "Chousuushii", "desc": "Local yakuman. If you have kans of all four winds, it's quadruple yakuman. Doesn't stack with daisuushi and suukantsu."},
    "Other",
    {"id": "show_waits", "name": "Show Waits", "desc": "Add some UI that shows waits."},
    {"id": "open_hands", "name": "Open Hands", "desc": "Everyone plays with tiles shown."},
    {"id": "ten", "order": 1, "name": "Ten", "desc": "Adds 10m, 10p, and 10s. Changes dora accordingly (if dora is enabled). Tanyao now allows nines, and chanta/junchan/honroutou require tens instead. 13 Orphans now requires the ten instead of the nine of each suit. Ittsu allows 23456789T."},
    {"id": "star_suit", "order": 2, "name": "Star Suit (beta)", "desc": "Adds a fourth suit (stars). This suit does not form yaku. This mod is in beta because we should probably write some yaku for it."},
    {"id": "space", "order": 2, "name": "Space Mahjong", "desc": "Sequences can wrap (891, 912). Winds and dragons can make sequences. You can chii from any direction. Chiitoitsu is disabled. Open kokushi is allowed and worth 3 han."},
    {"id": "galaxy", "order": 2, "conflicts": ["chinitsu"], "name": "Galaxy Mahjong", "desc": "Replaces one of each tile with a blue 'galaxy' tile that acts as a wildcard of its number. For example, galaxy 3s can be used as 3m, 3p, or 3s. Galaxy winds are wind wildcards, and galaxy dragons are dragon wildcards."},
    {"id": "fifth_tile", "conflicts": ["chinitsu"], "name": "Fifth Tile", "desc": "Adds a fifth copy of every standard tile."},
    {"id": "no_honors", "conflicts": ["shiro_pocchi", "golden_chun", "blue_dragon"], "name": "No Honors", "desc": "Removes the honor tiles (winds and dragons) from the game."},
    {"id": "shiro_pocchi", "order": 2, "conflicts": ["no_honors", "chinitsu"], "name": "Shiro Pocchi", "desc": "One of the white dragons is shiro pocchi. Shiro pocchi acts a joker tile when drawn while in riichi."},
    {"id": "golden_chun", "deps": ["shiro_pocchi"], "conflicts": ["no_honors", "chinitsu"], "name": "Golden Chun", "desc": "One of each dragon tile is a special tile. The special white dragon is shiro pocchi, which acts a joker tile when drawn while in riichi. The special green dragon is an aka dora. The special red dragon is the golden chun, which acts as a joker for any five, and grants 1 han when used as a five. Completing a hand via shiro pocchi while using the golden chun as a five and having the aka green dragon scores yakuman. If playing with shuugi, a golden chun used as a five scores 1 shuugi."},
    {"id": "blue_dragon", "conflicts": ["no_honors", "chinitsu"], "name": "Blue Dragon (beta)", "desc": "Adds the Chinese blue-framed white dragon as a fourth dragon tile (hakuban). Yaku treats it as an honor tile. Shousangen is reduced to 1 han (+2 from dragons) and Daisangen is reduced to 2 han (+3 from dragons). Adds Shousuugen (3 dragons + dragon pair) as yakuman and Daisuugen (4 dragons) as double yakuman. This mod is in beta because pao is not yet implemented for blue dragon."},
    {"id": "shouhai", "order": 3, "name": "Shouhai", "desc": "Reduces tiles in hand from 13 to 12. The goal is to achieve a tenpai hand rather than a winning hand. The idea is that your 13th tile is replaced with an invisible 'joker' tile that can be used to complete any hand."},
    {"id": "chinitsu", "conflicts": ["aka", "aka_4", "yaku/mondeikou", "galaxy", "fifth_tile", "shiro_pocchi", "golden_chun", "blue_dragon"], "name": "Chinitsu", "desc": "Replace the wall with 16 copies of each bamboo tile. Includes 10s if Ten is enabled."},
    {"id": "washizu", "order": 1, "name": "Washizu", "desc": "Each tile in the wall is transparent and visible to all, except for one copy. Unflipped dora indicators are not visible."},
    {"id": "calls_are_forced", "conflicts": ["chombo"], "name": "Calls Are Forced", "desc": "Forces you to make all available calls, including riichi. You still get to choose if multiple calls are available."},
    {"id": "chombo", "conflicts": ["calls_are_forced"], "name": "Chombo", "desc": "The tsumo and ron buttons are enabled on every draw and discard. If you make an incorrect win call, your hand is dead and you cannot make a win call for the remainder of the round."},
    {"id": "riichi_jp", "name": "Japanese Yaku Names", "desc": "Display yaku names in Japanese."}

    // pending mod ideas:
    // {"id": "sakizuke_nashi", "name": "Sakizuke Nashi", "desc": "Your hand cannot win unless it is guaranteed a yaku. For example, if you are waiting on red dragon and 3s, but 3s would grant no yaku, you are not allowed to win on the red dragon either."},
    // {"id": "suukantsu_pao", "deps": ["pao"], "name": "Suukantsu Pao", "desc": "You are also responsible for payments if you deal the last kan tile called for a suukantsu hand."},
    // {"id": "rinshan_pao", "name": "Rinshan Pao", "desc": "If someone calls kan on your discard and wins off the kan draw, you are responsible for the full payment."},
    // {"id": "set", "name": "Set", "desc": "You are now playing the card game SET. Sets are no longer sequences or triplets -- instead the three tiles must all match on X property or all be different on X property for all X properties in {suit, suji, low/middle/high}."},
    // {"id": "fives_are_honors", "name": "Fives Are Honors", "desc": "Fives are now honor tiles, and having a triplet of fives gives 1 han. Fives cannot be used in sequences."},
  ],
  "display_name": "Riichi",
  "tutorial_link": "https://github.com/EpicOrange/riichi_advanced/blob/main/documentation/rulesets/base/riichi.md",
  "wall": ["1m", "1m", "1m", "1m",
           "2m", "2m", "2m", "2m",
           "3m", "3m", "3m", "3m",
           "4m", "4m", "4m", "4m",
           "5m", "5m", "5m", "5m",
           "6m", "6m", "6m", "6m",
           "7m", "7m", "7m", "7m",
           "8m", "8m", "8m", "8m",
           "9m", "9m", "9m", "9m",
           "1p", "1p", "1p", "1p",
           "2p", "2p", "2p", "2p",
           "3p", "3p", "3p", "3p",
           "4p", "4p", "4p", "4p",
           "5p", "5p", "5p", "5p",
           "6p", "6p", "6p", "6p",
           "7p", "7p", "7p", "7p",
           "8p", "8p", "8p", "8p",
           "9p", "9p", "9p", "9p",
           "1s", "1s", "1s", "1s",
           "2s", "2s", "2s", "2s",
           "3s", "3s", "3s", "3s",
           "4s", "4s", "4s", "4s",
           "5s", "5s", "5s", "5s",
           "6s", "6s", "6s", "6s",
           "7s", "7s", "7s", "7s",
           "8s", "8s", "8s", "8s",
           "9s", "9s", "9s", "9s",
           "1z", "1z", "1z", "1z",
           "2z", "2z", "2z", "2z",
           "3z", "3z", "3z", "3z",
           "4z", "4z", "4z", "4z",
           "5z", "5z", "5z", "5z",
           "6z", "6z", "6z", "6z",
           "7z", "7z", "7z", "7z"],
  "revealed_tiles": [],
  "max_revealed_tiles": 0,
  "set_definitions": {
    "pair": [0, 0],
    "shuntsu": [0, 1, 2],
    "koutsu": [0, 0, 0],
    "quad": [0, 0, 0, 0],
    "ryanmen/penchan": [0, 1],
    "kanchan": [0, 2],
    "iipeikou": [0, 0, 1, 1, 2, 2],
    "ittsu": [[0,1,2],[3,4,5],[6,7,8]],
    "sanshoku_doujun": [[0,1,2],[10,11,12],[20,21,22]],
    "sanshoku_doukou": [[0,0,0],[10,10,10],[20,20,20]],
    "ton": ["1z", "1z", "1z"],
    "nan": ["2z", "2z", "2z"],
    "shaa": ["3z", "3z", "3z"],
    "pei": ["4z", "4z", "4z"],
    "haku": ["5z", "5z", "5z"],
    "hatsu": ["6z", "6z", "6z"],
    "chun": ["7z", "7z", "7z"],
    "ton_pair": ["1z", "1z"],
    "nan_pair": ["2z", "2z"],
    "shaa_pair": ["3z", "3z"],
    "pei_pair": ["4z", "4z"],
    "haku_pair": ["5z", "5z"],
    "hatsu_pair": ["6z", "6z"],
    "chun_pair": ["7z", "7z"],
    "junchan_1": ["1m","1m","1m"],
    "junchan_2": ["1p","1p","1p"],
    "junchan_3": ["1s","1s","1s"],
    "junchan_4": ["1m","2m","3m"],
    "junchan_5": ["1p","2p","3p"],
    "junchan_6": ["1s","2s","3s"],
    "junchan_7": ["7m","8m","9m"],
    "junchan_8": ["7p","8p","9p"],
    "junchan_9": ["7s","8s","9s"],
    "junchan_10": ["9m","9m","9m"],
    "junchan_11": ["9p","9p","9p"],
    "junchan_12": ["9s","9s","9s"],
    "junchan_pair_1": ["1m","1m"],
    "junchan_pair_2": ["1p","1p"],
    "junchan_pair_3": ["1s","1s"],
    "junchan_pair_4": ["9m","9m"],
    "junchan_pair_5": ["9p","9p"],
    "junchan_pair_6": ["9s","9s"],
    "orphans_all": ["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"],
    "chuurenpoutou": [0,0,0,1,2,3,4,5,6,7,8,8,8]
  },
  "tenpai_definition": [
    [ "exhaustive", [["shuntsu", "koutsu"], 3], [["ryanmen/penchan", "kanchan", "pair"], 1], [["pair"], 1] ],
    [ "exhaustive", [["shuntsu", "koutsu"], 4] ],
    [ [["koutsu"], -1], [["pair"], 6] ],
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 12],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 1]
    ]
  ],
  // used to check for riichi eligibility
  "tenpai_14_definition": [
    [ "exhaustive", [["shuntsu", "koutsu"], 3], [["ryanmen/penchan", "kanchan", "pair"], 1], [["pair"], 1] ],
    [ "exhaustive", [["shuntsu", "koutsu"], 4] ],
    [ [["quad"], -1], [["koutsu"], -2], [["pair"], 6] ],
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 12],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 1]
    ]
  ],
  "kokushi_tenpai_definition": [
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 12],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 1]
    ]
  ],
  "win_definition": [
    [ "exhaustive", [["shuntsu", "koutsu"], 4], [["pair"], 1] ],
    [ [["quad"], -1], [["pair"], 7] ],
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 13],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 1]
    ]
  ],
  "standard_win_definition": [
    [ "exhaustive", [["shuntsu", "koutsu"], 4], [["pair"], 1] ]
  ],
  "shousuushii_definition": [
    [[["ton"], 1], [["nan"], 1], [["shaa"], 1], [["pei_pair"], 1]],
    [[["ton"], 1], [["nan"], 1], [["shaa_pair"], 1], [["pei"], 1]],
    [[["ton"], 1], [["nan_pair"], 1], [["shaa"], 1], [["pei"], 1]],
    [[["ton_pair"], 1], [["nan"], 1], [["shaa"], 1], [["pei"], 1]]
  ],
  "daisuushii_definition": [
    [[["ton"], 1], [["nan"], 1], [["shaa"], 1], [["pei"], 1]]
  ],
  "sanankou_tsumo_definition": [
    // 0 open triplets, hand must be 3 triplets and a pair
    [ [["pon", "daiminkan", "kakan"], -1], [["koutsu"], 3], [["shuntsu", "koutsu"], 1], [["pair"], 1] ],
    // 0-1 open triplets, hand must be 4 triplets and a pair
    [ [["pon", "daiminkan", "kakan"], -2], [["koutsu"], 4], [["pair"], 1] ]
  ],
  "sanankou_ron_definition": [
    // 0 open triplets, hand must be 3 triplets and a pair
    [ "exhaustive", [["pon", "daiminkan", "kakan"], -1], [["koutsu"], 3], [[{"tile": "any", "attrs": ["winning_tile"]}], 0], [["shuntsu", "koutsu"], 1], [["pair"], 1] ],
    // 0-1 open triplets, hand must be 4 triplets and a pair
    [ "exhaustive", [["pon", "daiminkan", "kakan"], -2], [["koutsu"], 4], [[{"tile": "any", "attrs": ["winning_tile"]}], 0], [["pair"], 1] ]
  ],
  "yaku": [
    { "display_name": "Riichi", "value": 1, "when": [{"name": "status", "opts": ["riichi"]}] },
    { "display_name": "Tsumo", "value": 1, "when": ["won_by_draw", {"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}] },
    { "display_name": "Chankan", "value": 1, "when": ["won_by_call"] },
    { "display_name": "Rinshan", "value": 1, "when": [{"name": "status", "opts": ["kan"]}] },
    { "display_name": "Haitei", "value": 1, "when": ["no_tiles_remaining", "won_by_draw"] },
    { "display_name": "Houtei", "value": 1, "when": ["no_tiles_remaining", "not_won_by_draw"] },
    {
      "display_name": "Pinfu",
      "value": 1,
      "when": [
        {"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]},
        {"name": "match", "opts": [["hand", "calls", "winning_tile"], ["standard_win"]]},
        [["won_by_draw", {"name": "fu_equals", "opts": [20]}], ["not_won_by_draw", {"name": "fu_equals", "opts": [30]}]]
      ]
    },
    { "display_name": "Tanyao", "value": 1, "when": [{"name": "winning_hand_consists_of", "opts": ["2m","3m","4m","5m","6m","7m","8m","2p","3p","4p","5p","6p","7p","8p","2s","3s","4s","5s","6s","7s","8s"]}] },
    {
      "display_name": "Iipeikou",
      "value": 1,
      "when": [
        {"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]},
        {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["iipeikou"], 1], [["shuntsu", "koutsu"], 2], [["pair"], 1] ]]]}
      ]
    },
    { "display_name": "Haku", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["haku"], 1], [["shuntsu", "koutsu"], 3], [["pair"], 1] ]]]}] },
    { "display_name": "Hatsu", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["hatsu"], 1], [["shuntsu", "koutsu"], 3], [["pair"], 1] ]]]}] },
    { "display_name": "Chun", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["chun"], 1], [["shuntsu", "koutsu"], 3], [["pair"], 1] ]]]}] },
    {
      "display_name": "Round Wind",
      "value": 1,
      "when": [[
        [{"name": "round_wind_is", "opts": ["east"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["ton"], 1], [["shuntsu", "koutsu"], 3], [["pair"], 1] ]]]}],
        [{"name": "round_wind_is", "opts": ["south"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["nan"], 1], [["shuntsu", "koutsu"], 3], [["pair"], 1] ]]]}],
        [{"name": "round_wind_is", "opts": ["west"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["shaa"], 1], [["shuntsu", "koutsu"], 3], [["pair"], 1] ]]]}],
        [{"name": "round_wind_is", "opts": ["north"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["pei"], 1], [["shuntsu", "koutsu"], 3], [["pair"], 1] ]]]}]
      ]]
    },
    {
      "display_name": "Seat Wind",
      "value": 1,
      "when": [[
        [{"name": "seat_is", "opts": ["east"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["ton"], 1], [["shuntsu", "koutsu"], 3], [["pair"], 1] ]]]}],
        [{"name": "seat_is", "opts": ["south"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["nan"], 1], [["shuntsu", "koutsu"], 3], [["pair"], 1] ]]]}],
        [{"name": "seat_is", "opts": ["west"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["shaa"], 1], [["shuntsu", "koutsu"], 3], [["pair"], 1] ]]]}],
        [{"name": "seat_is", "opts": ["north"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["pei"], 1], [["shuntsu", "koutsu"], 3], [["pair"], 1] ]]]}]
      ]]
    },
    { "display_name": "Double Riichi", "value": 2, "when": [{"name": "status", "opts": ["double_riichi"]}] },
    { "display_name": "Chiitoitsu", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["quad"], -1], [["pair"], 7]]]]}] },
    {
      "display_name": "Chanta",
      "value": 1,
      "when": [
        {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[
          [["junchan_1", "junchan_2", "junchan_3", "junchan_4", "junchan_5", "junchan_6", "junchan_7", "junchan_8", "junchan_9", "junchan_10", "junchan_11", "junchan_12", "ton", "nan", "shaa", "pei", "haku", "hatsu", "chun"], 4],
          [["junchan_pair_1", "junchan_pair_2", "junchan_pair_3", "junchan_pair_4", "junchan_pair_5", "junchan_pair_6", "ton_pair", "nan_pair", "shaa_pair", "pei_pair", "haku_pair", "hatsu_pair", "chun_pair"], 1]
        ]]]}
      ]
    },
    { "display_name": "Ittsu", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [["exhaustive", [["ittsu"], 1], [["shuntsu", "koutsu"], 1], [["pair"], 1] ]]]}] },
    { "display_name": "Sanshoku", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [["exhaustive", [["sanshoku_doujun"], 1], [["shuntsu", "koutsu"], 1], [["pair"], 1] ]]]}] },
    { "display_name": "Sanshoku Doukou", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [["exhaustive", [["sanshoku_doukou"], 1], [["shuntsu", "koutsu"], 1], [["pair"], 1] ]]]}] },
    { "display_name": "Sankantsu", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ [["daiminkan", "ankan", "kakan"], 3] ]]]}] },
    { "display_name": "Toitoi", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ [["koutsu"], 4], [["pair"], 1] ]]]}] },
    {
      "display_name": "Sanankou",
      "value": 2,
      "when": [[
        ["won_by_draw", {"name": "match", "opts": [["hand", "calls", "winning_tile"], ["sanankou_tsumo"]]}],
        ["not_won_by_draw", {"name": "match", "opts": [["hand", "calls", "winning_tile"], ["sanankou_ron"]]}]
      ]]
    },
    { "display_name": "Shousangen", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ [["haku", "hatsu", "chun"], 2], [["haku_pair", "hatsu_pair", "chun_pair"], 1] ]]]}] },
    { "display_name": "Honroutou", "value": 2, "when": [{"name": "winning_hand_consists_of", "opts": ["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"]}] },
    { "display_name": "Ryanpeikou", "value": 3, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["iipeikou"], 2], [["pair"], 1] ]]]}] },
    {
      "display_name": "Junchan",
      "value": 2,
      "when": [
        {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[
          [["junchan_1", "junchan_2", "junchan_3", "junchan_4", "junchan_5", "junchan_6", "junchan_7", "junchan_8", "junchan_9", "junchan_10", "junchan_11", "junchan_12"], 4],
          [["junchan_pair_1", "junchan_pair_2", "junchan_pair_3", "junchan_pair_4", "junchan_pair_5", "junchan_pair_6"], 1]
        ]]]}
      ]
    },
    {
      "display_name": "Honitsu",
      "value": 2,
      "when": [[
        {"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","4m","5m","6m","7m","8m","9m","1z","2z","3z","4z","5z","6z","7z"]},
        {"name": "winning_hand_consists_of", "opts": ["1p","2p","3p","4p","5p","6p","7p","8p","9p","1z","2z","3z","4z","5z","6z","7z"]},
        {"name": "winning_hand_consists_of", "opts": ["1s","2s","3s","4s","5s","6s","7s","8s","9s","1z","2z","3z","4z","5z","6z","7z"]}
      ]]
    },
    {
      "display_name": "Chinitsu",
      "value": 5,
      "when": [[
        {"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","4m","5m","6m","7m","8m","9m"]},
        {"name": "winning_hand_consists_of", "opts": ["1p","2p","3p","4p","5p","6p","7p","8p","9p"]},
        {"name": "winning_hand_consists_of", "opts": ["1s","2s","3s","4s","5s","6s","7s","8s","9s"]}
      ]]
    }
  ],
  "meta_yaku": [
    // closed hand upgrades certain yaku
    { "display_name": "Chanta", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Chanta"]}] },
    { "display_name": "Ittsu", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Ittsu"]}] },
    { "display_name": "Sanshoku", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Sanshoku"]}] },
    { "display_name": "Junchan", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Junchan"]}] },
    { "display_name": "Honitsu", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Honitsu"]}] },
    { "display_name": "Chinitsu", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Chinitsu"]}] }
  ],
  "yakuman": [
    { "display_name": "Tenhou", "value": 1, "when": [{"name": "status", "opts": ["discards_empty"]}, "won_by_draw", {"name": "seat_is", "opts": ["east"]}] },
    { "display_name": "Chiihou", "value": 1, "when": [{"name": "status", "opts": ["discards_empty"]}, "won_by_draw", {"name": "not_seat_is", "opts": ["east"]}] },
    { "display_name": "Daisangen", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["haku"], 1], [["hatsu"], 1], [["chun"], 1]]]]}] },
    {
      "display_name": "Suuankou",
      "value": 1,
      "when": [
        "won_by_draw",
        {"name": "has_no_call_named", "opts": ["pon", "daiminkan", "kakan"]},
        {"name": "match", "opts": [["hand", "calls"], [[[["koutsu"], 3], [["pair"], 2]]]]}
      ]
    },
    {
      "display_name": "Suuankou Tanki",
      "value": 2,
      "when": [
        {"name": "has_no_call_named", "opts": ["pon", "daiminkan", "kakan"]},
        {"name": "match", "opts": [["hand", "calls"], [[[["koutsu"], 4]]]]},
        {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["koutsu"], 4], [["pair"], 1]]]]}
      ]
    },
    { "display_name": "Tsuuiisou", "value": 1, "when": [{"name": "winning_hand_consists_of", "opts": ["1z","2z","3z","4z","5z","6z","7z"]}] },
    { "display_name": "Ryuuiisou", "value": 1, "when": [{"name": "winning_hand_consists_of", "opts": ["2s","3s","4s","6s","8s","6z"]}] },
    { "display_name": "Chinroutou", "value": 1, "when": [{"name": "winning_hand_consists_of", "opts": ["1m","9m","1p","9p","1s","9s"]}] },
    { "display_name": "Chuurenpoutou", "value": 1, "when": [{"name": "match", "opts": [["hand", "winning_tile"], [[[["chuurenpoutou"], 1]]]]}] },
    { "display_name": "Junsei Chuurenpoutou", "value": 2, "when": [{"name": "match", "opts": [["hand"], [[[["chuurenpoutou"], 1]]]]}] },
    { "display_name": "Kokushi Musou", "value": 1, "when": [{"name": "match", "opts": [["hand", "winning_tile"], [[[["orphans_all"], 1]]]]}] },
    { "display_name": "Kokushi Musou Juusan Menmachi", "value": 2, "when": [{"name": "match", "opts": [["hand"], [[[["orphans_all"], 1]]]]}] },
    { "display_name": "Daisuushii", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["daisuushii"]]}] },
    { "display_name": "Shousuushii", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["shousuushii"]]}] },
    { "display_name": "Suukantsu", "value": 1, "when": [{"name": "match", "opts": [["calls"], [[[["daiminkan", "ankan", "kakan"], 4]]]]}] }
  ],
  "meta_yakuman": [
    // tenhou upgrades certain yakuman to double yakuman
    { "display_name": "Suuankou Tanki", "value": 2, "when": [{"name": "not_has_existing_yaku", "opts": ["Suuankou Tanki"]}, {"name": "has_existing_yaku", "opts": ["Tenhou", "Suuankou"]}] },
    { "display_name": "Junsei Chuurenpoutou", "value": 2, "when": [{"name": "not_has_existing_yaku", "opts": ["Junsei Chuurenpoutou"]}, {"name": "has_existing_yaku", "opts": ["Tenhou", "Chuurenpoutou"]}] },
    { "display_name": "Kokushi Musou Juusan Menmachi", "value": 2, "when": [{"name": "not_has_existing_yaku", "opts": ["Kokushi Musou Juusan Menmachi"]}, {"name": "has_existing_yaku", "opts": ["Tenhou", "Kokushi Musou"]}] }
  ],
  "yaku_precedence": {
    "Double Riichi": ["Riichi"],
    "Chinitsu": ["Honitsu"],
    "Chiitoitsu": ["Iipeikou"],
    "Toitoi": ["Iipeikou"],
    "Sanankou": ["Iipeikou"],
    "Ryanpeikou": ["Iipeikou", "Chiitoitsu"],
    "Junchan": ["Chanta"],
    "Honroutou": ["Chanta", "Junchan"],
    "Suuankou": ["Toitoi", "Sanankou"],
    "Suuankou Tanki": ["Suuankou"],
    "Chuurenpoutou": ["Chinitsu"],
    "Junsei Chuurenpoutou": ["Chuurenpoutou"],
    "Kokushi Musou Juusan Menmachi": ["Kokushi Musou"],
    "Daisuushii": ["Shousuushii"]
  },
  "score_calculation": {
    "scoring_method": ["han_fu_formula", "multiplier"],
    "score_multiplier": 32000, // this is for yakuman
    "dealer_multiplier": 1.5,
    "score_name": "Yakuman",
    "limit_thresholds": [
      [3, 70], [4, 40], [5, 0],
      [6, 0],
      [8, 0],
      [11, 0],
      [13, 0]
    ],
    "limit_scores": [
      8000, 8000, 8000,
      12000,
      16000,
      24000,
      32000
    ],
    "limit_names": [
      "Mangan", "Mangan", "Mangan",
      "Haneman",
      "Baiman",
      "Sanbaiman",
      "Kazoe Yakuman"
    ],
    "yaku_lists": ["yaku", "meta_yaku", "extra_yaku"],
    "yaku2_lists": ["yakuman", "meta_yakuman"],
    "extra_yaku_lists": ["extra_yaku"],
    "yaku2_overrides_yaku1": true,
    "draw_tenpai_payments": [1000, 1500, 3000],
    "split_oya_ko_payment": true,
    "riichi_value": 1000,
    "honba_value": 100,
    "right_display": "minipoints",
    "point_name": "Han",
    "point2_name": "★",
    "minipoint_name": "Fu",
    "win_by_discard_label": "Ron",
    "win_by_draw_label": "Tsumo",
    "win_by_discard_name": "Ron",
    "win_by_discard_name_2": "Double Ron",
    "win_by_discard_name_3": "Triple Ron",
    "win_by_draw_name": "Tsumo",
    "triple_win_draw_name": "Sanchahou",
    "exhaustive_draw_name": "Ryuukyoku"
  },
  "play_restrictions": [
    [["any"], [{"name": "status", "opts": ["riichi"]}, {"name": "status_missing", "opts": ["just_reached"]}, "not_is_drawn_tile"]],
    [["any"], [{"name": "status", "opts": ["riichi", "just_reached"]}, {"name": "needed_for_hand", "opts": ["tenpai"]}]],
    [["any"], ["just_called", {"name": "last_called_tile_matches", "opts": ["kuikae"]}]]
  ],
  "functions": {
    // this is run after every call and discard, before the turn changes
    "turn_cleanup": [
      // if we just reached then place down a riichi stick
      ["when", [{"name": "status", "opts": ["just_reached"]}], [["as", "last_discarder", [["run", "put_down_riichi_stick"]]]]],
      // unset furiten (unless in riichi)
      ["when", [{"name": "status_missing", "opts": ["riichi"]}], [["unset_status", "furiten"]]],
      // tenpai check
      ["ite", [{"name": "match", "opts": [["hand", "calls", "draw"], ["tenpai"]]}], [["set_status", "tenpai"]], [["unset_status", "tenpai"]]]
    ],
    "discard_passed": [
      // unset temporary statuses from others
      ["as", "others", [["unset_status", "just_reached", "kan"]]],
      // furiten check
      ["when_anyone",
        [[
          {"name": "match", "opts": [["hand", "calls", "last_discard"], ["win"]]},
          [
            {"name": "last_call_is", "opts": ["kakan"]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ],
          [
            {"name": "last_call_is", "opts": ["ankan"]},
            {"name": "match", "opts": [["hand", "calls", "draw"], ["kokushi_tenpai"]]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ]
        ]],
        [["set_status", "furiten"]]
      ]
    ],
    "do_kan_draw": [
      ["set_status", "kan"],
      ["shift_tile_to_dead_wall", 1],
      ["draw", 1, "opposite_end"]
    ],
    "put_down_riichi_stick": [
      ["when", [{"name": "status_missing", "opts": ["put_down_riichi_stick"]}], [
        ["subtract_score", "riichi_value"], ["put_down_riichi_stick"], ["set_status", "put_down_riichi_stick"]
      ]]
    ]
  },
  "before_turn_change": {
    "actions": [
      ["run", "turn_cleanup"],
      // add furiten due to discards
      ["when", [{"name": "status", "opts": ["tenpai"]}, {"name": "match", "opts": [["hand", "calls", "any_discard"], ["win"]]}], [["set_status", "furiten"]]]
    ]
  },
  "after_turn_change": {
    "actions": [
      ["unless", ["game_start"], [["run", "discard_passed"]]],
      // either draw a tile, or declare exhaustive draw
      ["ite", ["no_tiles_remaining"], [["pause", 1000], ["ryuukyoku"]], [["draw"]]]
    ]
  },
  "before_call": {
    "actions": [["run", "turn_cleanup"], ["unset_status_all", "discards_empty"]]
  },
  "after_call": {
    "actions": [["run", "discard_passed"]]
  },
  "play_effects": [
    ["any", [["unset_status", "discards_empty"]]]
  ],
  "before_win": {
    "actions": [
      ["set_counter", "fu", "fu"]
    ]
  },
  "after_start": {
    "actions": [["set_status_all", "discards_empty"]]
  },
  "buttons": {
    "chii": {
      "display_name": "Chii",
      "call": [[-2, -1], [-1, 1], [1, 2]],
      "call_style": {"kamicha": ["call_sideways", 0, 1], "toimen": [0, "call_sideways", 1], "shimocha": [0, 1, "call_sideways"]},
      "show_when": ["not_our_turn", "not_no_tiles_remaining", "kamicha_discarded", {"name": "status_missing", "opts": ["riichi"]}, "call_available"],
      "actions": [["big_text", "Chii"], ["call"], ["change_turn", "self"]],
      "precedence_over": ["chii"]
    },
    "pon": {
      "display_name": "Pon",
      "call": [[0, 0]],
      "call_style": {"kamicha": ["call_sideways", 0, 1], "toimen": [0, "call_sideways", 1], "shimocha": [0, 1, "call_sideways"]},
      "show_when": ["not_our_turn", "not_no_tiles_remaining", "someone_else_just_discarded", {"name": "status_missing", "opts": ["riichi"]}, "call_available"],
      "actions": [["big_text", "Pon"], ["call"], ["change_turn", "self"]],
      "precedence_over": ["chii", "pon"]
    },
    "daiminkan": {
      "display_name": "Kan",
      "call": [[0, 0, 0]],
      "call_style": {"kamicha": ["call_sideways", 0, 1, 2], "toimen": [0, "call_sideways", 1, 2], "shimocha": [0, 1, 2, "call_sideways"]},
      "show_when": ["not_our_turn", "not_no_tiles_remaining", "someone_else_just_discarded", {"name": "status_missing", "opts": ["riichi"]}, {"name": "tile_not_drawn", "opts": [-4]}, "call_available"],
      "actions": [["big_text", "Kan"], ["call"], ["change_turn", "self"], ["run", "do_kan_draw"]],
      "precedence_over": ["chii", "pon", "daiminkan"]
    },
    "ankan": {
      "display_name": "Ankan",
      "call": [[0, 0, 0]],
      "call_style": {"self": [["1x", 2], 0, 1, ["1x", 3]]},
      "call_conditions": [[
        {"name": "status_missing", "opts": ["riichi"]},
        {"name": "not_call_changes_waits", "opts": ["win"]}
      ]],
      "show_when": ["our_turn", "not_no_tiles_remaining", "has_draw", {"name": "status_missing", "opts": ["just_reached"]}, {"name": "tile_not_drawn", "opts": [-4]}, "self_call_available"],
      "actions": [["big_text", "Kan"], ["self_call"], ["run", "do_kan_draw"]]
    },
    "kakan": {
      "display_name": "Kan",
      "call": [[0, 0, 0]],
      "call_style": {
        "kamicha": [["sideways", 0], "call_sideways", 1, 2],
        "toimen": [0, ["sideways", 1], "call_sideways", 2],
        "shimocha": [0, 1, ["sideways", 2], "call_sideways"]
      },
      "upgrades": "pon",
      // not sure why we have "not_just_discarded", "not_just_called" instead of "has_draw"
      "show_when": ["our_turn", "not_no_tiles_remaining", "not_just_discarded", "not_just_called", "can_upgrade_call", {"name": "status_missing", "opts": ["just_reached"]}, {"name": "tile_not_drawn", "opts": [-4]}],
      "actions": [["big_text", "Kan"], ["upgrade_call"], ["run", "do_kan_draw"]]
    },
    "riichi": {
      "display_name": "Riichi",
      "show_when": [
        "our_turn",
        "has_draw",
        {"name": "status_missing", "opts": ["riichi"]},
        {"name": "has_score", "opts": ["riichi_value"]},
        "next_draw_possible",
        {"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]},
        {"name": "match", "opts": [["hand", "calls", "draw"], ["tenpai_14"]]}
      ],
      "actions": [
        ["big_text", "Riichi"],
        ["set_status", "riichi", "just_reached"],
        ["push_message", "declared riichi"],
        ["when", [{"name": "status", "opts": ["discards_empty"]}, "no_calls_yet"], [["set_status", "double_riichi"]]]
      ]
    },
    "ron": {
      "display_name": "Ron",
      "show_when": [
        "not_our_turn",
        {"name": "match", "opts": [["hand", "calls"], ["tenpai"]]},
        {"name": "status_missing", "opts": ["furiten"]},
        {"name": "status_missing", "opts": ["just_reached"]},
        "someone_else_just_discarded",
        {"name": "match", "opts": [["hand", "calls", "last_discard"], ["win"]]},
        [{"name": "has_yaku_with_discard", "opts": [1]}, {"name": "has_yaku2_with_discard", "opts": [1]}]
      ],
      "actions": [["big_text", "Ron"], ["pause", 1000], ["reveal_hand"], ["win_by_discard"]],
      "precedence_over": ["chii", "pon", "daiminkan"]
    },
    "chankan": {
      "display_name": "Ron",
      "show_when": [
        "not_our_turn",
        {"name": "match", "opts": [["hand", "calls"], ["tenpai"]]},
        {"name": "status_missing", "opts": ["furiten"]},
        {"name": "status_missing", "opts": ["just_reached"]},
        [
          [
            {"name": "last_call_is", "opts": ["kakan"]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ],
          [
            {"name": "last_call_is", "opts": ["ankan"]},
            {"name": "match", "opts": [["hand", "calls"], ["kokushi_tenpai"]]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ]
        ]
      ],
      "actions": [["big_text", "Ron"], ["pause", 1000], ["reveal_hand"], ["win_by_call"]],
      "precedence_over": ["chii", "pon", "daiminkan"]
    },
    "tsumo": {
      "display_name": "Tsumo",
      "show_when": [
        "our_turn",
        "has_draw",
        {"name": "match", "opts": [["hand", "calls"], ["tenpai"]]},
        {"name": "status_missing", "opts": ["just_reached"]},
        {"name": "match", "opts": [["hand", "calls", "draw"], ["win"]]},
        [{"name": "has_yaku_with_hand", "opts": [1]}, {"name": "has_yaku2_with_hand", "opts": [1]}]
      ],
      "actions": [["big_text", "Tsumo"], ["pause", 1000], ["reveal_hand"], ["win_by_draw"]]
    }
  },
  "auto_buttons": {
    "1_auto_sort": {
      "display_name": "A",
      "desc": "Automatically sort your hand.",
      "actions": [["sort_hand"]],
      "enabled_at_start": true
    },
    "2_auto_ron": {
      "display_name": "R",
      "desc": "Automatically declare wins.",
      "actions": [
        ["when", [{"name": "buttons_include", "opts": ["ron"]}], [["press_button", "ron"]]],
        ["when", [{"name": "buttons_include", "opts": ["tsumo"]}], [["press_button", "tsumo"]]]
      ],
      "enabled_at_start": false
    },
    "3_auto_no_call": {
      "display_name": "C",
      "desc": "Skip all calls except wins.",
      "actions": [
        ["when", [
          "not_our_turn",
          {"name": "buttons_include", "opts": ["skip"]},
          {"name": "buttons_exclude", "opts": ["ron"]}
        ], [["press_button", "skip"]]]
      ],
      "enabled_at_start": false
    },
    "4_auto_discard": {
      "display_name": "D",
      "desc": "Automatically discard your drawn tile.",
      "actions": [["when", ["our_turn", {"name": "buttons_exclude", "opts": ["tsumo", "ankan"]}, "has_draw"], [["discard_draw"]]]],
      "enabled_at_start": false
    }
  },
  "interruptible_actions": ["play_tile", "draw", "advance_turn", "self_call", "upgrade_call"],
  "shown_statuses": ["furiten"],
  "display_riichi_sticks": true,
  "display_honba": true,
  "display_wall": true,
  "initial_score": 25000,
  "initial_dead_wall_length": 14,
  "starting_tiles": 13,
  "max_rounds": 8
}
