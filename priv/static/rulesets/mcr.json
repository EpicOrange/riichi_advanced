{
  "default_mods": ["show_waits"],
  "available_mods": [
    {"id": "show_waits", "name": "Show Waits", "desc": "Add some UI that shows waits."},
    {"id": "open_hands", "name": "Open Hands", "desc": "Everyone plays with tiles shown."}
  ],
  "display_name": "MCR",
  "tutorial_link": "https://ooyamaneko.net/download/mahjong/mcr/MCR_2014_en.pdf",
  "wall": ["1m", "1m", "1m", "1m",
           "2m", "2m", "2m", "2m",
           "3m", "3m", "3m", "3m",
           "4m", "4m", "4m", "4m",
           "5m", "5m", "5m", "5m",
           "6m", "6m", "6m", "6m",
           "7m", "7m", "7m", "7m",
           "8m", "8m", "8m", "8m",
           "9m", "9m", "9m", "9m",
           "1p", "1p", "1p", "1p",
           "2p", "2p", "2p", "2p",
           "3p", "3p", "3p", "3p",
           "4p", "4p", "4p", "4p",
           "5p", "5p", "5p", "5p",
           "6p", "6p", "6p", "6p",
           "7p", "7p", "7p", "7p",
           "8p", "8p", "8p", "8p",
           "9p", "9p", "9p", "9p",
           "1s", "1s", "1s", "1s",
           "2s", "2s", "2s", "2s",
           "3s", "3s", "3s", "3s",
           "4s", "4s", "4s", "4s",
           "5s", "5s", "5s", "5s",
           "6s", "6s", "6s", "6s",
           "7s", "7s", "7s", "7s",
           "8s", "8s", "8s", "8s",
           "9s", "9s", "9s", "9s",
           "1z", "1z", "1z", "1z",
           "2z", "2z", "2z", "2z",
           "3z", "3z", "3z", "3z",
           "4z", "4z", "4z", "4z",
           "0z", "0z", "0z", "0z",
           "6z", "6z", "6z", "6z",
           "7z", "7z", "7z", "7z",
           "1f", "2f", "3f", "4f",
           "1g", "2g", "3g", "4g"],
  "set_definitions": {
    "pair": [0, 0],
    "shuntsu": [0, 1, 2],
    "koutsu": [0, 0, 0],
    "quad": [0, 0, 0, 0],
    "ryanmen/penchan": [0, 1],
    "kanchan": [0, 2],
    "knit_shuntsu1": [0, 11, 22],
    "knit_shuntsu2": [0, 21, 12],
    "knit_koutsu": [0, 10, 20],
    "knit_taatsu1": [0, 11],
    "knit_taatsu2": [0, 21],
    "knit_taatsu3": [0, 12],
    "knit_taatsu4": [0, 22],
    "knit_straight1": [[0,3,6],[11,14,17],[22,25,28]],
    "knit_straight2": [[0,3,6],[21,24,27],[12,15,18]],
    "knit_triplets": [[0,3,6],[10,13,16],[20,23,26]],
    "knit_short_straight1": [[0,3],[11,14],[22,25]],
    "knit_short_straight2": [[0,3],[21,24],[12,15]],
    "knit_terminal_seqs1": [[0,6],[11,17],[22,28]],
    "knit_terminal_seqs2": [[0,6],[21,27],[12,18]],
    "iipeikou": [0, 0, 1, 1, 2, 2],
    "terminal_sequences": [[0,1,2],[6,7,8]],
    "pure_terminal_sequences": [0,0,1,1,2,2,6,6,7,7,8,8],
    "ton": ["1z", "1z", "1z"],
    "nan": ["2z", "2z", "2z"],
    "shaa": ["3z", "3z", "3z"],
    "pei": ["4z", "4z", "4z"],
    "haku": ["0z", "0z", "0z"],
    "hatsu": ["6z", "6z", "6z"],
    "chun": ["7z", "7z", "7z"],
    "ton_pair": ["1z", "1z"],
    "nan_pair": ["2z", "2z"],
    "shaa_pair": ["3z", "3z"],
    "pei_pair": ["4z", "4z"],
    "haku_pair": ["0z", "0z"],
    "hatsu_pair": ["6z", "6z"],
    "chun_pair": ["7z", "7z"],
    "junchan_1": ["1m","1m","1m"],
    "junchan_2": ["1p","1p","1p"],
    "junchan_3": ["1s","1s","1s"],
    "junchan_4": ["1m","2m","3m"],
    "junchan_5": ["1p","2p","3p"],
    "junchan_6": ["1s","2s","3s"],
    "junchan_7": ["7m","8m","9m"],
    "junchan_8": ["7p","8p","9p"],
    "junchan_9": ["7s","8s","9s"],
    "junchan_10": ["9m","9m","9m"],
    "junchan_11": ["9p","9p","9p"],
    "junchan_12": ["9s","9s","9s"],
    "junchan_pair_1": ["1m","1m"],
    "junchan_pair_2": ["1p","1p"],
    "junchan_pair_3": ["1s","1s"],
    "junchan_pair_4": ["9m","9m"],
    "junchan_pair_5": ["9p","9p"],
    "junchan_pair_6": ["9s","9s"],
    "orphans_all": ["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","0z","6z","7z"],
    "chuurenpoutou": [0,0,0,1,2,3,4,5,6,7,8,8,8]
  },
  "tenpai_definition": [
    [ "exhaustive", [["shuntsu", "koutsu"], 3], [["ryanmen/penchan", "kanchan", "pair"], 1], [["pair"], 1] ],
    [ "exhaustive", "almost", [["pair"], 1], [["shuntsu", "koutsu"], 1], [["knit_straight1", "knit_straight2"], 1] ],
    [ "exhaustive", [["shuntsu", "koutsu"], 4] ],
    [ "exhaustive", [["shuntsu", "koutsu"], 1], [["knit_straight1", "knit_straight2"], 1] ],
    [ [["pair"], 6] ],
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","0z","6z","7z"], 12],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","0z","6z","7z"], 1]
    ],
    [ "unique", [["1m","4m","7m","2p","5p","8p","3s","6s","9s","1z","2z","3z","4z","0z","6z","7z"], 13] ],
    [ "unique", [["1m","4m","7m","3p","6p","9p","2s","5s","8s","1z","2z","3z","4z","0z","6z","7z"], 13] ],
    [ "unique", [["2m","5m","8m","1p","4p","7p","3s","6s","9s","1z","2z","3z","4z","0z","6z","7z"], 13] ],
    [ "unique", [["2m","5m","8m","3p","6p","9p","1s","4s","7s","1z","2z","3z","4z","0z","6z","7z"], 13] ],
    [ "unique", [["3m","6m","9m","1p","4p","7p","2s","5s","8s","1z","2z","3z","4z","0z","6z","7z"], 13] ],
    [ "unique", [["3m","6m","9m","2p","5p","8p","1s","4s","7s","1z","2z","3z","4z","0z","6z","7z"], 13] ]
  ],
  "kokushi_tenpai_definition": [
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","0z","6z","7z"], 12],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","0z","6z","7z"], 1]
    ]
  ],
  "win_definition": [
    [ "exhaustive", [["pair"], 1], [["shuntsu", "koutsu"], 4] ],
    [ "exhaustive", [["pair"], 1], [["shuntsu", "koutsu"], 1], [["knit_straight1", "knit_straight2"], 1] ],
    [ [["pair"], 7] ],
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","0z","6z","7z"], 13],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","0z","6z","7z"], 1]
    ],
    [ "unique", [["1m","4m","7m","2p","5p","8p","3s","6s","9s","1z","2z","3z","4z","0z","6z","7z"], 14] ],
    [ "unique", [["1m","4m","7m","3p","6p","9p","2s","5s","8s","1z","2z","3z","4z","0z","6z","7z"], 14] ],
    [ "unique", [["2m","5m","8m","1p","4p","7p","3s","6s","9s","1z","2z","3z","4z","0z","6z","7z"], 14] ],
    [ "unique", [["2m","5m","8m","3p","6p","9p","1s","4s","7s","1z","2z","3z","4z","0z","6z","7z"], 14] ],
    [ "unique", [["3m","6m","9m","1p","4p","7p","2s","5s","8s","1z","2z","3z","4z","0z","6z","7z"], 14] ],
    [ "unique", [["3m","6m","9m","2p","5p","8p","1s","4s","7s","1z","2z","3z","4z","0z","6z","7z"], 14] ]
  ],
  "ryanankou_tsumo_definition": [
    // 0 open triplets, hand must be 2 triplets and a pair
    [ [["pon", "daiminkan", "kakan"], -1], [["koutsu"], 2], [["shuntsu", "koutsu"], 2], [["pair"], 1] ],
    // 0-1 open triplets, hand must be 3 triplets and a pair
    [ [["pon", "daiminkan", "kakan"], -2], [["koutsu"], 3], [["shuntsu", "koutsu"], 1], [["pair"], 1] ],
    // 0-2 open triplets, hand must be 4 triplets and a pair
    [ [["pon", "daiminkan", "kakan"], -3], [["koutsu"], 4], [["pair"], 1] ]
  ],
  "ryanankou_ron_definition": [
    // 0 open triplets, hand must be 2 triplets and a pair
    [ [["pon", "daiminkan", "kakan"], -1], [["koutsu"], 2], [[{"tile": "any", "attrs": ["winning_tile"]}], 0], [["shuntsu", "koutsu"], 2], [["pair"], 1] ],
    // 0-1 open triplets, hand must be 3 triplets and a pair
    [ [["pon", "daiminkan", "kakan"], -2], [["koutsu"], 3], [[{"tile": "any", "attrs": ["winning_tile"]}], 0], [["shuntsu", "koutsu"], 1], [["pair"], 1] ],
    // 0-2 open triplets, hand must be 4 triplets and a pair
    [ [["pon", "daiminkan", "kakan"], -3], [["koutsu"], 4], [[{"tile": "any", "attrs": ["winning_tile"]}], 0], [["pair"], 1] ]
  ],
  "sanankou_tsumo_definition": [
    // 0 open triplets, hand must be 3 triplets and a pair
    [ [["pon", "daiminkan", "kakan"], -1], [["koutsu"], 3], [["shuntsu", "koutsu"], 1], [["pair"], 1] ],
    // 0-1 open triplets, hand must be 4 triplets and a pair
    [ [["pon", "daiminkan", "kakan"], -2], [["koutsu"], 4], [["pair"], 1] ]
  ],
  "sanankou_ron_definition": [
    // 0 open triplets, hand must be 3 triplets and a pair
    [ "exhaustive", [["pon", "daiminkan", "kakan"], -1], [["koutsu"], 3], [[{"tile": "any", "attrs": ["winning_tile"]}], 0], [["shuntsu", "koutsu"], 1], [["pair"], 1] ],
    // 0-1 open triplets, hand must be 4 triplets and a pair
    [ "exhaustive", [["pon", "daiminkan", "kakan"], -2], [["koutsu"], 4], [[{"tile": "any", "attrs": ["winning_tile"]}], 0], [["pair"], 1] ]
  ],
  "suuankou_tsumo_definition": [
    // 0 open triplets, hand must be 4 triplets and a pair
    [ [["pon", "daiminkan", "kakan"], -1], [["koutsu"], 4], [["pair"], 1] ]
  ],
  "suuankou_ron_definition": [
    // 0 open triplets, hand must be 4 triplets and a pair
    [ "exhaustive", [["pon", "daiminkan", "kakan"], -1], [["koutsu"], 4], [[{"tile": "any", "attrs": ["winning_tile"]}], 0], [["pair"], 1] ]
  ],
  "any_flower_definition": [
    [[["1f", "2f", "3f", "4f", "1g", "2g", "3g", "4g"], 1]]
  ],
  "greater_knitted_definition": [
    [ "unique", [["1m","4m","7m","2p","5p","8p","3s","6s","9s"], 7], [["1z","2z","3z","4z","0z","6z","7z"], 7] ],
    [ "unique", [["1m","4m","7m","3p","6p","9p","2s","5s","8s"], 7], [["1z","2z","3z","4z","0z","6z","7z"], 7] ],
    [ "unique", [["2m","5m","8m","1p","4p","7p","3s","6s","9s"], 7], [["1z","2z","3z","4z","0z","6z","7z"], 7] ],
    [ "unique", [["2m","5m","8m","3p","6p","9p","1s","4s","7s"], 7], [["1z","2z","3z","4z","0z","6z","7z"], 7] ],
    [ "unique", [["3m","6m","9m","1p","4p","7p","2s","5s","8s"], 7], [["1z","2z","3z","4z","0z","6z","7z"], 7] ],
    [ "unique", [["3m","6m","9m","2p","5p","8p","1s","4s","7s"], 7], [["1z","2z","3z","4z","0z","6z","7z"], 7] ]
  ],
  "lesser_knitted_definition": [
    [ "unique", [["1m","4m","7m","2p","5p","8p","3s","6s","9s","1z","2z","3z","4z","0z","6z","7z"], 14] ],
    [ "unique", [["1m","4m","7m","3p","6p","9p","2s","5s","8s","1z","2z","3z","4z","0z","6z","7z"], 14] ],
    [ "unique", [["2m","5m","8m","1p","4p","7p","3s","6s","9s","1z","2z","3z","4z","0z","6z","7z"], 14] ],
    [ "unique", [["2m","5m","8m","3p","6p","9p","1s","4s","7s","1z","2z","3z","4z","0z","6z","7z"], 14] ],
    [ "unique", [["3m","6m","9m","1p","4p","7p","2s","5s","8s","1z","2z","3z","4z","0z","6z","7z"], 14] ],
    [ "unique", [["3m","6m","9m","2p","5p","8p","1s","4s","7s","1z","2z","3z","4z","0z","6z","7z"], 14] ]
  ],
  "knitted_straight_definition": [
    [ [["knit_straight1", "knit_straight2"], 1] ]
  ],
  "pure_shifted_pungs_definition": [
    [ "exhaustive", [[[[0,0,0],[1,1,1],[2,2,2]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 2] ]
  ],
  "four_pure_shifted_pungs_definition": [
    [ "exhaustive", [[[[0,0,0],[1,1,1],[2,2,2],[3,3,3]]], 1], [["pair"], 1] ]
  ],
  "mixed_shifted_pungs_definition": [
    [ "exhaustive", [[[[0,0,0],[11,11,11],[22,22,22]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ],
    [ "exhaustive", [[[[0,0,0],[21,21,21],[12,12,12]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ]
  ],
  "double_pung_definition": [
    [ "exhaustive", [[[[0,0,0],[10,10,10]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 2], [["pair"], 1] ],
    [ "exhaustive", [[[[0,0,0],[20,20,20]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 2], [["pair"], 1] ]
  ],
  "triple_pung_definition": [
    [ "exhaustive", [[[[0,0,0],[10,10,10],[20,20,20]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ],
    [ "exhaustive", [[[[0,0,0],[10,10,10],[10,10,10]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ],
    [ "exhaustive", [[[[0,0,0],[20,20,20],[20,20,20]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ],
    [ "exhaustive", [[[[0,0,0],[0,0,0],[10,10,10]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ],
    [ "exhaustive", [[[[0,0,0],[0,0,0],[20,20,20]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ]
  ],
  "mixed_double_chow_definition": [
    [ "exhaustive", [[[[0,1,2],[10,11,12]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 2], [["pair"], 1] ],
    [ "exhaustive", [[[[0,1,2],[20,21,22]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 2], [["pair"], 1] ]
  ],
  "2_mixed_double_chow_definition": [
    [ "exhaustive", [[[[0,1,2],[10,11,12]]], 2], [["pair"], 1] ],
    [ "exhaustive", [[[[0,1,2],[20,21,22]]], 2], [["pair"], 1] ]
  ],
  "mixed_triple_chow_definition": [
    [ "exhaustive", [[[[0,1,2],[10,11,12],[20,21,22]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ]
  ],
  "pure_triple_chow_definition": [
    [ "exhaustive", [[[[0,1,2],[0,1,2],[0,1,2]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ]
  ],
  "quadruple_chow_definition": [
    [ "exhaustive", [[[[0,1,2],[0,1,2],[0,1,2],[0,1,2]]], 1], [["pair"], 1] ]
  ],
  "short_straight_definition": [
    [ "exhaustive", [[[[0,1,2],[3,4,5]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 2], [["pair"], 1] ]
  ],
  "2_short_straight_definition": [
    [ "exhaustive", [[[[0,1,2],[3,4,5]]], 2], [["pair"], 1] ]
  ],
  "double_sequences_definition": [
    [ "exhaustive", [[[[0,1,2],[0,1,2]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 2], [["pair"], 1] ]
  ],
  "2_double_sequences_definition": [
    [ "exhaustive", [[[[0,1,2],[0,1,2]]], 2], [["pair"], 1] ]
  ],
  "mixed_shifted_chows_definition": [
    [ "exhaustive", [[[[0,1,2],[11,12,13],[22,23,24]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ],
    [ "exhaustive", [[[[0,1,2],[21,22,23],[12,13,14]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ]
  ],
  "pure_shifted_chows_definition": [
    [ "exhaustive", [[[[0,1,2],[1,2,3],[2,3,4]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ],
    [ "exhaustive", [[[[0,1,2],[2,3,4],[4,5,6]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ]
  ],
  "four_pure_shifted_chows_definition": [
    [ "exhaustive", [[[[0,1,2],[1,2,3],[2,3,4],[3,4,5]]], 1], [["pair"], 1] ],
    [ "exhaustive", [[[[0,1,2],[2,3,4],[4,5,6],[6,7,8]]], 1], [["pair"], 1] ]
  ],
  "mixed_straight_definition": [
    [ "exhaustive", [[[[0,1,2],[13,14,15],[26,27,28]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ],
    [ "exhaustive", [[[[0,1,2],[23,24,25],[16,17,18]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ]
  ],
  "pure_straight_definition": [
    [ "exhaustive", [[[[0,1,2],[3,4,5],[6,7,8]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 1], [["pair"], 1] ]
  ],
  "tile_hog_definition": [
    [ "exhaustive", [[[[0,0,0],[0,1,2]],[[0,1,2],[1,1,1]],[[0,1,2],[2,2,2]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 2], [["pair"], 1] ],
    [ "exhaustive", [[[[0,0],[0,1,2],[0,1,2]],[[0,1,2],[0,1,2],[1,1]],[[0,1,2],[0,1,2],[2,2]],[[0,1,2],[1,1],[1,2,3]],[[0,1,2],[1,2,3],[2,2]],[[0,1,2],[2,2],[2,3,4]]], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 2] ],
    [ "exhaustive", [[[[0,1,2],[0,1,2],[0,1,2],[0,1,2]],[[0,1,2],[0,1,2],[0,1,2],[1,2,3]],[[0,1,2],[0,1,2],[0,1,2],[2,3,4]],[[0,1,2],[0,1,2],[1,2,3],[1,2,3]],[[0,1,2],[0,1,2],[1,2,3],[2,3,4]],[[0,1,2],[0,1,2],[2,3,4],[2,3,4]],[[0,1,2],[1,2,3],[1,2,3],[1,2,3]],[[0,1,2],[1,2,3],[1,2,3],[2,3,4]],[[0,1,2],[1,2,3],[2,3,4],[2,3,4]],[[0,1,2],[2,3,4],[2,3,4],[2,3,4]]], 1], [["pair"], 1] ]
  ],
  "seven_shifted_pairs_definition": [
    [ [[[0,0,1,1,2,2,3,3,4,4,5,5,6,6]], 1] ]
  ],
  "two_dragons_definition": [
    [ "unique", [["haku", "hatsu", "chun"], 2] ]
  ],
  "little_three_dragons_definition": [
    [ "unique", [["haku", "hatsu", "chun"], 2], [["haku_pair", "hatsu_pair", "chun_pair"], 1] ]
  ],
  "big_three_dragons_definition": [
    [ "unique", [["haku", "hatsu", "chun"], 3] ]
  ],
  "little_three_winds_definition": [
    [ "unique", [["ton", "nan", "shaa", "pei"], 2], [["ton_pair", "nan_pair", "shaa_pair", "pei_pair"], 1] ]
  ],
  "big_three_winds_definition": [
    [ "unique", [["ton", "nan", "shaa", "pei"], 3] ]
  ],
  "little_four_winds_definition": [
    [ "unique", [["ton", "nan", "shaa", "pei"], 3], [["ton_pair", "nan_pair", "shaa_pair", "pei_pair"], 1] ]
  ],
  "big_four_winds_definition": [
    [ "unique", [["ton", "nan", "shaa", "pei"], 4] ]
  ],
  "three_suited_terminal_chows_definition": [
    [ [[[[0,1,2],[6,7,8],[10,11,12],[16,17,18],[24,24]]], 1] ],
    [ [[[[0,1,2],[6,7,8],[20,21,22],[26,27,28],[14,14]]], 1] ]
  ],
  "all_fives_definition": [
    [ "exhaustive", [[["5m","5m"],["5p","5p"],["5s","5s"]], 1], [[["5m","5m","5m"],["5p","5p","5p"],["5s","5s","5s"],["3m","4m","5m"],["3p","4p","5p"],["3s","4s","5s"],["4m","5m","6m"],["4p","5p","6p"],["4s","5s","6s"],["5m","6m","7m"],["5p","6p","7p"],["5s","6s","7s"]], 4] ]
  ],
  "edge_wait_definition": [
    [ "exhaustive", [["pair"], 1], [["shuntsu", "koutsu"], 3], [[["1m", "2m"],["1p", "2p"],["1s", "2s"],["8m", "9m"],["8p", "9p"],["8s", "9s"]], 1] ],
    [ "exhaustive", [["pair"], 1], [["knit_straight1", "knit_straight2"], 1], [[["1m", "2m"],["1p", "2p"],["1s", "2s"],["8m", "9m"],["8p", "9p"],["8s", "9s"]], 1] ]
  ],
  "closed_wait_definition": [
    [ "exhaustive", [["pair"], 1], [["shuntsu", "koutsu"], 3], [["kanchan"], 1] ],
    [ "exhaustive", [["pair"], 1], [["knit_straight1", "knit_straight2"], 1], [["kanchan"], 1] ]
  ],
  "single_wait_definition": [
    [ "exhaustive", [["shuntsu", "koutsu"], 4] ],
    [ "exhaustive", [["knit_straight1", "knit_straight2"], 1], [["shuntsu", "koutsu"], 1] ]
  ],
  "yaku": [
    // 88
    { "display_name": "Big Four Winds", "value": 88, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["big_four_winds"]]}] },
    { "display_name": "Big Three Dragons", "value": 88, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["big_three_dragons"]]}] },
    { "display_name": "All Green", "value": 88, "when": [{"name": "winning_hand_consists_of", "opts": ["2s","3s","4s","6s","8s","6z"]}] },
    { "display_name": "Nine Gates", "value": 88, "when": [{"name": "match", "opts": [["hand", "winning_tile"], [[[["chuurenpoutou"], 1]]]]}] },
    { "display_name": "Four Kongs", "value": 88, "when": [{"name": "match", "opts": [["calls"], [[[["daiminkan", "kakan", "ankan"], 4]]]]}] },
    {
      "display_name": "Seven Shifted Pairs",
      "value": 88,
      "when": [
        {"name": "match", "opts": [["hand", "winning_tile"], [[[["quad"], -1], [["pair"], 7]]]]},
        {"name": "match", "opts": [["hand", "winning_tile"], ["seven_shifted_pairs"]]}
      ]
    },
    { "display_name": "Thirteen Orphans", "value": 88, "when": [{"name": "match", "opts": [["hand", "winning_tile"], [[[["orphans_all"], 1]]]]}] },
    // 64
    { "display_name": "All Terminals", "value": 64, "when": [{"name": "winning_hand_consists_of", "opts": ["1m","9m","1p","9p","1s","9s"]}] },
    { "display_name": "Little Four Winds", "value": 64, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["little_four_winds"]]}] },
    { "display_name": "Little Three Dragons", "value": 64, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["little_three_dragons"]]}] },
    { "display_name": "All Honors", "value": 64, "when": [{"name": "winning_hand_consists_of", "opts": ["1z", "2z", "3z", "4z", "0z", "6z", "7z"]}] },
    {
      "display_name": "Four Concealed Pungs",
      "value": 64,
      "when": [[
        ["won_by_draw", {"name": "match", "opts": [["hand", "calls", "winning_tile"], ["suuankou_tsumo"]]}],
        ["not_won_by_draw", {"name": "match", "opts": [["hand", "calls", "winning_tile"], ["suuankou_ron"]]}]
      ]]
    },
    { "display_name": "Pure Terminal Chows", "value": 64, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["pure_terminal_sequences"], 1], [["pair"], 1] ]]]}] },
    // 48
    { "display_name": "Quadruple Chow", "value": 48, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["quadruple_chow"]]}] },
    { "display_name": "Four Pure Shifted Pungs", "value": 48, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["four_pure_shifted_pungs"]]}] },
    // 32
    { "display_name": "Four Pure Shifted Chows", "value": 32, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["four_pure_shifted_chows"]]}] },
    { "display_name": "Three Kongs", "value": 32, "when": [{"name": "match", "opts": [["calls"], [[[["daiminkan", "kakan", "ankan"], 3]]]]}] },
    { "display_name": "All Terminals and Honors", "value": 32, "when": [{"name": "winning_hand_consists_of", "opts": ["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","0z","6z","7z"]}] },
    // 24
    { "display_name": "Seven Pairs", "value": 24, "when": [{"name": "match", "opts": [["hand", "winning_tile"], [[[["quad"], -1], [["pair"], 7]]]]}] },
    { "display_name": "Greater Honors and Knitted Tiles", "value": 24, "when": [{"name": "match", "opts": [["hand", "winning_tile"], ["greater_knitted"]]}] },
    { "display_name": "All Even Pungs", "value": 24, "when": [{"name": "winning_hand_consists_of", "opts": ["2m","4m","6m","8m","2p","4p","6p","8p","2s","4s","6s","8s"]}] },
    { "display_name": "Full Flush", "value": 24, "when": [[{"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","4m","5m","6m","7m","8m","9m"]},
        {"name": "winning_hand_consists_of", "opts": ["1p","2p","3p","4p","5p","6p","7p","8p","9p"]},
        {"name": "winning_hand_consists_of", "opts": ["1s","2s","3s","4s","5s","6s","7s","8s","9s"]}
      ]]
    },
    { "display_name": "Pure Triple Chow", "value": 24, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["pure_triple_chow"]]}] },
    { "display_name": "Pure Shifted Pungs", "value": 24, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["pure_shifted_pungs"]]}] },
    { "display_name": "Upper Tiles", "value": 24, "when": [{"name": "winning_hand_consists_of", "opts": ["7m","8m","9m","7p","8p","9p","7s","8s","9s"]}] },
    { "display_name": "Middle Tiles", "value": 24, "when": [{"name": "winning_hand_consists_of", "opts": ["4m","5m","6m","4p","5p","6p","4s","5s","6s"]}] },
    { "display_name": "Lower Tiles", "value": 5, "when": [{"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","1p","2p","3p","1s","2s","3s"]}] },
    // 16
    { "display_name": "Pure Straight", "value": 16, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["pure_straight"]]}] },
    { "display_name": "Three-Suited Terminal Chows", "value": 16, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["three_suited_terminal_chows"]]}] },
    { "display_name": "Pure Shifted Chows", "value": 16, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["pure_shifted_chows"]]}] },
    { "display_name": "All Fives", "value": 16, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["all_fives"]]}] },
    { "display_name": "Triple Pung", "value": 16, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["triple_pung"]]}] },
    {
      "display_name": "Three Concealed Pungs",
      "value": 16,
      "when": [[
        ["won_by_draw", {"name": "match", "opts": [["hand", "calls", "winning_tile"], ["sanankou_tsumo"]]}],
        ["not_won_by_draw", {"name": "match", "opts": [["hand", "calls", "winning_tile"], ["sanankou_ron"]]}]
      ]]
    },
    // 12
    { "display_name": "Lesser Honors and Knitted Tiles", "value": 12, "when": [{"name": "match", "opts": [["hand", "winning_tile"], ["lesser_knitted"]]}] },
    { "display_name": "Knitted Straight", "value": 12, "when": [{"name": "match", "opts": [["hand", "winning_tile"], ["knitted_straight"]]}] },
    { "display_name": "Upper Four", "value": 12, "when": [{"name": "winning_hand_consists_of", "opts": ["6m","7m","8m","9m","6p","7p","8p","9p","6s","7s","8s","9s"]}] },
    { "display_name": "Lower Four", "value": 12, "when": [{"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","4m","1p","2p","3p","4p","1s","2s","3s","4s"]}] },
    { "display_name": "Big Three Winds", "value": 12, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["big_three_winds"]]}] },
    // 8
    { "display_name": "Mixed Straight", "value": 5, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["mixed_straight"]]}] },
    { "display_name": "Reversible Tiles", "value": 24, "when": [{"name": "winning_hand_consists_of", "opts": ["1p","2p","3p","4p","5p","8p","9p","2s","4s","5s","6s","8s","9s","0z"]}] },
    { "display_name": "Mixed Triple Chow", "value": 5, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["mixed_triple_chow"]]}] },
    { "display_name": "Mixed Shifted Pungs", "value": 8, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["mixed_shifted_pungs"]]}] },
    { "display_name": "Last Tile Draw", "value": 2, "when": ["won_by_draw", "no_tiles_remaining"] },
    { "display_name": "Last Tile Claim", "value": 2, "when": ["won_by_discard", "no_tiles_remaining"] },
    { "display_name": "Out with Replacement Tile", "value": 1, "when": [{"name": "not_status_missing", "opts": ["kan"]}] },
    { "display_name": "Robbing The Kong", "value": 5, "when": ["won_by_call"] },
    { "display_name": "Two Concealed Kongs", "value": 2, "when": [{"name": "match", "opts": [["calls"], [[[["ankan"], 2]]]]}] },
    // 6
    { "display_name": "All Pungs", "value": 6, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["koutsu"], 4], [["pair"], 1]]]]}] },
    {
      "display_name": "Half Flush",
      "value": 6,
      "when": [[
        {"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","4m","5m","6m","7m","8m","9m","1z","2z","3z","4z","0z","6z","7z"]},
        {"name": "winning_hand_consists_of", "opts": ["1p","2p","3p","4p","5p","6p","7p","8p","9p","1z","2z","3z","4z","0z","6z","7z"]},
        {"name": "winning_hand_consists_of", "opts": ["1s","2s","3s","4s","5s","6s","7s","8s","9s","1z","2z","3z","4z","0z","6z","7z"]}
      ]]
    },
    { "display_name": "Mixed Shifted Chows", "value": 6, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["mixed_shifted_chows"]]}] },
    {
      "display_name": "All Types",
      "value": 6,
      "when": [
        {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[
          [["1m","2m","3m","4m","5m","6m","7m","8m","9m"], 1],
          [["1p","2p","3p","4p","5p","6p","7p","8p","9p"], 1],
          [["1s","2s","3s","4s","5s","6s","7s","8s","9s"], 1],
          [["1z","2z","3z","4z"], 1],
          [["0z","6z","7z"], 1]
        ]]]}
      ]
    },
    { "display_name": "Melded Hand", "value": 6, "when": [["won_by_discard", "won_by_call"], {"name": "match", "opts": [["calls"], [[[["chii", "pon", "daiminkan", "kakan"], 4]]]]}] },
    { "display_name": "Two Dragon Pungs", "value": 6, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["two_dragons"]]}] },
    { "display_name": "Two Kongs", "value": 6, "when": [{"name": "match", "opts": [["calls"], [[[["ankan"], 1], [["daiminkan", "kakan"], 1]]]]}] },
    // 4
    {
      "display_name": "Outside Hand",
      "value": 4,
      "when": [
        {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[
          [["junchan_1", "junchan_2", "junchan_3", "junchan_4", "junchan_5", "junchan_6", "junchan_7", "junchan_8", "junchan_9", "junchan_10", "junchan_11", "junchan_12", "ton", "nan", "shaa", "pei", "haku", "hatsu", "chun"], 4],
          [["junchan_pair_1", "junchan_pair_2", "junchan_pair_3", "junchan_pair_4", "junchan_pair_5", "junchan_pair_6", "ton_pair", "nan_pair", "shaa_pair", "pei_pair", "haku_pair", "hatsu_pair", "chun_pair"], 1]
        ]]]}
      ]
    },
    { "display_name": "Fully Concealed Hand", "value": 4, "when": ["won_by_draw", {"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}] },
    { "display_name": "Two Melded Kongs", "value": 4, "when": [{"name": "match", "opts": [["calls"], [[[["daiminkan", "kakan"], 2]]]]}] },
    { "display_name": "Last Tile", "value": 4, "when": [{"name": "has_hell_wait", "opts": ["win"]}] },
    // 2
    { "display_name": "White Dragon", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["haku"], 1]]]]}] },
    { "display_name": "Green Dragon", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["hatsu"], 1]]]]}] },
    { "display_name": "Red Dragon", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["chun"], 1]]]]}] },
    {
      "display_name": "Prevalent Wind",
      "value": 2,
      "when": [[
        [{"name": "round_wind_is", "opts": ["east"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["ton"], 1]]]]}],
        [{"name": "round_wind_is", "opts": ["south"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["nan"], 1]]]]}],
        [{"name": "round_wind_is", "opts": ["west"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["shaa"], 1]]]]}],
        [{"name": "round_wind_is", "opts": ["north"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["pei"], 1]]]]}]
      ]]
    },
    {
      "display_name": "Seat Wind",
      "value": 2,
      "when": [[
        [{"name": "seat_is", "opts": ["east"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["ton"], 1]]]]}],
        [{"name": "seat_is", "opts": ["south"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["nan"], 1]]]]}],
        [{"name": "seat_is", "opts": ["west"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["shaa"], 1]]]]}],
        [{"name": "seat_is", "opts": ["north"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["pei"], 1]]]]}]
      ]]
    },
    { "display_name": "Concealed Hand", "value": 2, "when": ["won_by_discard", {"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}] },
    { "display_name": "All Chows", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["shuntsu"], 4], [["pair"], 1]]]]}, {"name": "not_match", "opts": [["hand", "calls", "winning_tile"], [[[["1z", "2z", "3z", "4z", "0z", "6z", "7z"], 1]]]]}] },
    { "display_name": "Tile Hog", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["tile_hog"]]}] },
    { "display_name": "Double Pung", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["double_pung"]]}] },
    {
      "display_name": "Two Concealed Pungs",
      "value": 2,
      "when": [[
        ["won_by_draw", {"name": "match", "opts": [["hand", "calls", "winning_tile"], ["ryanankou_tsumo"]]}],
        ["not_won_by_draw", {"name": "match", "opts": [["hand", "calls", "winning_tile"], ["ryanankou_ron"]]}]
      ]]
    },
    { "display_name": "Concealed Kong", "value": 2, "when": [{"name": "match", "opts": [["calls"], [[[["ankan"], 1]]]]}] },
    { "display_name": "All Simples", "value": 2, "when": [{"name": "winning_hand_consists_of", "opts": ["2m","3m","4m","5m","6m","7m","8m","2p","3p","4p","5p","6p","7p","8p","2s","3s","4s","5s","6s","7s","8s"]}] },
    // 1
    { "display_name": "Pure Double Chow", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["double_sequences"]]}] },
    { "display_name": "Pure Double Chow", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["2_double_sequences"]]}] },
    { "display_name": "Mixed Double Chow", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["mixed_double_chow"]]}] },
    { "display_name": "Mixed Double Chow", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["2_mixed_double_chow"]]}] },
    { "display_name": "Short Straight", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["short_straight"]]}] },
    { "display_name": "Short Straight", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["2_short_straight"]]}] },
    { "display_name": "Two Terminal Chows", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["terminal_sequences"], 1], [["shuntsu", "koutsu", "knit_shuntsu1", "knit_shuntsu2", "knit_koutsu"], 2], [["pair"], 1] ]]]}] },
    { "display_name": "Two Terminal Chows", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["terminal_sequences"], 2], [["pair"], 1] ]]]}] },
    { "display_name": "Pung of Terminals", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["junchan_1","junchan_2","junchan_3","junchan_10","junchan_11","junchan_12"], 1]]]]}] },
    { "display_name": "Pung of Terminals", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["junchan_1","junchan_2","junchan_3","junchan_10","junchan_11","junchan_12"], 2]]]]}] },
    { "display_name": "Pung of Terminals", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["junchan_1","junchan_2","junchan_3","junchan_10","junchan_11","junchan_12"], 3]]]]}] },
    { "display_name": "Pung of Terminals", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["junchan_1","junchan_2","junchan_3","junchan_10","junchan_11","junchan_12"], 4]]]]}] },
    { "display_name": "Pung of Honors", "value": 1, "when": [{"name": "not_round_wind_is", "opts": ["east"]}, {"name": "not_seat_is", "opts": ["east"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["ton"], 1]]]]}] },
    { "display_name": "Pung of Honors", "value": 1, "when": [{"name": "not_round_wind_is", "opts": ["south"]}, {"name": "not_seat_is", "opts": ["south"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["nan"], 1]]]]}] },
    { "display_name": "Pung of Honors", "value": 1, "when": [{"name": "not_round_wind_is", "opts": ["west"]}, {"name": "not_seat_is", "opts": ["west"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["shaa"], 1]]]]}] },
    { "display_name": "Pung of Honors", "value": 1, "when": [{"name": "not_round_wind_is", "opts": ["north"]}, {"name": "not_seat_is", "opts": ["north"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["pei"], 1]]]]}] },
    { "display_name": "Melded Kong", "value": 1, "when": [{"name": "match", "opts": [["calls"], [[[["daiminkan", "kakan"], 1]]]]}] },
    {
      "display_name": "One Voided Suit",
      "value": 1,
      "when": [[
        {"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","4m","5m","6m","7m","8m","9m","1p","2p","3p","4p","5p","6p","7p","8p","9p","1z","2z","3z","4z","0z","6z","7z"]},
        {"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","4m","5m","6m","7m","8m","9m","1s","2s","3s","4s","5s","6s","7s","8s","9s","1z","2z","3z","4z","0z","6z","7z"]},
        {"name": "winning_hand_consists_of", "opts": ["1p","2p","3p","4p","5p","6p","7p","8p","9p","1s","2s","3s","4s","5s","6s","7s","8s","9s","1z","2z","3z","4z","0z","6z","7z"]}
      ]]
    },
    { "display_name": "No Honors", "value": 1, "when": [{"name": "not_match", "opts": [["hand", "calls", "winning_tile"], [[[["1z", "2z", "3z", "4z", "0z", "6z", "7z"], 1]]]]}] },
    { "display_name": "Self-Drawn", "value": 1, "when": ["won_by_draw"] },
    { "display_name": "Edge Wait", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls"], ["edge_wait"]]}, {"name": "wait_count_at_most", "opts": [1, ["win"]]}] },
    { "display_name": "Closed Wait", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls"], ["closed_wait"]]}, {"name": "wait_count_at_most", "opts": [1, ["win"]]}] },
    { "display_name": "Single Wait", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls"], ["single_wait"]]}, {"name": "wait_count_at_most", "opts": [1, ["win"]]}] }
  ],
  "meta_yaku": [
    { "display_name": "Chicken Hand", "value": 12, "when": ["has_no_yaku"] },
    // ad-hoc implementation of Exclusionary Rule; just subtract the value of the offending yaku
    { "display_name": "Exclusionary Rule", "value": -1, "when": [{"name": "has_existing_yaku", "opts": [["Mixed Double Chow", 2], ["Two Terminal Chows", 2]]}] },
    { "display_name": "Exclusionary Rule", "value": -1, "when": [{"name": "has_existing_yaku", "opts": ["Mixed Straight", "Mixed Double Chow", "Short Straight"]}] },
    { "display_name": "Exclusionary Rule", "value": -1, "when": [{"name": "has_existing_yaku", "opts": ["Pure Straight", "Pure Double Chow", "Short Straight"]}] }
  ],
  "extra_yaku": [
    { "display_name": "Flower Tiles", "value": "flower_count", "when": [{"name": "counter_at_least", "opts": ["flower", 1]}]}
  ],
  "yaku_precedence": {
      // <TODO LIST FOR THIS SECTION: everything below `----------` needs first pass, everything below `==========` line needs second pass>
      // ==========
    // 88
    "Big Four Winds": ["Little Four Winds", "Half Flush", "Prevalent Wind", "Seat Wind"],
    "Big Three Dragons": ["Little Three Dragons"],
    "All Green": ["One Voided Suit"],
    "Nine Gates": ["Full Flush", "Concealed Hand", "Pung of Terminals"],
    "Four Kongs": ["Three Kongs", "All Pungs", "Single Wait"],
    "Seven Shifted Pairs": ["Seven Pairs", "Full Flush"],
    "Thirteen Orphans": ["All Types", "All Terminals and Honors", "Concealed Hand", "Single Wait"],
    // 64
    "All Terminals": ["All Terminals and Honors", "Pung of Terminals", "Pung of Honors", "Outside Hand", "No Honors", "All Pungs"],
    "Little Four Winds": ["Big Three Winds", "All Pungs", "Pung of Terminals", "Pung of Honors"],
    "Little Three Dragons": ["Two Dragon Pungs", "White Dragon", "Green Dragon", "Red Dragon"],
    "All Honors": ["All Terminals and Honors", "Half Flush", "Pung of Terminals", "Pung of Honors", "All Pungs"],
    "Four Concealed Pungs": ["Three Concealed Pungs", "All Pungs", "Concealed Hand"],
    "Pure Terminal Chows": ["All Chows", "Pure Double Chow", "Two Terminal Chows", "Full Flush"],
    // 48
    "Quadruple Chow": ["Pure Triple Chow", "Tile Hog"],
    "Four Pure Shifted Pungs": ["Pure Shifted Pungs", "All Pungs"],
    // 32
    "Four Pure Shifted Chows": ["Pure Shifted Chows", "Short Straight", "Two Terminal Chows"],
      // Apparently Three Kongs can combine with Concealed Kong and Two Concealed Kongs.
    "Three Kongs": ["Two Kongs", "Two Melded Kongs", "Melded Kong"],
    "All Terminals and Honors": ["Pung of Terminals", "Pung of Honors", "Outside Hand", "All Pungs"],
    // 24
    "Seven Pairs": ["Concealed Hand", "Single Wait"],
    "Greater Honors and Knitted Tiles": ["Lesser Honors and Knitted Tiles"],
    "All Even Pungs": ["All Pungs", "No Honors", "All Simples"],
    "Full Flush": ["Half Flush", "No Honors"],
    "Pure Triple Chow": ["Pure Double Chow"],
    "Pure Shifted Pungs": [],
    "Upper Tiles": ["Upper Four", "No Honors"],
    "Middle Tiles": ["All Simples", "No Honors"],
    "Lower Tiles": ["Lower Four", "No Honors"],
    // 16
    "Pure Straight": ["Short Straight", "Two Terminal Chows"],
    "Three-Suited Terminal Chows": ["Two Terminal Chows", "All Chows", "Mixed Double Chow", "No Honors"],
    "Pure Shifted Chows": [],
    "All Fives": ["No Honors", "All Simples"],
    "Triple Pung": ["Double Pung"],
    "Three Concealed Pungs": ["Two Concealed Pungs"],
    // 12
    "Lesser Honors and Knitted Tiles": ["All Types", "Concealed Hand"],
    "Knitted Straight": [],
    "Upper Four": ["No Honors"],
    "Lower Four": ["No Honors"],
      // Hmmm, we need to bar pungs of winds specifically, but it's possible to still end up with a pung of dragons. And we mustn't bar Round/Seat Wind because it's possible to get Big Three Winds without it.
    "Big Three Winds": ["Pung of Honors"],
    // 8
    "Mixed Straight": [],
    "Reversible Tiles": ["One Voided Suit"],
    "Mixed Triple Chow": ["Mixed Double Chow"],
    "Mixed Shifted Pungs": [],
    "Last Tile Draw": ["Self-Drawn"],
    "Last Tile Claim": [],
    "Out with Replacement Tile": ["Self-Drawn"],
    "Robbing The Kong": ["Last Tile"],
    "Two Concealed Kongs": ["Concealed Kong", "Two Concealed Pungs"],
    // 6
    "All Pungs": [],
    "Half Flush": ["One Voided Suit"],
    "Mixed Shifted Chows": [],
    "All Types": [],
    "Melded Hand": ["Single Wait"],
    "Two Dragon Pungs": ["White Dragon", "Green Dragon", "Red Dragon"],
    "Two Kongs": ["Melded Kong", "Concealed Kong"],
    // 4
    "Outside Hand": [],
    "Fully Concealed Hand": ["Self-Drawn", "Concealed Hand"],
    "Two Melded Kongs": ["Melded Kong"],
    "Last Tile": [],
    // 2
    "White Dragon": [],
    "Green Dragon": [],
    "Red Dragon": [],
    "Prevalent Wind": [],
    "Seat Wind": [],
    "Concealed Hand": [],
    "All Chows": ["No Honors"],
    "Tile Hog": [],
    "Double Pung": [],
    "Two Concealed Pungs": [],
    "Concealed Kong": [],
    "All Simples": ["No Honors"],
    // 1
    "Pure Double Chow": [],
    "Mixed Double Chow": [],
    "Short Straight": [],
    "Two Terminal Chows": [],
    "Pung of Terminals": [],
    "Pung of Honors": [],
    "Melded Kong": [],
    "One Voided Suit": [],
    "No Honors": [],
    "Self-Drawn": []
      // ----------
  },
  "score_calculation": {
    "scoring_method": "multiplier",
    "score_multiplier": 1,
    "discarder_multiplier": 1,
    "discarder_penalty": 8,
    "non_discarder_multiplier": 0,
    "non_discarder_penalty": 8,
    "self_draw_multiplier": 1,
    "self_draw_penalty": 8,
    "yaku_lists": ["yaku", "meta_yaku", "extra_yaku"],
    "extra_yaku_lists": ["extra_yaku"],
    "point_name": "Fan",
    "win_by_discard_label": "Hu",
    "win_by_draw_label": "Zimo",
    "win_by_discard_name": "Hu",
    "win_by_discard_name_2": "Double Hu",
    "win_by_discard_name_3": "Triple Hu",
    "win_by_draw_name": "Zimo",
    "exhaustive_draw_name": "Draw"
  },
  "play_restrictions": [],
  "before_turn_change": {
    "actions": [
      ["unset_status", "kan", "flower"],
      ["unset_status_all", "call_made"],
      ["when", [{"name": "status_missing", "opts": ["match_start"]}], [["unset_status", "first_turn"]]]
    ]
  },
  "after_turn_change": {
    "actions": [
      ["when", ["no_tiles_remaining"], [["pause", 1000], ["ryuukyoku"]]],
      ["when", [{"name": "status_missing", "opts": ["match_start", "won"]}, "not_no_tiles_remaining"], [["draw"]]],
      ["when", [{"name": "status", "opts": ["won"]}], [["advance_turn"]]],
      ["when", [{"name": "everyone_status", "opts": ["no_flowers"]}], [
        ["unset_status_all", "no_flowers", "match_start"],
        ["change_turn", "east"],
        ["as", "others", [["merge_draw"]]]
      ]]
    ]
  },
  "after_call": {
    "actions": [["set_status", "call_made"]]
  },
  "before_win": {
    // count number of flowers in hand only before win happens
    "actions": [ ["add_counter", "flower_count", "count_matches", ["flowers"], ["any_flower"]] ]
  },
  "after_win": {
    "actions": [["flip_all_calls_faceup"]]
  },
  "before_exhaustive_draw": {
    "actions": [["flip_all_calls_faceup"]]
  },
  "before_continue": {
    "actions": [["advance_turn"]]
  },
  "play_effects": [
    ["any", [["unset_status", "discards_empty"]]]
  ],
  "after_start": {
    "actions": [
      ["set_status_all", "first_turn", "discards_empty", "match_start"]
    ]
  },
  "buttons": {
    "start_flower": {
      "display_name": "Hua",
      "show_when": [{"name": "status", "opts": ["match_start"]}, "our_turn", {"name": "match", "opts": [["hand", "draw"], [[ "nojoker", [["1f", "2f", "3f", "4f", "1g", "2g", "3g", "4g"], 1] ]]]}],
      "actions": [["big_text", "Hua"], ["flower", "1f", "2f", "3f", "4f", "1g", "2g", "3g", "4g"], ["set_status", "flower"], ["draw", 1, "opposite_end"]],
      "unskippable": true
    },
    "start_no_flower": {
      "display_name": "Pass",
      "show_when": [{"name": "status", "opts": ["match_start"]}, "our_turn"],
      "actions": [["big_text", "No flowers"], ["set_status", "no_flowers"], ["advance_turn"], ["recalculate_buttons"]],
      "unskippable": true
    },
    "chii": {
      "display_name": "Chi",
      "call": [[-2, -1], [-1, 1], [1, 2]],
      "call_style": {"kamicha": ["call_sideways", 0, 1], "toimen": [0, "call_sideways", 1], "shimocha": [0, 1, "call_sideways"]},
      "show_when": [{"name": "status_missing", "opts": ["match_start"]}, "not_our_turn", "not_no_tiles_remaining", "kamicha_discarded", "call_available"],
      "actions": [["big_text", "Chi"], ["call"], ["change_turn", "self"]]
    },
    "pon": {
      "display_name": "Pung",
      "call": [[0, 0]],
      "call_style": {"kamicha": ["call_sideways", 0, 1], "toimen": [0, "call_sideways", 1], "shimocha": [0, 1, "call_sideways"]},
      "show_when": [{"name": "status_missing", "opts": ["match_start"]}, "not_our_turn", "not_no_tiles_remaining", "someone_else_just_discarded", "call_available"],
      "actions": [["big_text", "Pung"], ["call"], ["change_turn", "self"]],
      "precedence_over": ["chii"]
    },
    "daiminkan": {
      "display_name": "Kong",
      "call": [[0, 0, 0]],
      "call_style": {"kamicha": ["call_sideways", 0, 1, 2], "toimen": [0, "call_sideways", 1, 2], "shimocha": [0, 1, 2, "call_sideways"]},
      "show_when": [{"name": "status_missing", "opts": ["match_start"]}, "not_our_turn", "not_no_tiles_remaining", "someone_else_just_discarded", "call_available"],
      "actions": [
        ["big_text", "Kong"], ["call"], ["change_turn", "self"],
        ["set_status", "kan"],
        ["draw", 1, "opposite_end"]
      ],
      "precedence_over": ["chii", "pon"]
    },
    "ankan": {
      "display_name": "Self Kong",
      "call": [[0, 0, 0]],
      "call_style": {"self": [["1x", 0], ["1x", 1], ["1x", 2], ["1x", 3]]},
      "call_hidden": true,
      "show_when": [{"name": "status_missing", "opts": ["match_start"]}, "our_turn", "not_no_tiles_remaining", "has_draw", "self_call_available", {"name": "status_missing", "opts": ["just_reached"]}],
      "actions": [
        ["big_text", "Kong"], ["self_call"],
        ["set_status", "kan"],
        ["draw", 1, "opposite_end"]
      ]
    },
    "kakan": {
      "display_name": "Kong",
      "call": [[0, 0, 0]],
      "call_style": {
        "kamicha": [["sideways", 0], "call_sideways", 1, 2],
        "toimen": [0, ["sideways", 1], "call_sideways", 2],
        "shimocha": [0, 1, ["sideways", 2], "call_sideways"]
      },
      "upgrades": "pon",
      "show_when": [{"name": "status_missing", "opts": ["match_start"]}, "our_turn", "not_no_tiles_remaining", "has_draw", "can_upgrade_call", {"name": "status_missing", "opts": ["just_reached"]}],
      "actions": [
        ["big_text", "Kong"], ["upgrade_call"],
        ["set_status", "kan"],
        ["draw", 1, "opposite_end"]
      ]
    },
    "ron": {
      "display_name": "Hu",
      "show_when": [
        "not_our_turn",
        {"name": "status_missing", "opts": ["match_start", "won"]},
        {"name": "match", "opts": [["hand", "calls"], ["tenpai"]]},
        "someone_else_just_discarded",
        {"name": "match", "opts": [["hand", "calls", "last_discard"], ["win"]]},
        {"name": "has_yaku_with_discard", "opts": [8]}
      ],
      "actions": [
        ["big_text", "Hu"],
        ["pause", 1000],
        ["reveal_hand"],
        ["set_status", "won"],
        ["win_by_discard"]],
      "precedence_over": ["chii", "pon", "kan", "ron", "riichi", "daiminkan", "ankan", "kakan"]
    },
    "chankan": {
      "display_name": "Hu",
      "show_when": [
        "not_our_turn",
        {"name": "status_missing", "opts": ["match_start", "won"]},
        {"name": "match", "opts": [["hand", "calls"], ["tenpai"]]},
        [
          [
            {"name": "last_call_is", "opts": ["kakan"]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ],
          [
            {"name": "last_call_is", "opts": ["ankan"]},
            {"name": "match", "opts": [["hand", "calls"], ["kokushi_tenpai"]]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ]
        ],
        {"name": "has_yaku_with_call", "opts": [8]}
      ],
      "actions": [
        ["big_text", "Hu"],
        ["pause", 1000],
        ["reveal_hand"],
        ["set_status", "won"],
        ["win_by_call"]
      ],
      "precedence_over": ["chii", "pon", "kan", "chankan", "riichi", "daiminkan", "ankan", "kakan"]
    },
    "tsumo": {
      "display_name": "Hu",
      "show_when": [
        "our_turn",
        "has_draw",
        {"name": "not_others_status", "opts": ["call_made"]},
        {"name": "status_missing", "opts": ["match_start", "won"]},
        {"name": "match", "opts": [["hand", "calls"], ["tenpai"]]},
        {"name": "match", "opts": [["hand", "calls", "draw"], ["win"]]},
        {"name": "has_yaku_with_hand", "opts": [8]}
      ],
      "actions": [
        ["big_text", "Hu"],
        ["pause", 1000],
        ["reveal_hand"],
        ["set_status", "won"],
        ["win_by_draw"]
      ],
      "precedence_over": ["chii", "pon", "kan", "riichi", "daiminkan", "ankan", "kakan"]
    },
    "flower": {
      "display_name": "Hua",
      "show_when": [{"name": "status_missing", "opts": ["match_start"]}, "our_turn", "has_draw", {"name": "not_others_status", "opts": ["call_made"]}, "not_just_discarded", {"name": "match", "opts": [["hand", "draw"], ["any_flower"]]}],
      "actions": [["big_text", "Hua"], ["flower", "1f", "2f", "3f", "4f", "1g", "2g", "3g", "4g"], ["set_status", "flower"], ["when", ["not_no_tiles_remaining"], [["draw", 1, "opposite_end"]]]]
    }
  },
  "auto_buttons": {
    "1_auto_sort": {
      "display_name": "A",
      "desc": "Automatically sort your hand.",
      "actions": [["sort_hand"]],
      "enabled_at_start": true
    },
    "2_auto_ron": {
      "display_name": "H",
      "desc": "Automatically declare wins.",
      "actions": [
        ["when", [{"name": "buttons_include", "opts": ["ron"]}], [["press_button", "ron"]]],
        ["when", [{"name": "buttons_include", "opts": ["tsumo"]}], [["press_button", "tsumo"]]]
      ],
      "enabled_at_start": false
    },
    "3_auto_flower": {
      "display_name": "F",
      "desc": "Automatically declare all flowers.",
      "actions": [
        ["when", [{"name": "buttons_include", "opts": ["start_flower"]}], [["press_button", "start_flower"], ["press_first_call_button", "start_flower"]]],
        ["when", [{"name": "buttons_include", "opts": ["start_no_flower"]}], [["press_button", "start_no_flower"]]],
        ["when", [{"name": "buttons_include", "opts": ["flower"]}], [["press_button", "flower"], ["press_first_call_button", "flower"]]]
      ],
      "enabled_at_start": false
    },
    "4_auto_no_call": {
      "display_name": "C",
      "desc": "Skip all calls except wins.",
      "actions": [
        ["when", [
            "not_our_turn",
            {"name": "buttons_include", "opts": ["skip"]},
            {"name": "buttons_exclude", "opts": ["ron"]}
          ], [["press_button", "skip"]]]
      ],
      "enabled_at_start": false
    },
    "5_auto_discard": {
      "display_name": "D",
      "desc": "Automatically discard your drawn tile.",
      "actions": [["when", ["has_draw"], [["discard_draw"]]]],
      "enabled_at_start": false
    }
  },
  "interruptible_actions": ["play_tile", "draw", "self_call", "upgrade_call"],
  "initial_score": 0,
  "starting_tiles": 13,
  "four_rows_discards": true,
  "max_rounds": 4
}
