{
  "default_mods": [
    "dora", "ura", "kandora", "aka",
    "ippatsu",
    "nagashi",
    "tobi",
    "suukaikan",
    "agarirenchan", "tenpairenchan",
    "kyuushu_kyuuhai",
    "renhou", "pao",
    "show_waits"
  ],
  "available_mods": [
    "Rules",
    {"id": "nagashi", "name": "Nagashi", "desc": "Enable nagashi mangan. When you discards are all terminals and honors at exhaustive draw, and none of your discards have been called, then you are paid mangan tsumo at draw."},
    {"id": "tobi", "name": "Tobi", "desc": "Enable busting. Once anyone's points is reduced below zero, the game ends."},
    {"id": "agarirenchan", "name": "Agarirenchan", "desc": "A round repeats if the dealer wins."},
    {"id": "tenpairenchan", "name": "Tenpairenchan", "desc": "A round repeats if the dealer is tenpai at draw."},
    {"id": "agariyame", "deps": ["agarirenchan"], "name": "Agariyame", "desc": "All Last doesn't repeat if the dealer is first place and wins."},
    {"id": "tenpaiyame", "deps": ["tenpairenchan"], "name": "Tenpaiyame", "desc": "All Last doesn't repeat if the dealer is in first place and is tenpai at draw."},
    {"id": "sudden_death", "name": "Sudden Death", "desc": "Sets a goal of 30000 points before the game can end. If the game reaches South 4 (or East 4, in the case of tonpuu) and every player is below 30000 points, play continues to the West (South) round until someone surpasses 30000 points, or at the end of West 4 (South 4)."},
    {"id": "tonpuu", "name": "Tonpuu", "desc": "Limit the game to the East round only."},
    {"id": "immediate_kan_dora", "order": 1, "deps": ["kandora", "dora"], "name": "Immediate Kan Dora", "desc": "Flip kan dora immediately after daiminkan and kakan."},
    {"id": "kuitan_nashi", "name": "Kuitan Nashi", "desc": "Disallow open tanyao."},
    {"id": "kuikae_ari", "name": "Kuikae Ari", "desc": "Allow swap-calling."},
    {"id": "kiriage_mangan", "name": "Kiriage Mangan", "desc": "3 han 60 fu and 4 han 30 fu are worth mangan."},
    {"id": "head_bump", "conflicts": ["sanchahou"], "name": "Head Bump", "desc": "Enable head bump. In case of multiple ron, only the person closest in turn order gets the win."},
    {"id": "drawless_riichi", "name": "Drawless Riichi", "desc": "You may riichi even if you have no draws remaining in the wall."},
    {"id": "open_riichi", "name": "Open Riichi", "desc": "You have the option to declare open riichi, which is worth 2 han but reveals your hand to the table."},
    {"id": "mega_riichi_bet", "name": "Mega Riichi Bet", "desc": "Makes riichi bet 5000 instead of 1000."},
    {"id": "big_honba", "name": "Big Honba", "desc": "Makes each honba worth 500 instead of 100."},
    {"id": "three_dora_start", "order": 1, "name": "Three Dora Start", "desc": "Start with 3 dora instead of 1."},
    {"id": "pao", "name": "Sekinin Barai", "desc": "If you deal the last dragon called for a daisangen hand, or the last wind called for a daisuushii hand, you are responsible for the yakuman payment if they tsumo, or half of the payment if they ron off someone else."},
    {"id": "no_kazoe_yakuman", "name": "No Kazoe Yakuman", "desc": "Disable kazoe yakuman. 13+ han is worth sanbaiman."},
    {"id": "no_double_yakuman", "name": "No Double Yakuman", "desc": "Disable double yakuman. Yakuman still stacks, but each yaku that typically awards double yakuman only awards one stack of yakuman."},
    {"id": "yakuman_only", "conflicts": ["yaku/paarenchan"], "order": 1, "name": "Yakuman Only", "desc": "Allow only yakuman-scoring hands."},
    {"id": "wareme", "name": "Wareme", "desc": "In each round, the player whose wall is broken is given the wareme marker. If the wareme player wins, they are paid double the amount of points. If the wareme player has to pay points, they pay double the amount of points. Riichi sticks and honba payments are not affected."},
    {"id": "aotenjou", "order": 1, "name": "Aotenjou", "desc": "Removes limit hands. Score grows exponentially with han according to the formula 4 * fu * 2^(2+han). Not recommended with tobi enabled."},
    {"id": "yakitori", "name": "Yakitori", "desc": "If you do not win any hands by the end of the game, you pay 4000 points to each player as a penalty."},
    {"id": "shuugi", "order": 1, "name": "Shuugi", "desc": "Play with shuugi (poker chips). Players start with zero shuugi, each is worth 2000 points each at the end. Win payments include shuugi along with points. On ron you get shuugi from the discarder; on tsumo you get shuugi from everyone. Each aka, ura, and ippatsu is worth one shuugi. Yakuman is worth 5 shuugi."},
    {"id": "toriuchi", "deps": ["shuugi"], "name": "Toriuchi", "desc": "On ron, each 1s (bird) tile is worth 1 shuugi, unless the discarder's hand contains 7p (pistol) which would shoot the birds dead. That is, unless your hand contains 8s (birdcage) which would protect the birds from gunfire."},
    "Abortive Draws",
    {"id": "suukaikan", "name": "Suukaikan", "desc": "Enable 4 kan abortive draw."},
    {"id": "sanchahou", "conflicts": ["head_bump"], "name": "Sanchahou", "desc": "Enable triple ron abortive draw."},
    {"id": "kyuushu_kyuuhai", "name": "Kyuushu Kyuuhai", "desc": "Enable 9 distinct terminal/honor abortive draw."},
    "Dora",
    {"id": "dora", "name": "Dora", "desc": "Enables dora."},
    {"id": "ura", "deps": ["dora"], "name": "Ura", "desc": "Enables ura dora."},
    {"id": "aka", "conflicts": ["chinitsu"], "name": "Aka", "desc": "Enables aka dora (red fives)."},
    {"id": "kandora", "deps": ["dora"], "name": "Kandora", "desc": "Enables dora flip on kan."},
    "Yaku",
    {"id": "ippatsu", "name": "Ippatsu", "desc": "Enables ippatsu."},
    {"id": "renhou", "name": "Renhou", "desc": "Enable renhou yakuman."},
    {"id": "tsubame_gaeshi", "name": "Tsubame Gaeshi", "desc": "Local yaku. 1 han if you win off a riichi declaration discard."},
    {"id": "shiiaru_raotai", "name": "Shiiaru Raotai", "desc": "Local yaku. 1 han if you win with four calls (and therefore on a single tile wait). Closed kans are permitted."},
    {"id": "kanburi", "name": "Kanburi", "desc": "Local yaku. 1 han if you win off the tile discarded by a player who just called kan."},
    {"id": "sanrenkou", "name": "Sanrenkou", "desc": "Local yaku. 2 han for having three triplets of the same suit in sequence, like 222,333,444."},
    {"id": "uumensai", "name": "Uumensai", "desc": "Local yaku. 2 han if your hand includes all five suits (character, circle, bamboo, wind, dragon)."},
    {"id": "paarenchan", "name": "Paarenchan", "desc": "The eighth consecutive dealer win is worth Yakuman. Exhaustive and abortive draws break the streak."},
    "Other",
    {"id": "show_waits", "name": "Show Waits", "desc": "Add some UI that shows waits."},
    {"id": "open_hands", "name": "Open Hands", "desc": "Everyone plays with tiles shown."},
    {"id": "ten", "name": "Ten", "desc": "Adds 10m, 10p, and 10s. Changes dora accordingly (if dora is enabled). Tanyao now allows nines, and chanta/junchan/honroutou require tens instead. 13 Orphans now requires the ten instead of the nine of each suit. Ittsu is unchanged."},
    {"id": "star_suit", "name": "Star Suit (beta)", "desc": "Adds a fourth suit (stars). This suit does not form yaku. This mod is in beta because we should probably write some yaku for it."},
    {"id": "space", "name": "Space Mahjong", "desc": "Sequences can wrap (891, 912). Winds and dragons can make sequences. You can chii from any direction. Chiitoitsu is disabled. Open kokushi is allowed and worth 3 han."},
    {"id": "galaxy", "conflicts": ["chinitsu"], "name": "Galaxy Mahjong", "desc": "Replaces one of each tile with a blue 'galaxy' tile that acts as a wildcard of its number. For example, galaxy 3s can be used as 3m, 3p, or 3s. Galaxy winds are wind wildcards, and galaxy dragons are dragon wildcards."},
    {"id": "fifth_tile", "conflicts": ["chinitsu"], "name": "Fifth Tile", "desc": "Adds a fifth copy of every standard tile."},
    {"id": "no_honors", "conflicts": ["shiro_pocchi", "golden_chun", "blue_dragon"], "name": "No Honors", "desc": "Removes the honor tiles (winds and dragons) from the game."},
    {"id": "shiro_pocchi", "conflicts": ["no_honors", "chinitsu"], "name": "Shiro Pocchi", "desc": "One of the white dragons is shiro pocchi. Shiro pocchi acts a joker tile when drawn while in riichi."},
    {"id": "golden_chun", "deps": ["shiro_pocchi"], "conflicts": ["no_honors", "chinitsu"], "name": "Golden Chun", "desc": "One of each dragon tile is a special tile. The special white dragon is shiro pocchi, which acts a joker tile when drawn while in riichi. The special green dragon is an aka dora. The special red dragon is the golden chun, which acts as a joker for any five, and grants 1 han when used as a five. Completing a hand via shiro pocchi while using the golden chun as a five and having the aka green dragon scores yakuman."},
    {"id": "blue_dragon", "conflicts": ["no_honors", "chinitsu"], "name": "Blue Dragon (beta)", "desc": "Adds the Chinese blue-framed white dragon as a fourth dragon tile (hakuban). Yaku treats it as an honor tile. Shousangen is reduced to 1 han (+2 from dragons) and Daisangen is reduced to 2 han (+3 from dragons). Adds Shousuugen (3 dragons + dragon pair) as yakuman and Daisuugen (4 dragons) as double yakuman. This mod is in beta because pao is not yet implemented for blue dragon."},
    {"id": "shouhai", "name": "Shouhai", "desc": "Reduces tiles in hand from 13 to 12. The goal is to achieve a tenpai hand rather than a winning hand. The idea is that your 13th tile is replaced with an invisible 'joker' tile that can be used to complete any hand."},
    {"id": "chinitsu", "conflicts": ["aka", "galaxy", "fifth_tile", "shiro_pocchi", "golden_chun", "blue_dragon"], "name": "Chinitsu", "desc": "Replace the wall with 16 copies of each bamboo tile. Includes 10s if Ten is enabled."},
    {"id": "washizu", "order": 1, "name": "Washizu", "desc": "Each tile in the wall is transparent and visible to all, except for one copy. Unflipped dora indicators are not visible."},
    {"id": "calls_are_forced", "name": "Calls Are Forced", "desc": "Forces you to make all available calls, including riichi. You still get to choose if multiple calls are available."},
    {"id": "riichi_jp", "name": "Japanese Yaku Names", "desc": "Display yaku names in Japanese."}
  ],
  "wall": ["1m", "1m", "1m", "1m",
           "9m", "9m", "9m", "9m",
           "1p", "1p", "1p", "1p",
           "2p", "2p", "2p", "2p",
           "3p", "3p", "3p", "3p",
           "4p", "4p", "4p", "4p",
           "5p", "5p", "5p", "5p",
           "6p", "6p", "6p", "6p",
           "7p", "7p", "7p", "7p",
           "8p", "8p", "8p", "8p",
           "9p", "9p", "9p", "9p",
           "1s", "1s", "1s", "1s",
           "2s", "2s", "2s", "2s",
           "3s", "3s", "3s", "3s",
           "4s", "4s", "4s", "4s",
           "5s", "5s", "5s", "5s",
           "6s", "6s", "6s", "6s",
           "7s", "7s", "7s", "7s",
           "8s", "8s", "8s", "8s",
           "9s", "9s", "9s", "9s",
           "1z", "1z", "1z", "1z",
           "2z", "2z", "2z", "2z",
           "3z", "3z", "3z", "3z",
           "4z", "4z", "4z", "4z",
           "5z", "5z", "5z", "5z",
           "6z", "6z", "6z", "6z",
           "7z", "7z", "7z", "7z"],
  "reserved_tiles": [
    "kandraw_1", "kandraw_2",
    "kandraw_3", "kandraw_4",
    "kandraw_5", "kandraw_6",
    "kandraw_7", "kandraw_8"
  ],
  "revealed_tiles": [],
  "max_revealed_tiles": 0,
  "set_definitions": {
    "pair": [0, 0],
    "shuntsu": [0, 1, 2],
    "koutsu": [0, 0, 0],
    "quad": [0, 0, 0, 0],
    "ryanmen/penchan": [0, 1],
    "kanchan": [0, 2],
    "iipeikou": [0, 0, 1, 1, 2, 2],
    "ittsu": [[0,1,2],[3,4,5],[6,7,8]],
    "sanshoku_doujun": [[0,1,2],[10,11,12],[20,21,22]],
    "sanshoku_doukou": [[0,0,0],[10,10,10],[20,20,20]],
    "ton": ["1z", "1z", "1z"],
    "nan": ["2z", "2z", "2z"],
    "shaa": ["3z", "3z", "3z"],
    "pei_triplet": ["4z", "4z", "4z"],
    "haku": ["5z", "5z", "5z"],
    "hatsu": ["6z", "6z", "6z"],
    "chun": ["7z", "7z", "7z"],
    "ton_pair": ["1z", "1z"],
    "nan_pair": ["2z", "2z"],
    "shaa_pair": ["3z", "3z"],
    "pei_pair": ["4z", "4z"],
    "haku_pair": ["5z", "5z"],
    "hatsu_pair": ["6z", "6z"],
    "chun_pair": ["7z", "7z"],
    "junchan_1": ["1m","1m","1m"],
    "junchan_2": ["1p","1p","1p"],
    "junchan_3": ["1s","1s","1s"],
    "junchan_4": ["1m","2m","3m"],
    "junchan_5": ["1p","2p","3p"],
    "junchan_6": ["1s","2s","3s"],
    "junchan_7": ["7m","8m","9m"],
    "junchan_8": ["7p","8p","9p"],
    "junchan_9": ["7s","8s","9s"],
    "junchan_10": ["9m","9m","9m"],
    "junchan_11": ["9p","9p","9p"],
    "junchan_12": ["9s","9s","9s"],
    "junchan_pair_1": ["1m","1m"],
    "junchan_pair_2": ["1p","1p"],
    "junchan_pair_3": ["1s","1s"],
    "junchan_pair_4": ["9m","9m"],
    "junchan_pair_5": ["9p","9p"],
    "junchan_pair_6": ["9s","9s"],
    "orphans_all": ["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"],
    "chuurenpoutou": [0,0,0,1,2,3,4,5,6,7,8,8,8]
  },
  "tenpai_definition": [
    [ "exhaustive", [["pair"], 1], [["ryanmen/penchan", "kanchan", "pair"], 1], [["shuntsu", "koutsu"], 3] ],
    [ "exhaustive", [["shuntsu", "koutsu"], 4] ],
    [ [["koutsu"], -1], [["pair"], 6] ],
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 12],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 1]
    ]
  ],
  "iishanten_definition": [
    [ "exhaustive", [["pair"], 1], [["ryanmen/penchan", "kanchan", "pair"], 2], [["shuntsu", "koutsu"], 2] ],
    [ "exhaustive", [["ryanmen/penchan", "kanchan", "pair"], 1], [["shuntsu", "koutsu"], 3] ],
    [ [["quad"], -1], [["koutsu"], -2], [["pair"], 5] ],
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 11],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 1]
    ]
  ],
  "ryanshanten_definition": [
    [ "exhaustive", [["pair"], 1], [["ryanmen/penchan", "kanchan", "pair"], 3], [["shuntsu", "koutsu"], 1] ],
    [ "exhaustive", [["ryanmen/penchan", "kanchan", "pair"], 3], [["shuntsu", "koutsu"], 2] ],
    [ "exhaustive", [["pair"], 1], [["ryanmen/penchan", "kanchan", "pair"], 1], [["shuntsu", "koutsu"], 2] ],
    [ "exhaustive", [["shuntsu", "koutsu"], 3] ],
    [ [["pair"], 4] ],
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 10],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 1]
    ]
  ],
  "sanshanten_definition": [
    [ "exhaustive", [["pair"], 1], [["ryanmen/penchan", "kanchan", "pair"], 4] ],
    [ "exhaustive", [["pair"], 1], [["ryanmen/penchan", "kanchan", "pair"], 2], [["shuntsu", "koutsu"], 1] ],
    [ "exhaustive", [["ryanmen/penchan", "kanchan", "pair"], 4], [["shuntsu", "koutsu"], 1] ],
    [ "exhaustive", [["ryanmen/penchan", "kanchan", "pair"], 1], [["shuntsu", "koutsu"], 2] ],
    [ "exhaustive", [["shuntsu", "koutsu"], 3] ],
    [ [["pair"], 3] ],
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 9],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 1]
    ]
  ],
  "tenpai_14_definition": [
    [ "exhaustive", [["pair"], 1], [["ryanmen/penchan", "kanchan", "pair"], 1], [["shuntsu", "koutsu"], 3] ],
    [ "exhaustive", [["shuntsu", "koutsu"], 4] ],
    [ [["quad"], -1], [["koutsu"], -2], [["pair"], 6] ]
  ],
  "kokushi_tenpai_definition": [
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 12],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 1]
    ]
  ],
  "win_definition": [
    [ "exhaustive", [["pair"], 1], [["shuntsu", "koutsu"], 4] ],
    [ [["quad"], -1], [["pair"], 7] ],
    [ "unique",
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 13],
      [["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"], 1]
    ]
  ],
  "standard_win_definition": [
    [ "exhaustive", [["pair"], 1], [["shuntsu", "koutsu"], 4] ]
  ],
  "shousuushii_definition": [
    [[["ton"], 1], [["nan"], 1], [["shaa"], 1], [["pei_pair"], 1]],
    [[["ton"], 1], [["nan"], 1], [["shaa_pair"], 1], [["pei_triplet"], 1]],
    [[["ton"], 1], [["nan_pair"], 1], [["shaa"], 1], [["pei_triplet"], 1]],
    [[["ton_pair"], 1], [["nan"], 1], [["shaa"], 1], [["pei_triplet"], 1]]
  ],
  "daisuushii_definition": [
    [[["ton"], 1], [["nan"], 1], [["shaa"], 1], [["pei_triplet"], 1]]
  ],
  "yaku": [
    { "display_name": "Riichi", "value": 1, "when": [{"name": "status", "opts": ["riichi"]}] },
    { "display_name": "Tsumo", "value": 1, "when": ["won_by_draw", {"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}] },
    { "display_name": "Chankan", "value": 1, "when": ["won_by_call"] },
    { "display_name": "Rinshan", "value": 1, "when": [{"name": "status", "opts": ["kan"]}] },
    { "display_name": "Haitei", "value": 1, "when": ["no_tiles_remaining", "won_by_draw"] },
    { "display_name": "Houtei", "value": 1, "when": ["no_tiles_remaining", "not_won_by_draw"] },
    {
      "display_name": "Pinfu",
      "value": 1,
      "when": [
        {"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]},
        {"name": "match", "opts": [["hand", "calls", "winning_tile"], ["standard_win"]]},
        [["won_by_draw", {"name": "fu_equals", "opts": [20]}], ["not_won_by_draw", {"name": "fu_equals", "opts": [30]}]]
      ]
    },
    { "display_name": "Tanyao", "value": 1, "when": [{"name": "winning_hand_and_tile_consists_of", "opts": ["2m","3m","4m","5m","6m","7m","8m","2p","3p","4p","5p","6p","7p","8p","2s","3s","4s","5s","6s","7s","8s"]}] },
    {
      "display_name": "Iipeikou",
      "value": 1,
      "when": [
        {"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]},
        {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["iipeikou"], 1], [["shuntsu", "koutsu"], 2], [["pair"], 1] ]]]}
      ]
    },
    { "display_name": "Haku", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["haku"], 1]]]]}] },
    { "display_name": "Hatsu", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["hatsu"], 1]]]]}] },
    { "display_name": "Chun", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["chun"], 1]]]]}] },
    {
      "display_name": "Round Wind",
      "value": 1,
      "when": [[
        [{"name": "round_wind_is", "opts": ["east"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["ton"], 1]]]]}],
        [{"name": "round_wind_is", "opts": ["south"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["nan"], 1]]]]}],
        [{"name": "round_wind_is", "opts": ["west"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["shaa"], 1]]]]}],
        [{"name": "round_wind_is", "opts": ["north"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["pei_triplet"], 1]]]]}]
      ]]
    },
    {
      "display_name": "Seat Wind",
      "value": 1,
      "when": [[
        [{"name": "seat_is", "opts": ["east"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["ton"], 1]]]]}],
        [{"name": "seat_is", "opts": ["south"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["nan"], 1]]]]}],
        [{"name": "seat_is", "opts": ["west"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["shaa"], 1]]]]}],
        [{"name": "seat_is", "opts": ["north"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["pei_triplet"], 1]]]]}]
      ]]
    },
    { "display_name": "Double Riichi", "value": 2, "when": [{"name": "status", "opts": ["double_riichi"]}] },
    { "display_name": "Chiitoitsu", "value": 2, "when": [{"name": "match", "opts": [["hand", "winning_tile"], [[[["quad"], -1], [["pair"], 7]]]]}] },
    {
      "display_name": "Chanta",
      "value": 1,
      "when": [
        {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[
          [["junchan_1", "junchan_2", "junchan_3", "junchan_4", "junchan_5", "junchan_6", "junchan_7", "junchan_8", "junchan_9", "junchan_10", "junchan_11", "junchan_12", "ton", "nan", "shaa", "pei_triplet", "haku", "hatsu", "chun"], 4],
          [["junchan_pair_1", "junchan_pair_2", "junchan_pair_3", "junchan_pair_4", "junchan_pair_5", "junchan_pair_6", "ton_pair", "nan_pair", "shaa_pair", "pei_pair", "haku_pair", "hatsu_pair", "chun_pair"], 1]
        ]]]}
      ]
    },
    { "display_name": "Ittsu", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [["exhaustive", [["ittsu"], 1], [["shuntsu", "koutsu"], 1], [["pair"], 1] ]]]}] },
    { "display_name": "Sanshoku", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [["exhaustive", [["sanshoku_doujun"], 1], [["shuntsu", "koutsu"], 1], [["pair"], 1] ]]]}] },
    { "display_name": "Sanshoku Doukou", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [["exhaustive", [["sanshoku_doukou"], 1], [["shuntsu", "koutsu"], 1], [["pair"], 1] ]]]}] },
    { "display_name": "Sankantsu", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ [["daiminkan", "ankan", "kakan"], 3] ]]]}] },
    { "display_name": "Toitoi", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ [["koutsu"], 4], [["pair"], 1] ]]]}] },
    {
      "display_name": "Sanankou",
      "value": 2,
      "when": [[
        // 0-1 open triplets, hand must be 4 triplets and a pair
        {"name": "match", "opts": [["hand", "calls"], [[ [["pon", "daiminkan", "kakan"], -2], [["koutsu"], 4], [["pair"], 1] ]]]},
        // 0 open triplets, hand must be 3 triplets and a pair
        {"name": "match", "opts": [["hand", "calls"], [[ [["pon", "daiminkan", "kakan"], -1], [["koutsu"], 3], [["shuntsu"], 1], [["pair"], 1] ]]]},
        [
          "won_by_draw",
          {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ [["pon", "daiminkan", "kakan"], -1], [["koutsu"], 3], [["shuntsu", "koutsu"], 1], [["pair"], 1] ]]]}
        ]
      ]]
    },
    { "display_name": "Shousangen", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ [["haku", "hatsu", "chun"], 2], [["haku_pair", "hatsu_pair", "chun_pair"], 1] ]]]}] },
    { "display_name": "Honroutou", "value": 2, "when": [{"name": "winning_hand_consists_of", "opts": ["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","5z","6z","7z"]}] },
    { "display_name": "Ryanpeikou", "value": 3, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[ "exhaustive", [["iipeikou"], 2], [["pair"], 1] ]]]}] },
    {
      "display_name": "Junchan",
      "value": 2,
      "when": [
        {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[
          [["junchan_1", "junchan_2", "junchan_3", "junchan_4", "junchan_5", "junchan_6", "junchan_7", "junchan_8", "junchan_9", "junchan_10", "junchan_11", "junchan_12"], 4],
          [["junchan_pair_1", "junchan_pair_2", "junchan_pair_3", "junchan_pair_4", "junchan_pair_5", "junchan_pair_6"], 1]
        ]]]}
      ]
    },  
    {
      "display_name": "Honitsu",
      "value": 2,
      "when": [[
        {"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","4m","5m","6m","7m","8m","9m","1z","2z","3z","4z","5z","6z","7z"]},
        {"name": "winning_hand_consists_of", "opts": ["1p","2p","3p","4p","5p","6p","7p","8p","9p","1z","2z","3z","4z","5z","6z","7z"]},
        {"name": "winning_hand_consists_of", "opts": ["1s","2s","3s","4s","5s","6s","7s","8s","9s","1z","2z","3z","4z","5z","6z","7z"]}
      ]]
    },
    {
      "display_name": "Chinitsu",
      "value": 5,
      "when": [[
        {"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","4m","5m","6m","7m","8m","9m"]},
        {"name": "winning_hand_consists_of", "opts": ["1p","2p","3p","4p","5p","6p","7p","8p","9p"]},
        {"name": "winning_hand_consists_of", "opts": ["1s","2s","3s","4s","5s","6s","7s","8s","9s"]}
      ]]
    }
  ],
  "meta_yaku": [
    // closed hand upgrades certain yaku
    { "display_name": "Chanta", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Chanta"]}] },
    { "display_name": "Ittsu", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Ittsu"]}] },
    { "display_name": "Sanshoku", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Sanshoku"]}] },
    { "display_name": "Junchan", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Junchan"]}] },
    { "display_name": "Honitsu", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Honitsu"]}] },
    { "display_name": "Chinitsu", "value": 1, "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}, {"name": "has_existing_yaku", "opts": ["Chinitsu"]}] }
  ],
  "yakuman": [
    { "display_name": "Tenhou", "value": 1, "when": [{"name": "status", "opts": ["discards_empty"]}, "won_by_draw", {"name": "seat_is", "opts": ["east"]}] },
    { "display_name": "Chiihou", "value": 1, "when": [{"name": "status", "opts": ["discards_empty"]}, "won_by_draw", {"name": "not_seat_is", "opts": ["east"]}] },
    { "display_name": "Daisangen", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["haku"], 1], [["hatsu"], 1], [["chun"], 1]]]]}] },
    {
      "display_name": "Suuankou",
      "value": 1,
      "when": [
        "won_by_draw",
        {"name": "has_no_call_named", "opts": ["pon", "daiminkan", "kakan"]},
        {"name": "match", "opts": [["hand", "calls"], [[[["koutsu"], 3], [["pair"], 2]]]]}
      ]
    },
    {
      "display_name": "Suuankou Tanki",
      "value": 2,
      "when": [
        {"name": "has_no_call_named", "opts": ["pon", "daiminkan", "kakan"]},
        {"name": "match", "opts": [["hand", "calls"], [[[["koutsu"], 4]]]]}
      ]
    },
    { "display_name": "Tsuuiisou", "value": 1, "when": [{"name": "winning_hand_consists_of", "opts": ["1z","2z","3z","4z","5z","6z","7z"]}] },
    { "display_name": "Ryuuiisou", "value": 1, "when": [{"name": "winning_hand_consists_of", "opts": ["2s","3s","4s","6s","8s","6z"]}] },
    { "display_name": "Chinroutou", "value": 1, "when": [{"name": "winning_hand_consists_of", "opts": ["1m","9m","1p","9p","1s","9s"]}] },
    { "display_name": "Chuurenpoutou", "value": 1, "when": [{"name": "match", "opts": [["hand", "winning_tile"], [[[["chuurenpoutou"], 1]]]]}] },
    { "display_name": "Junsei Chuurenpoutou", "value": 2, "when": [{"name": "match", "opts": [["hand"], [[[["chuurenpoutou"], 1]]]]}] },
    { "display_name": "Kokushi Musou", "value": 1, "when": [{"name": "match", "opts": [["hand", "winning_tile"], [[[["orphans_all"], 1]]]]}] },
    { "display_name": "Kokushi Musou Juusan Menmachi", "value": 2, "when": [{"name": "match", "opts": [["hand"], [[[["orphans_all"], 1]]]]}] },
    { "display_name": "Daisuushii", "value": 2, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["daisuushii"]]}] },
    { "display_name": "Shousuushii", "value": 1, "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["shousuushii"]]}] },
    { "display_name": "Suukantsu", "value": 1, "when": [{"name": "match", "opts": [["calls"], [[[["daiminkan", "ankan", "kakan"], 4]]]]}] }
  ],
  "meta_yakuman": [
    // tenhou upgrades certain yakuman to double yakuman
    { "display_name": "Suuankou Tanki", "value": 2, "when": [{"name": "not_has_existing_yaku", "opts": ["Suuankou Tanki"]}, {"name": "has_existing_yaku", "opts": ["Tenhou", "Suuankou"]}] },
    { "display_name": "Junsei Chuurenpoutou", "value": 2, "when": [{"name": "not_has_existing_yaku", "opts": ["Junsei Chuurenpoutou"]}, {"name": "has_existing_yaku", "opts": ["Tenhou", "Chuurenpoutou"]}] },
    { "display_name": "Kokushi Musou Juusan Menmachi", "value": 2, "when": [{"name": "not_has_existing_yaku", "opts": ["Kokushi Musou Juusan Menmachi"]}, {"name": "has_existing_yaku", "opts": ["Tenhou", "Kokushi Musou"]}] }
  ],
  "extra_yaku": [
    {
      "display_name": "Pei",
      "value": "nukidora",
      "when": [{"name": "counter_at_least", "opts": ["nukidora", 1]}]
    }
  ],
  "yaku_precedence": {
    "Double Riichi": ["Riichi"],
    "Chinitsu": ["Honitsu"],
    "Chiitoitsu": ["Iipeikou"],
    "Ryanpeikou": ["Iipeikou", "Chiitoitsu"],
    "Junchan": ["Chanta"],
    "Honroutou": ["Chanta", "Junchan"],
    "Suuankou Tanki": ["Suuankou"],
    "Junsei Chuurenpoutou": ["Chuurenpoutou"],
    "Kokushi Musou Juusan Menmachi": ["Kokushi Musou"],
    "Daisuushii": ["Shousuushii"]
  },
  "yaku_alt_names": {
    "Riichi": "立直",
    "Tsumo": "門前清自摸和",
    "Ippatsu": "一発",
    "Chankan": "槍槓",
    "Rinshan": "嶺上開花",
    "Haitei": "海底摸月",
    "Houtei": "河底撈魚",
    "Pinfu": "平和",
    "Tanyao": "断幺九",
    "Iipeikou": "一盃口",
    "Seat Wind": "自風",
    "Round Wind": "場風",
    "Haku": "役牌 白",
    "Hatsu": "役牌 發",
    "Chun": "役牌 中",
    "Double Riichi": "ダブル立直",
    "Chiitoitsu": "七対子",
    "Chanta": "混全帯幺九",
    "Ittsu": "一気通貫",
    "Sanshoku": "三色同順",
    "Sanshoku Doukou": "三色同刻",
    "Sankantsu": "三槓子",
    "Toitoi": "対々和",
    "Sanankou": "三暗刻",
    "Shousangen": "小三元",
    "Honroutou": "混老頭",
    "Ryanpeikou": "二盃口",
    "Junchan": "純全帯幺九",
    "Honitsu": "混一色",
    "Chinitsu": "清一色",
    "Renhou": "人和",
    "Tenhou": "天和",
    "Chiihou": "地和",
    "Daisangen": "大三元",
    "Suuankou": "四暗刻",
    "Suuankou Tanki": "四暗刻単騎",
    "Tsuuiisou": "字一色",
    "Ryuuiisou": "緑一色",
    "Chinroutou": "清老頭",
    "Chuurenpoutou": "九蓮宝燈",
    "Junsei Chuurenpoutou": "純正九蓮宝燈",
    "Kokushi Musou": "国士無双",
    "Kokushi Musou Juusan Menmachi": "国士無双十三面待ち",
    "Daisuushii": "大四喜",
    "Shousuushii": "小四喜",
    "Suukantsu": "四槓子",
    "Dora": "ドラ",
    "Ura": "裏ドラ",
    "Aka": "赤ドラ"
  },
  "score_calculation": {
    "scoring_method": ["han_fu_formula", "multiplier"],
    "score_multiplier": 32000, // this is for yakuman
    "dealer_multiplier": 1.5, // this is for yakuman
    "score_name": "Yakuman",
    "limit_thresholds": [
      [3, 70], [4, 40], [5, 0],
      [6, 0],
      [8, 0],
      [11, 0],
      [13, 0]
    ],
    "limit_scores": [
      8000, 8000, 8000,
      12000,
      16000,
      24000,
      32000
    ],
    "limit_names": [
      "Mangan", "Mangan", "Mangan",
      "Haneman",
      "Baiman",
      "Sanbaiman",
      "Kazoe Yakuman"
    ],
    "yaku_lists": ["yaku", "extra_yaku"],
    "yaku2_lists": ["yakuman"],
    "extra_yaku_lists": ["extra_yaku"],
    "pao_eligible_yaku": ["Daisangen", "Daisuushii"],
    "yaku2_overrides_yaku1": true,
    "draw_tenpai_payments": [1000, 2000, 0],
    "draw_nagashi_payments": [2000, 4000],
    "tsumo_loss": true,
    "split_oya_ko_payment": true,
    "agarirenchan": true,
    "tenpairenchan": true,
    "riichi_value": 1000,
    "honba_value": 100,
    "right_display": "minipoints",
    "point_name": "Han",
    "point2_name": "★",
    "minipoint_name": "Fu",
    "win_by_discard_label": "Ron",
    "win_by_draw_label": "Tsumo",
    "win_by_discard_name": "Ron",
    "win_by_discard_name_2": "Double Ron",
    "win_by_discard_name_3": "Triple Ron",
    "win_by_draw_name": "Tsumo",
    "win_with_pao_name": "Sekinin Barai",
    "triple_win_draw_name": "Sanchahou",
    "exhaustive_draw_name": "Ryuukyoku",
    "nagashi_name": "Nagashi Mangan"
  },
  "play_restrictions": [
    [["any"], [{"name": "status", "opts": ["riichi"]}, {"name": "status_missing", "opts": ["just_reached"]}, "not_is_drawn_tile"]],
    [["any"], [{"name": "status", "opts": ["riichi", "just_reached"]}, {"name": "needed_for_hand", "opts": ["tenpai"]}]],
    [["any"], ["just_called", {"name": "last_called_tile_matches", "opts": ["kuikae"]}]]
  ],
  "functions": {
    // this is run after every call and discard, before the turn changes
    "turn_cleanup": [
      // if we just reached then place down a riichi stick
      ["when", [{"name": "status", "opts": ["just_reached"]}], [["add_score", -1000], ["put_down_riichi_stick"]]],
      // unset furiten (unless in riichi)
      ["when", [{"name": "status_missing", "opts": ["riichi"]}], [["unset_status", "furiten"]]],
      // tenpai check
      ["ite", [{"name": "match", "opts": [["hand", "calls", "draw"], ["tenpai"]]}], [["set_status", "tenpai"]], [["unset_status", "tenpai"]]]
    ],
    "discard_passed": [
      // unset temporary statuses from others
      ["as", "others", [["unset_status", "just_reached", "kan", "pei"]]],
      // furiten check
      ["when_anyone",
        [[
          {"name": "match", "opts": [["hand", "calls", "last_discard"], ["win"]]},
          [
            {"name": "last_call_is", "opts": ["kakan"]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ],
          [
            {"name": "last_call_is", "opts": ["ankan"]},
            {"name": "match", "opts": [["hand", "calls", "draw"], ["kokushi_tenpai"]]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ]
        ]],
        [["set_status", "furiten"]]
      ]
    ],
    "do_kan_draw": [
      ["shift_tile_to_dead_wall", 1],
      ["set_status", "$status"],
      ["when", [{"name": "tile_drawn", "opts": ["kandraw_7"]}, {"name": "tile_not_drawn", "opts": ["kandraw_8"]}], [["draw", 1, "kandraw_8"]]],
      ["when", [{"name": "tile_drawn", "opts": ["kandraw_6"]}, {"name": "tile_not_drawn", "opts": ["kandraw_7"]}], [["draw", 1, "kandraw_7"]]],
      ["when", [{"name": "tile_drawn", "opts": ["kandraw_5"]}, {"name": "tile_not_drawn", "opts": ["kandraw_6"]}], [["draw", 1, "kandraw_6"]]],
      ["when", [{"name": "tile_drawn", "opts": ["kandraw_4"]}, {"name": "tile_not_drawn", "opts": ["kandraw_5"]}], [["draw", 1, "kandraw_5"]]],
      ["when", [{"name": "tile_drawn", "opts": ["kandraw_3"]}, {"name": "tile_not_drawn", "opts": ["kandraw_4"]}], [["draw", 1, "kandraw_4"]]],
      ["when", [{"name": "tile_drawn", "opts": ["kandraw_2"]}, {"name": "tile_not_drawn", "opts": ["kandraw_3"]}], [["draw", 1, "kandraw_3"]]],
      ["when", [{"name": "tile_drawn", "opts": ["kandraw_1"]}, {"name": "tile_not_drawn", "opts": ["kandraw_2"]}], [["draw", 1, "kandraw_2"]]],
      ["when", [{"name": "tile_not_drawn", "opts": ["kandraw_1"]}], [["draw", 1, "kandraw_1"]]]
    ]
  },
  "before_turn_change": {
    "actions": [
      ["run", "turn_cleanup"],
      // add furiten due to discards
      ["when", [{"name": "status", "opts": ["tenpai"]}, {"name": "match", "opts": [["hand", "calls", "any_discard"], ["win"]]}], [["set_status", "furiten"]]]
    ]
  },
  "after_turn_change": {
    "actions": [
      ["run", "discard_passed"],
      // either draw a tile, or declare exhaustive draw
      ["ite", ["no_tiles_remaining"], [["pause", 1000], ["ryuukyoku"]], [["draw"]]]
    ]
  },
  "before_call": {
    "actions": [["run", "turn_cleanup"], ["unset_status_all", "discards_empty"]]
  },
  "after_call": {
    "actions": [["run", "discard_passed"]]
  },
  "after_start": {
    "actions": [
      ["set_status_all", "discards_empty"]
    ]
  },
  "before_win": {
    "actions": [
      ["add_counter", "nukidora", "count_matches", ["calls"], [[[["pei"], 1]]]]
    ]
  },
  "buttons": {
    "pon": {
      "display_name": "Pon",
      "call": [[0, 0]],
      "call_style": {"kamicha": ["call_sideways", 0, 1], "toimen": [0, "call_sideways", 1], "shimocha": [0, 1, "call_sideways"]},
      "show_when": ["not_our_turn", "not_no_tiles_remaining", "someone_else_just_discarded", {"name": "status_missing", "opts": ["riichi"]}, "call_available"],
      "actions": [["big_text", "Pon"], ["call"], ["change_turn", "self"]],
      "precedence_over": ["pon"]
    },
    "daiminkan": {
      "display_name": "Kan",
      "call": [[0, 0, 0]],
      "call_style": {"kamicha": ["call_sideways", 0, 1, 2], "toimen": [0, "call_sideways", 1, 2], "shimocha": [0, 1, 2, "call_sideways"]},
      "show_when": [
        "not_our_turn", "not_no_tiles_remaining", "someone_else_just_discarded", {"name": "status_missing", "opts": ["riichi"]}, "call_available",
        {"name": "not_match", "opts": [["all_calls"], [[[["daiminkan", "ankan", "kakan"], 4]]]]},
        {"name": "tile_not_drawn", "opts": ["kandraw_8"]}
      ],
      "actions": [["big_text", "Kan"], ["call"], ["change_turn", "self"], ["run", "do_kan_draw", {"status": "kan"}]],
      "precedence_over": ["chii", "pon", "daiminkan"]
    },
    "ankan": {
      "display_name": "Ankan",
      "call": [[0, 0, 0]],
      "call_style": {"self": [["1x", 2], 0, 1, ["1x", 3]]},
      "call_conditions": [[
        {"name": "not_status", "opts": ["riichi"]},
        {"name": "not_call_changes_waits", "opts": ["win"]}
      ]],
      "show_when": [
        "our_turn", "not_no_tiles_remaining", "has_draw", {"name": "status_missing", "opts": ["just_reached"]}, "self_call_available",
        {"name": "not_match", "opts": [["all_calls"], [[[["daiminkan", "ankan", "kakan"], 4]]]]},
        {"name": "tile_not_drawn", "opts": ["kandraw_8"]},
        [
          {"name": "not_status", "opts": ["riichi"]},
          {"name": "not_call_would_change_waits", "opts": ["win"]}
        ]
      ],
      "actions": [["big_text", "Kan"], ["self_call"], ["run", "do_kan_draw", {"status": "kan"}]]
    },
    "kakan": {
      "display_name": "Kan",
      "call": [[0, 0, 0]],
      "call_style": {
        "kamicha": [["sideways", 0], "call_sideways", 1, 2],
        "toimen": [0, ["sideways", 1], "call_sideways", 2],
        "shimocha": [0, 1, ["sideways", 2], "call_sideways"]
      },
      "upgrades": "pon",
      "show_when": [
        "our_turn", "not_no_tiles_remaining", "has_draw", "can_upgrade_call", {"name": "status_missing", "opts": ["just_reached"]},
        {"name": "not_match", "opts": [["all_calls"], [[[["daiminkan", "ankan", "kakan"], 4]]]]},
        {"name": "tile_not_drawn", "opts": ["kandraw_8"]}
      ],
      "actions": [["big_text", "Kan"], ["upgrade_call"], ["run", "do_kan_draw", {"status": "kan"}]]
    },
    "riichi": {
      "display_name": "Riichi",
      "show_when": [
        "our_turn",
        "has_draw",
        {"name": "status_missing", "opts": ["riichi"]},
        {"name": "has_score", "opts": [1000]},
        "next_draw_possible",
        {"name": "has_no_call_named", "opts": ["pon", "daiminkan", "kakan"]},
        {"name": "match", "opts": [["hand", "calls", "draw"], ["tenpai_14", "kokushi_tenpai"]]}
      ],
      "actions": [
        ["big_text", "Riichi"],
        ["set_status", "riichi", "just_reached"],
        ["push_message", "declared riichi"],
        ["when", [{"name": "status", "opts": ["discards_empty"]}, "no_calls_yet"], [["set_status", "double_riichi"]]]
      ]
    },
    "ron": {
      "display_name": "Ron",
      "show_when": [
        "not_our_turn",
        {"name": "match", "opts": [["hand", "calls"], ["tenpai"]]},
        {"name": "not_status", "opts": ["furiten"]},
        {"name": "not_status", "opts": ["just_reached"]},
        "someone_else_just_discarded",
        {"name": "match", "opts": [["hand", "calls", "last_discard"], ["win"]]},
        [{"name": "has_yaku_with_discard", "opts": [1]}, {"name": "has_yaku2_with_discard", "opts": [1]}]
      ],
      "actions": [["big_text", "Ron"], ["pause", 1000], ["reveal_hand"], ["win_by_discard"]],
      "precedence_over": ["chii", "pon", "daiminkan"]
    },
    "chankan": {
      "display_name": "Ron",
      "show_when": [
        "not_our_turn",
        {"name": "match", "opts": [["hand", "calls"], ["tenpai"]]},
        {"name": "not_status", "opts": ["furiten"]},
        {"name": "not_status", "opts": ["just_reached"]},
        [
          [
            {"name": "last_call_is", "opts": ["kakan"]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ],
          [
            {"name": "last_call_is", "opts": ["ankan"]},
            {"name": "match", "opts": [["hand", "calls"], ["kokushi_tenpai"]]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ]
        ]
      ],
      "actions": [["big_text", "Ron"], ["pause", 1000], ["reveal_hand"], ["win_by_call"]],
      "precedence_over": ["chii", "pon", "daiminkan"]
    },
    "tsumo": {
      "display_name": "Tsumo",
      "show_when": [
        "our_turn",
        "has_draw",
        {"name": "match", "opts": [["hand", "calls"], ["tenpai"]]},
        {"name": "not_status", "opts": ["just_reached"]},
        {"name": "match", "opts": [["hand", "calls", "draw"], ["win"]]},
        [{"name": "has_yaku_with_hand", "opts": [1]}, {"name": "has_yaku2_with_hand", "opts": [1]}]
      ],
      "actions": [["big_text", "Tsumo"], ["pause", 1000], ["reveal_hand"], ["win_by_draw"]],
      "precedence_over": ["chii", "pon", "daiminkan"]
    },
    "pei": {
      "display_name": "Pei",
      "show_when": ["our_turn", "has_draw", "not_just_discarded", {"name": "not_status", "opts": ["just_reached"]}, {"name": "match", "opts": [["hand", "draw"], [[[["4z"], 1]]]]}, {"name": "tile_not_drawn", "opts": ["kandraw_8"]}],
      "actions": [["big_text", "Pei"], ["flower", "4z"], ["run", "do_kan_draw", {"status": "pei"}]]
    }
  },
  "auto_buttons": {
    "1_auto_sort": {
      "display_name": "A",
      "actions": [["sort_hand"]],
      "enabled_at_start": true
    },
    "2_auto_ron": {
      "display_name": "R",
      "actions": [
        ["when", [{"name": "buttons_include", "opts": ["ron"]}], [["press_button", "ron"]]],
        ["when", [{"name": "buttons_include", "opts": ["tsumo"]}], [["press_button", "tsumo"]]]
      ],
      "enabled_at_start": false
    },
    "3_auto_no_call": {
      "display_name": "C",
      "actions": [
        ["when", [
            "not_our_turn",
            {"name": "buttons_include", "opts": ["skip"]},
            {"name": "buttons_exclude", "opts": ["ron"]}
          ], [["press_button", "skip"]]]
      ],
      "enabled_at_start": false
    },
    "4_auto_discard": {
      "display_name": "D",
      "actions": [["when", ["has_draw"], [["discard_draw"]]]],
      "enabled_at_start": false
    }
  },
  "interruptible_actions": ["play_tile", "draw", "advance_turn", "self_call", "upgrade_call"],
  "shown_statuses": ["furiten"],
  "display_riichi_sticks": true,
  "display_honba": true,
  "display_wall": true,
  "initial_score": 35000,
  "initial_dead_wall_length": 14,
  "starting_tiles": 13,
  "num_players": 3,
  "max_rounds": 8
}
